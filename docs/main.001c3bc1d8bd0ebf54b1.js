(self.webpackChunksolving_app=self.webpackChunksolving_app||[]).push([[179],{8255:Ve=>{function Ce(R){return Promise.resolve().then(()=>{var m=new Error("Cannot find module '"+R+"'");throw m.code="MODULE_NOT_FOUND",m})}Ce.keys=()=>[],Ce.resolve=Ce,Ce.id=8255,Ve.exports=Ce},3018:(Ve,Ce,R)=>{"use strict";R.d(Ce,{deG:()=>a6,tb:()=>fv,AFp:()=>S7,ip1:()=>A7,CZH:()=>h0,hGG:()=>Lv,z2F:()=>Vr,sBO:()=>oC,Sil:()=>tl,_Vd:()=>S2,EJc:()=>y5,SBq:()=>Fi,qLn:()=>qe,vpe:()=>mi,gxx:()=>j6,tBr:()=>Q2,XFs:()=>Fe,OlP:()=>xn,zs3:()=>Ae,ZZ4:()=>vo,aQg:()=>M3,soG:()=>X3,YKP:()=>ng,v3s:()=>px,h0i:()=>Ka,PXZ:()=>lx,R0b:()=>Lr,FiY:()=>jr,Lbi:()=>hv,g9A:()=>J3,Qsj:()=>eC,FYo:()=>Qc,JOm:()=>y2,Tiy:()=>Jc,q3G:()=>mn,tp0:()=>Ii,EAV:()=>P7,Rgc:()=>e4,dDg:()=>gn,DyG:()=>ea,q4F:()=>An,GfV:()=>y1,s_b:()=>N3,ifc:()=>Jt,eFA:()=>bv,G48:()=>ox,Gpc:()=>J,X6Q:()=>w5,_c5:()=>xx,VLi:()=>Cv,c2e:()=>dv,zSh:()=>wc,wAp:()=>mt,vHH:()=>ae,EiD:()=>oc,mCW:()=>rs,qzn:()=>ai,JVY:()=>la,pB0:()=>_6,eBb:()=>y6,L6k:()=>o8,LAX:()=>nc,cg1:()=>je,Tjo:()=>Ao,kL8:()=>ad,yhl:()=>s8,dqk:()=>te,sIi:()=>t3,CqO:()=>Tc,QGY:()=>Dc,F4k:()=>d3,RDi:()=>ks,AaK:()=>T,z3N:()=>p1,qOj:()=>e3,TTD:()=>d1,_Bn:()=>bd,xp6:()=>Hh,uIk:()=>i3,ekj:()=>Fn,Suo:()=>c7,Xpm:()=>kn,lG2:()=>bl,Yz7:()=>Qt,cJS:()=>vn,oAB:()=>xi,Yjl:()=>V4,Y36:()=>Ic,_UZ:()=>za,BQk:()=>jf,ynx:()=>fu,qZA:()=>f3,TgZ:()=>Bf,EpF:()=>M2,n5z:()=>jl,Ikx:()=>Fa,LFG:()=>Ln,$8M:()=>$0,NdJ:()=>du,CRH:()=>l7,oxw:()=>Nc,ALo:()=>Tg,xi3:()=>Ng,Hsn:()=>Jp,F$t:()=>$f,Q6J:()=>Na,DdM:()=>h4,VKq:()=>B3,iGM:()=>Rg,CHM:()=>W4,oJD:()=>ac,LSH:()=>m2,B6R:()=>gr,kYT:()=>Ro,Akn:()=>hi,YNc:()=>Ef,_uU:()=>nd,Oqu:()=>Pa,hij:()=>v3,AsE:()=>bu,Gf:()=>kg});var m=R(9765),U=R(5319),B=R(7574),X=R(6682),oe=R(2441);var H=R(1307);function O(){return new m.xQ}function N(a){for(let c in a)if(a[c]===N)return c;throw Error("Could not find renamed property on target object.")}function k(a,c){for(const l in c)c.hasOwnProperty(l)&&!a.hasOwnProperty(l)&&(a[l]=c[l])}function T(a){if("string"==typeof a)return a;if(Array.isArray(a))return"["+a.map(T).join(", ")+"]";if(null==a)return""+a;if(a.overriddenName)return`${a.overriddenName}`;if(a.name)return`${a.name}`;const c=a.toString();if(null==c)return""+c;const l=c.indexOf("\n");return-1===l?c:c.substring(0,l)}function F(a,c){return null==a||""===a?null===c?"":c:null==c||""===c?a:a+" "+c}const K=N({__forward_ref__:N});function J(a){return a.__forward_ref__=J,a.toString=function(){return T(this())},a}function Q(a){return G(a)?a():a}function G(a){return"function"==typeof a&&a.hasOwnProperty(K)&&a.__forward_ref__===J}class ae extends Error{constructor(c,l){super(function(a,c){return`${a?`NG0${a}: `:""}${c}`}(c,l)),this.code=c}}function me(a){return"string"==typeof a?a:null==a?"":String(a)}function le(a){return"function"==typeof a?a.name||a.toString():"object"==typeof a&&null!=a&&"function"==typeof a.type?a.type.name||a.type.toString():me(a)}function ee(a,c){const l=c?` in ${c}`:"";throw new ae("201",`No provider for ${le(a)} found${l}`)}function ut(a,c){null==a&&function(a,c,l,h){throw new Error(`ASSERTION ERROR: ${a}`+(null==h?"":` [Expected=> ${l} ${h} ${c} <=Actual]`))}(c,a,null,"!=")}function Qt(a){return{token:a.token,providedIn:a.providedIn||null,factory:a.factory,value:void 0}}function vn(a){return{providers:a.providers||[],imports:a.imports||[]}}function In(a){return J1(a,un)||J1(a,on)}function J1(a,c){return a.hasOwnProperty(c)?a[c]:null}function er(a){return a&&(a.hasOwnProperty(yn)||a.hasOwnProperty(gt))?a[yn]:null}const un=N({\u0275prov:N}),yn=N({\u0275inj:N}),on=N({ngInjectableDef:N}),gt=N({ngInjectorDef:N});var Fe=(()=>((Fe=Fe||{})[Fe.Default=0]="Default",Fe[Fe.Host=1]="Host",Fe[Fe.Self=2]="Self",Fe[Fe.SkipSelf=4]="SkipSelf",Fe[Fe.Optional=8]="Optional",Fe))();let Ft;function qt(a){const c=Ft;return Ft=a,c}function Kt(a,c,l){const h=In(a);return h&&"root"==h.providedIn?void 0===h.value?h.value=h.factory():h.value:l&Fe.Optional?null:void 0!==c?c:void ee(T(a),"Injector")}function it(a){return{toString:a}.toString()}var Dn=(()=>((Dn=Dn||{})[Dn.OnPush=0]="OnPush",Dn[Dn.Default=1]="Default",Dn))(),Jt=(()=>((Jt=Jt||{})[Jt.Emulated=0]="Emulated",Jt[Jt.None=2]="None",Jt[Jt.ShadowDom=3]="ShadowDom",Jt))();const t1="undefined"!=typeof globalThis&&globalThis,Vo="undefined"!=typeof window&&window,nn="undefined"!=typeof self&&"undefined"!=typeof WorkerGlobalScope&&self instanceof WorkerGlobalScope&&self,de="undefined"!=typeof global&&global,te=t1||de||Vo||nn,xe={},He=[],ct=N({\u0275cmp:N}),Ot=N({\u0275dir:N}),zt=N({\u0275pipe:N}),Tt=N({\u0275mod:N}),_n=N({\u0275loc:N}),an=N({\u0275fac:N}),Rn=N({__NG_ELEMENT_ID__:N});let Or=0;function kn(a){return it(()=>{const l={},h={type:a.type,providersResolver:null,decls:a.decls,vars:a.vars,factory:null,template:a.template||null,consts:a.consts||null,ngContentSelectors:a.ngContentSelectors,hostBindings:a.hostBindings||null,hostVars:a.hostVars||0,hostAttrs:a.hostAttrs||null,contentQueries:a.contentQueries||null,declaredInputs:l,inputs:null,outputs:null,exportAs:a.exportAs||null,onPush:a.changeDetection===Dn.OnPush,directiveDefs:null,pipeDefs:null,selectors:a.selectors||He,viewQuery:a.viewQuery||null,features:a.features||null,data:a.data||{},encapsulation:a.encapsulation||Jt.Emulated,id:"c",styles:a.styles||He,_:null,setInput:null,schemas:a.schemas||null,tView:null},d=a.directives,g=a.features,_=a.pipes;return h.id+=Or++,h.inputs=Ts(a.inputs,l),h.outputs=Ts(a.outputs),g&&g.forEach(b=>b(h)),h.directiveDefs=d?()=>("function"==typeof d?d():d).map(Ci):null,h.pipeDefs=_?()=>("function"==typeof _?_():_).map(Ds):null,h})}function gr(a,c,l){const h=a.\u0275cmp;h.directiveDefs=()=>c.map(Ci),h.pipeDefs=()=>l.map(Ds)}function Ci(a){return n1(a)||function(a){return a[Ot]||null}(a)}function Ds(a){return function(a){return a[zt]||null}(a)}const L4={};function xi(a){return it(()=>{const c={type:a.type,bootstrap:a.bootstrap||He,declarations:a.declarations||He,imports:a.imports||He,exports:a.exports||He,transitiveCompileScopes:null,schemas:a.schemas||null,id:a.id||null};return null!=a.id&&(L4[a.id]=a.type),c})}function Ro(a,c){return it(()=>{const l=jt(a,!0);l.declarations=c.declarations||He,l.imports=c.imports||He,l.exports=c.exports||He})}function Ts(a,c){if(null==a)return xe;const l={};for(const h in a)if(a.hasOwnProperty(h)){let d=a[h],g=d;Array.isArray(d)&&(g=d[1],d=d[0]),l[d]=h,c&&(c[d]=g)}return l}const bl=kn;function V4(a){return{type:a.type,name:a.name,factory:null,pure:!1!==a.pure,onDestroy:a.type.prototype.ngOnDestroy||null}}function n1(a){return a[ct]||null}function jt(a,c){const l=a[Tt]||null;if(!l&&!0===c)throw new Error(`Type ${T(a)} does not have '\u0275mod' property.`);return l}function Hr(a){return Array.isArray(a)&&"object"==typeof a[1]}function Nn(a){return Array.isArray(a)&&!0===a[1]}function Cr(a){return 0!=(8&a.flags)}function C0(a){return 2==(2&a.flags)}function Vs(a){return 1==(1&a.flags)}function Fr(a){return null!==a.template}function O4(a){return 0!=(512&a[2])}function Qi(a,c){return a.hasOwnProperty(an)?a[an]:null}class w0{constructor(c,l,h){this.previousValue=c,this.currentValue=l,this.firstChange=h}isFirstChange(){return this.firstChange}}function d1(){return M0}function M0(a){return a.type.prototype.ngOnChanges&&(a.setInput=Al),A9}function A9(){const a=A0(this),c=null==a?void 0:a.current;if(c){const l=a.previous;if(l===xe)a.previous=c;else for(let h in c)l[h]=c[h];a.current=null,this.ngOnChanges(c)}}function Al(a,c,l,h){const d=A0(a)||function(a,c){return a[E0]=c}(a,{previous:xe,current:null}),g=d.current||(d.current={}),_=d.previous,b=this.declaredInputs[l],A=_[b];g[b]=new w0(A&&A.currentValue,c,_===xe),a[h]=c}d1.ngInherit=!0;const E0="__ngSimpleChanges__";function A0(a){return a[E0]||null}let F2;function ks(a){F2=a}function $o(){return void 0!==F2?F2:"undefined"!=typeof document?document:void 0}function hn(a){return!!a.listen}const T0={createRenderer:(a,c)=>$o()};function fn(a){for(;Array.isArray(a);)a=a[0];return a}function N0(a,c){return fn(c[a])}function or(a,c){return fn(c[a.index])}function Ji(a,c){return a.data[c]}function E1(a,c){const l=c[a];return Hr(l)?l:l[0]}function Go(a){return 4==(4&a[2])}function j4(a){return 128==(128&a[2])}function e2(a,c){return null==c?null:a[c]}function L0(a){a[18]=0}function $4(a,c){a[5]+=c;let l=a,h=a[3];for(;null!==h&&(1===c&&1===l[5]||-1===c&&0===l[5]);)h[5]+=c,l=h,h=h[3]}const Ct={lFrame:Z5(null),bindingsEnabled:!0,isInCheckNoChangesMode:!1};function G4(){return Ct.bindingsEnabled}function Ue(){return Ct.lFrame.lView}function Lt(){return Ct.lFrame.tView}function W4(a){return Ct.lFrame.contextLView=a,a[8]}function Pn(){let a=R0();for(;null!==a&&64===a.type;)a=a.parent;return a}function R0(){return Ct.lFrame.currentTNode}function xr(a,c){const l=Ct.lFrame;l.currentTNode=a,l.isParent=c}function Z4(){return Ct.lFrame.isParent}function t2(){Ct.lFrame.isParent=!1}function Os(){return Ct.isInCheckNoChangesMode}function n2(a){Ct.isInCheckNoChangesMode=a}function F1(){const a=Ct.lFrame;let c=a.bindingRootIndex;return-1===c&&(c=a.bindingRootIndex=a.tView.bindingStartIndex),c}function br(){return Ct.lFrame.bindingIndex}function r2(){return Ct.lFrame.bindingIndex++}function Mi(a){const c=Ct.lFrame,l=c.bindingIndex;return c.bindingIndex=c.bindingIndex+a,l}function qo(a,c){const l=Ct.lFrame;l.bindingIndex=l.bindingRootIndex=a,i2(c)}function i2(a){Ct.lFrame.currentDirectiveIndex=a}function Vl(){return Ct.lFrame.currentQueryIndex}function Rl(a){Ct.lFrame.currentQueryIndex=a}function $5(a){const c=a[1];return 2===c.type?c.declTNode:1===c.type?a[6]:null}function G5(a,c,l){if(l&Fe.SkipSelf){let d=c,g=a;for(;!(d=d.parent,null!==d||l&Fe.Host||(d=$5(g),null===d||(g=g[15],10&d.type))););if(null===d)return!1;c=d,a=g}const h=Ct.lFrame=W5();return h.currentTNode=c,h.lView=a,!0}function Ko(a){const c=W5(),l=a[1];Ct.lFrame=c,c.currentTNode=l.firstChild,c.lView=a,c.tView=l,c.contextLView=a,c.bindingIndex=l.bindingStartIndex,c.inI18n=!1}function W5(){const a=Ct.lFrame,c=null===a?null:a.child;return null===c?Z5(a):c}function Z5(a){const c={currentTNode:null,isParent:!0,lView:null,tView:null,selectedIndex:-1,contextLView:null,elementDepthCount:0,currentNamespace:null,currentDirectiveIndex:-1,bindingRootIndex:-1,bindingIndex:-1,currentQueryIndex:0,parent:a,child:null,inI18n:!1};return null!==a&&(a.child=c),c}function kl(){const a=Ct.lFrame;return Ct.lFrame=a.parent,a.currentTNode=null,a.lView=null,a}const I9=kl;function Ol(){const a=kl();a.isParent=!0,a.tView=null,a.selectedIndex=-1,a.contextLView=null,a.elementDepthCount=0,a.currentDirectiveIndex=-1,a.currentNamespace=null,a.bindingRootIndex=-1,a.bindingIndex=-1,a.currentQueryIndex=0}function r1(){return Ct.lFrame.selectedIndex}function U1(a){Ct.lFrame.selectedIndex=a}function dn(){const a=Ct.lFrame;return Ji(a.tView,a.selectedIndex)}function O0(a,c){for(let l=c.directiveStart,h=c.directiveEnd;l<h;l++){const g=a.data[l].type.prototype,{ngAfterContentInit:_,ngAfterContentChecked:b,ngAfterViewInit:A,ngAfterViewChecked:I,ngOnDestroy:D}=g;_&&(a.contentHooks||(a.contentHooks=[])).push(-l,_),b&&((a.contentHooks||(a.contentHooks=[])).push(l,b),(a.contentCheckHooks||(a.contentCheckHooks=[])).push(l,b)),A&&(a.viewHooks||(a.viewHooks=[])).push(-l,A),I&&((a.viewHooks||(a.viewHooks=[])).push(l,I),(a.viewCheckHooks||(a.viewCheckHooks=[])).push(l,I)),null!=D&&(a.destroyHooks||(a.destroyHooks=[])).push(l,D)}}function $2(a,c,l){Hl(a,c,3,l)}function P0(a,c,l,h){(3&a[2])===l&&Hl(a,c,l,h)}function Pl(a,c){let l=a[2];(3&l)===c&&(l&=2047,l+=1,a[2]=l)}function Hl(a,c,l,h){const g=null!=h?h:-1,_=c.length-1;let b=0;for(let A=void 0!==h?65535&a[18]:0;A<_;A++)if("number"==typeof c[A+1]){if(b=c[A],null!=h&&b>=h)break}else c[A]<0&&(a[18]+=65536),(b<g||-1==g)&&(Y5(a,l,c,A),a[18]=(4294901760&a[18])+A+2),A++}function Y5(a,c,l,h){const d=l[h]<0,g=l[h+1],b=a[d?-l[h]:l[h]];if(d){if(a[2]>>11<a[18]>>16&&(3&a[2])===c){a[2]+=2048;try{g.call(b)}finally{}}}else try{g.call(b)}finally{}}class s2{constructor(c,l,h){this.factory=c,this.resolving=!1,this.canSeeViewProviders=l,this.injectImpl=h}}function c2(a,c,l){const h=hn(a);let d=0;for(;d<l.length;){const g=l[d];if("number"==typeof g){if(0!==g)break;d++;const _=l[d++],b=l[d++],A=l[d++];h?a.setAttribute(c,b,A,_):c.setAttributeNS(_,b,A)}else{const _=g,b=l[++d];F0(_)?h&&a.setProperty(c,_,b):h?a.setAttribute(c,_,b):c.setAttribute(_,b),d++}}return d}function X4(a){return 3===a||4===a||6===a}function F0(a){return 64===a.charCodeAt(0)}function e6(a,c){if(null!==c&&0!==c.length)if(null===a||0===a.length)a=c.slice();else{let l=-1;for(let h=0;h<c.length;h++){const d=c[h];"number"==typeof d?l=d:0===l||Q5(a,l,d,null,-1===l||2===l?c[++h]:null)}}return a}function Q5(a,c,l,h,d){let g=0,_=a.length;if(-1===c)_=-1;else for(;g<a.length;){const b=a[g++];if("number"==typeof b){if(b===c){_=-1;break}if(b>c){_=g-1;break}}}for(;g<a.length;){const b=a[g];if("number"==typeof b)break;if(b===l){if(null===h)return void(null!==d&&(a[g+1]=d));if(h===a[g+1])return void(a[g+2]=d)}g++,null!==h&&g++,null!==d&&g++}-1!==_&&(a.splice(_,0,c),g=_+1),a.splice(g++,0,l),null!==h&&a.splice(g++,0,h),null!==d&&a.splice(g++,0,d)}function t6(a){return-1!==a}function Qo(a){return 32767&a}function Ps(a,c){let l=function(a){return a>>16}(a),h=c;for(;l>0;)h=h[15],l--;return h}let Hs=!0;function Fs(a){const c=Hs;return Hs=a,c}let A1=0;function wr(a,c){const l=Mr(a,c);if(-1!==l)return l;const h=c[1];h.firstCreatePass&&(a.injectorIndex=c.length,B1(h.data,a),B1(c,null),B1(h.blueprint,null));const d=B0(a,c),g=a.injectorIndex;if(t6(d)){const _=Qo(d),b=Ps(d,c),A=b[1].data;for(let I=0;I<8;I++)c[g+I]=b[_+I]|A[_+I]}return c[g+8]=d,g}function B1(a,c){a.push(0,0,0,0,0,0,0,0,c)}function Mr(a,c){return-1===a.injectorIndex||a.parent&&a.parent.injectorIndex===a.injectorIndex||null===c[a.injectorIndex+8]?-1:a.injectorIndex}function B0(a,c){if(a.parent&&-1!==a.parent.injectorIndex)return a.parent.injectorIndex;let l=0,h=null,d=c;for(;null!==d;){const g=d[1],_=g.type;if(h=2===_?g.declTNode:1===_?d[6]:null,null===h)return-1;if(l++,d=d[15],-1!==h.injectorIndex)return h.injectorIndex|l<<16}return-1}function r6(a,c,l){!function(a,c,l){let h;"string"==typeof l?h=l.charCodeAt(0)||0:l.hasOwnProperty(Rn)&&(h=l[Rn]),null==h&&(h=l[Rn]=A1++);const d=255&h;c.data[a+(d>>5)]|=1<<d}(a,c,l)}function i6(a,c,l){if(l&Fe.Optional)return a;ee(c,"NodeInjector")}function s6(a,c,l,h){if(l&Fe.Optional&&void 0===h&&(h=null),0==(l&(Fe.Self|Fe.Host))){const d=a[9],g=qt(void 0);try{return d?d.get(c,h,l&Fe.Optional):Kt(c,h,l&Fe.Optional)}finally{qt(g)}}return i6(h,c,l)}function ri(a,c,l,h=Fe.Default,d){if(null!==a){const g=function(a){if("string"==typeof a)return a.charCodeAt(0)||0;const c=a.hasOwnProperty(Rn)?a[Rn]:void 0;return"number"==typeof c?c>=0?255&c:J5:c}(l);if("function"==typeof g){if(!G5(c,a,h))return h&Fe.Host?i6(d,l,h):s6(c,l,h,d);try{const _=g(h);if(null!=_||h&Fe.Optional)return _;ee(l)}finally{I9()}}else if("number"==typeof g){let _=null,b=Mr(a,c),A=-1,I=h&Fe.Host?c[16][6]:null;for((-1===b||h&Fe.SkipSelf)&&(A=-1===b?B0(a,c):c[b+8],-1!==A&&X5(h,!1)?(_=c[1],b=Qo(A),c=Ps(A,c)):b=-1);-1!==b;){const D=c[1];if(Er(g,b,D.data)){const j=Ul(b,c,l,_,h,I);if(j!==j0)return j}A=c[b+8],-1!==A&&X5(h,c[1].data[b+8]===I)&&Er(g,b,c)?(_=D,b=Qo(A),c=Ps(A,c)):b=-1}}}return s6(c,l,h,d)}const j0={};function J5(){return new Bs(Pn(),Ue())}function Ul(a,c,l,h,d,g){const _=c[1],b=_.data[a+8],D=Jo(b,_,l,null==h?C0(b)&&Hs:h!=_&&0!=(3&b.type),d&Fe.Host&&g===b);return null!==D?Us(c,_,D,b):j0}function Jo(a,c,l,h,d){const g=a.providerIndexes,_=c.data,b=1048575&g,A=a.directiveStart,D=g>>20,q=d?b+D:a.directiveEnd;for(let re=h?b:b+D;re<q;re++){const ge=_[re];if(re<A&&l===ge||re>=A&&ge.type===l)return re}if(d){const re=_[A];if(re&&Fr(re)&&re.type===l)return A}return null}function Us(a,c,l,h){let d=a[l];const g=c.data;if(function(a){return a instanceof s2}(d)){const _=d;_.resolving&&function(a,c){throw new ae("200",`Circular dependency in DI detected for ${a}`)}(le(g[l]));const b=Fs(_.canSeeViewProviders);_.resolving=!0;const A=_.injectImpl?qt(_.injectImpl):null;G5(a,h,Fe.Default);try{d=a[l]=_.factory(void 0,g,a,h),c.firstCreatePass&&l>=h.directiveStart&&function(a,c,l){const{ngOnChanges:h,ngOnInit:d,ngDoCheck:g}=c.type.prototype;if(h){const _=M0(c);(l.preOrderHooks||(l.preOrderHooks=[])).push(a,_),(l.preOrderCheckHooks||(l.preOrderCheckHooks=[])).push(a,_)}d&&(l.preOrderHooks||(l.preOrderHooks=[])).push(0-a,d),g&&((l.preOrderHooks||(l.preOrderHooks=[])).push(a,g),(l.preOrderCheckHooks||(l.preOrderCheckHooks=[])).push(a,g))}(l,g[l],c)}finally{null!==A&&qt(A),Fs(b),_.resolving=!1,I9()}}return d}function Er(a,c,l){return!!(l[c+(a>>5)]&1<<a)}function X5(a,c){return!(a&Fe.Self||a&Fe.Host&&c)}class Bs{constructor(c,l){this._tNode=c,this._lView=l}get(c,l){return ri(this._tNode,this._lView,c,void 0,l)}}function jl(a){return it(()=>{const c=a.prototype.constructor,l=c[an]||js(c),h=Object.prototype;let d=Object.getPrototypeOf(a.prototype).constructor;for(;d&&d!==h;){const g=d[an]||js(d);if(g&&g!==l)return g;d=Object.getPrototypeOf(d)}return g=>new g})}function js(a){return G(a)?()=>{const c=js(Q(a));return c&&c()}:Qi(a)}function $0(a){return function(a,c){if("class"===c)return a.classes;if("style"===c)return a.styles;const l=a.attrs;if(l){const h=l.length;let d=0;for(;d<h;){const g=l[d];if(X4(g))break;if(0===g)d+=2;else if("number"==typeof g)for(d++;d<h&&"string"==typeof l[d];)d++;else{if(g===c)return l[d+1];d+=2}}}return null}(Pn(),a)}const $s="__parameters__";function Ei(a,c,l){return it(()=>{const h=function(a){return function(...l){if(a){const h=a(...l);for(const d in h)this[d]=h[d]}}}(c);function d(...g){if(this instanceof d)return h.apply(this,g),this;const _=new d(...g);return b.annotation=_,b;function b(A,I,D){const j=A.hasOwnProperty($s)?A[$s]:Object.defineProperty(A,$s,{value:[]})[$s];for(;j.length<=D;)j.push(null);return(j[D]=j[D]||[]).push(_),A}}return l&&(d.prototype=Object.create(l.prototype)),d.prototype.ngMetadataName=a,d.annotationCls=d,d})}class xn{constructor(c,l){this._desc=c,this.ngMetadataName="InjectionToken",this.\u0275prov=void 0,"number"==typeof l?this.__NG_ELEMENT_ID__=l:void 0!==l&&(this.\u0275prov=Qt({token:this,providedIn:l.providedIn||"root",factory:l.factory}))}toString(){return`InjectionToken ${this._desc}`}}const a6=new xn("AnalyzeForEntryComponents"),ea=Function;function Ur(a,c){void 0===c&&(c=a);for(let l=0;l<a.length;l++){let h=a[l];Array.isArray(h)?(c===a&&(c=a.slice(0,l)),Ur(h,c)):c!==a&&c.push(h)}return c}function Ar(a,c){a.forEach(l=>Array.isArray(l)?Ar(l,c):c(l))}function W0(a,c,l){c>=a.length?a.push(l):a.splice(c,0,l)}function l2(a,c){return c>=a.length-1?a.pop():a.splice(c,1)[0]}function Ai(a,c){const l=[];for(let h=0;h<a;h++)l.push(c);return l}function zn(a,c,l){let h=u2(a,c);return h>=0?a[1|h]=l:(h=~h,function(a,c,l,h){let d=a.length;if(d==c)a.push(l,h);else if(1===d)a.push(h,a[0]),a[0]=l;else{for(d--,a.push(a[d-1],a[d]);d>c;)a[d]=a[d-2],d--;a[c]=l,a[c+1]=h}}(a,h,c,l)),h}function j1(a,c){const l=u2(a,c);if(l>=0)return a[1|l]}function u2(a,c){return function(a,c,l){let h=0,d=a.length>>l;for(;d!==h;){const g=h+(d-h>>1),_=a[g<<l];if(c===_)return g<<l;_>c?d=g:h=g+1}return~(d<<l)}(a,c,1)}const f2={},K2="__NG_DI_FLAG__",Si="ngTempTokenPath",q0=/\n/gm,ia="__source",Br=N({provide:String,useValue:N});let Ys;function d2(a){const c=Ys;return Ys=a,c}function K0(a,c=Fe.Default){if(void 0===Ys)throw new Error("inject() must be called from an injection context");return null===Ys?Kt(a,void 0,c):Ys.get(a,c&Fe.Optional?null:void 0,c)}function Ln(a,c=Fe.Default){return(Ft||K0)(Q(a),c)}function oi(a){const c=[];for(let l=0;l<a.length;l++){const h=Q(a[l]);if(Array.isArray(h)){if(0===h.length)throw new Error("Arguments array must have arguments.");let d,g=Fe.Default;for(let _=0;_<h.length;_++){const b=h[_],A=Xl(b);"number"==typeof A?-1===A?d=b.token:g|=A:d=b}c.push(Ln(d,g))}else c.push(Ln(h))}return c}function Y2(a,c){return a[K2]=c,a.prototype[K2]=c,a}function Xl(a){return a[K2]}function sa(a,c,l,h){const d=a[Si];throw c[ia]&&d.unshift(c[ia]),a.message=function(a,c,l,h=null){a=a&&"\n"===a.charAt(0)&&"\u0275"==a.charAt(1)?a.substr(2):a;let d=T(c);if(Array.isArray(c))d=c.map(T).join(" -> ");else if("object"==typeof c){let g=[];for(let _ in c)if(c.hasOwnProperty(_)){let b=c[_];g.push(_+":"+("string"==typeof b?JSON.stringify(b):T(b)))}d=`{${g.join(", ")}}`}return`${l}${h?"("+h+")":""}[${d}]: ${a.replace(q0,"\n  ")}`}("\n"+a.message,d,l,h),a.ngTokenPath=d,a[Si]=null,a}const Q2=Y2(Ei("Inject",a=>({token:a})),-1),jr=Y2(Ei("Optional"),8),Ii=Y2(Ei("SkipSelf"),4);let Ti,J0;function es(a){var c;return(null===(c=function(){if(void 0===Ti&&(Ti=null,te.trustedTypes))try{Ti=te.trustedTypes.createPolicy("angular",{createHTML:a=>a,createScript:a=>a,createScriptURL:a=>a})}catch(a){}return Ti}())||void 0===c?void 0:c.createHTML(a))||a}function r8(a){var c;return(null===(c=function(){if(void 0===J0&&(J0=null,te.trustedTypes))try{J0=te.trustedTypes.createPolicy("angular#unsafe-bypass",{createHTML:a=>a,createScript:a=>a,createScriptURL:a=>a})}catch(a){}return J0}())||void 0===c?void 0:c.createHTML(a))||a}class ts{constructor(c){this.changingThisBreaksApplicationSecurity=c}toString(){return`SafeValue must use [property]=binding: ${this.changingThisBreaksApplicationSecurity} (see https://g.co/ng/security#xss)`}}class Ni extends ts{getTypeName(){return"HTML"}}class ec extends ts{getTypeName(){return"Style"}}class R9 extends ts{getTypeName(){return"Script"}}class ns extends ts{getTypeName(){return"URL"}}class tc extends ts{getTypeName(){return"ResourceURL"}}function p1(a){return a instanceof ts?a.changingThisBreaksApplicationSecurity:a}function ai(a,c){const l=s8(a);if(null!=l&&l!==c){if("ResourceURL"===l&&"URL"===c)return!0;throw new Error(`Required a safe ${c}, got a ${l} (see https://g.co/ng/security#xss)`)}return l===c}function s8(a){return a instanceof ts&&a.getTypeName()||null}function la(a){return new Ni(a)}function o8(a){return new ec(a)}function y6(a){return new R9(a)}function nc(a){return new ns(a)}function _6(a){return new tc(a)}class p2{constructor(c){this.inertDocumentHelper=c}getInertBodyElement(c){c="<body><remove></remove>"+c;try{const l=(new window.DOMParser).parseFromString(es(c),"text/html").body;return null===l?this.inertDocumentHelper.getInertBodyElement(c):(l.removeChild(l.firstChild),l)}catch(l){return null}}}class ua{constructor(c){if(this.defaultDoc=c,this.inertDocument=this.defaultDoc.implementation.createHTMLDocument("sanitization-inert"),null==this.inertDocument.body){const l=this.inertDocument.createElement("html");this.inertDocument.appendChild(l);const h=this.inertDocument.createElement("body");l.appendChild(h)}}getInertBodyElement(c){const l=this.inertDocument.createElement("template");if("content"in l)return l.innerHTML=es(c),l;const h=this.inertDocument.createElement("body");return h.innerHTML=es(c),this.defaultDoc.documentMode&&this.stripCustomNsAttrs(h),h}stripCustomNsAttrs(c){const l=c.attributes;for(let d=l.length-1;0<d;d--){const _=l.item(d).name;("xmlns:ns1"===_||0===_.indexOf("ns1:"))&&c.removeAttribute(_)}let h=c.firstChild;for(;h;)h.nodeType===Node.ELEMENT_NODE&&this.stripCustomNsAttrs(h),h=h.nextSibling}}const a8=/^(?:(?:https?|mailto|ftp|tel|file|sms):|[^&:/?#]*(?:[/?#]|$))/gi,ha=/^data:(?:image\/(?:bmp|gif|jpeg|jpg|png|tiff|webp)|video\/(?:mpeg|mp4|ogg|webm)|audio\/(?:mp3|oga|ogg|opus));base64,[a-z0-9+\/]+=*$/i;function rs(a){return(a=String(a)).match(a8)||a.match(ha)?a:"unsafe:"+a}function Gr(a){const c={};for(const l of a.split(","))c[l]=!0;return c}function da(...a){const c={};for(const l of a)for(const h in l)l.hasOwnProperty(h)&&(c[h]=!0);return c}const C6=Gr("area,br,col,hr,img,wbr"),pa=Gr("colgroup,dd,dt,li,p,tbody,td,tfoot,th,thead,tr"),ph=Gr("rp,rt"),x6=da(C6,da(pa,Gr("address,article,aside,blockquote,caption,center,del,details,dialog,dir,div,dl,figure,figcaption,footer,h1,h2,h3,h4,h5,h6,header,hgroup,hr,ins,main,map,menu,nav,ol,pre,section,summary,table,ul")),da(ph,Gr("a,abbr,acronym,audio,b,bdi,bdo,big,br,cite,code,del,dfn,em,font,i,img,ins,kbd,label,map,mark,picture,q,ruby,rp,rt,s,samp,small,source,span,strike,strong,sub,sup,time,track,tt,u,var,video")),da(ph,pa)),ic=Gr("background,cite,href,itemtype,longdesc,poster,src,xlink:href"),b6=Gr("srcset"),l8=da(ic,b6,Gr("abbr,accesskey,align,alt,autoplay,axis,bgcolor,border,cellpadding,cellspacing,class,clear,color,cols,colspan,compact,controls,coords,datetime,default,dir,download,face,headers,height,hidden,hreflang,hspace,ismap,itemscope,itemprop,kind,label,lang,language,loop,media,muted,nohref,nowrap,open,preload,rel,rev,role,rows,rowspan,rules,scope,scrolling,shape,size,sizes,span,srclang,start,summary,tabindex,target,title,translate,type,usemap,valign,value,vspace,width"),Gr("aria-activedescendant,aria-atomic,aria-autocomplete,aria-busy,aria-checked,aria-colcount,aria-colindex,aria-colspan,aria-controls,aria-current,aria-describedby,aria-details,aria-disabled,aria-dropeffect,aria-errormessage,aria-expanded,aria-flowto,aria-grabbed,aria-haspopup,aria-hidden,aria-invalid,aria-keyshortcuts,aria-label,aria-labelledby,aria-level,aria-live,aria-modal,aria-multiline,aria-multiselectable,aria-orientation,aria-owns,aria-placeholder,aria-posinset,aria-pressed,aria-readonly,aria-relevant,aria-required,aria-roledescription,aria-rowcount,aria-rowindex,aria-rowspan,aria-selected,aria-setsize,aria-sort,aria-valuemax,aria-valuemin,aria-valuenow,aria-valuetext")),w6=Gr("script,style,template");class vh{constructor(){this.sanitizedSomething=!1,this.buf=[]}sanitizeChildren(c){let l=c.firstChild,h=!0;for(;l;)if(l.nodeType===Node.ELEMENT_NODE?h=this.startElement(l):l.nodeType===Node.TEXT_NODE?this.chars(l.nodeValue):this.sanitizedSomething=!0,h&&l.firstChild)l=l.firstChild;else for(;l;){l.nodeType===Node.ELEMENT_NODE&&this.endElement(l);let d=this.checkClobberedElement(l,l.nextSibling);if(d){l=d;break}l=this.checkClobberedElement(l,l.parentNode)}return this.buf.join("")}startElement(c){const l=c.nodeName.toLowerCase();if(!x6.hasOwnProperty(l))return this.sanitizedSomething=!0,!w6.hasOwnProperty(l);this.buf.push("<"),this.buf.push(l);const h=c.attributes;for(let d=0;d<h.length;d++){const g=h.item(d),_=g.name,b=_.toLowerCase();if(!l8.hasOwnProperty(b)){this.sanitizedSomething=!0;continue}let A=g.value;ic[b]&&(A=rs(A)),b6[b]&&(a=A,A=(a=String(a)).split(",").map(c=>rs(c.trim())).join(", ")),this.buf.push(" ",_,'="',h8(A),'"')}var a;return this.buf.push(">"),!0}endElement(c){const l=c.nodeName.toLowerCase();x6.hasOwnProperty(l)&&!C6.hasOwnProperty(l)&&(this.buf.push("</"),this.buf.push(l),this.buf.push(">"))}chars(c){this.buf.push(h8(c))}checkClobberedElement(c,l){if(l&&(c.compareDocumentPosition(l)&Node.DOCUMENT_POSITION_CONTAINED_BY)===Node.DOCUMENT_POSITION_CONTAINED_BY)throw new Error(`Failed to sanitize html because the element is clobbered: ${c.outerHTML}`);return l}}const u8=/[\uD800-\uDBFF][\uDC00-\uDFFF]/g,M6=/([^\#-~ |!])/g;function h8(a){return a.replace(/&/g,"&amp;").replace(u8,function(c){return"&#"+(1024*(c.charCodeAt(0)-55296)+(c.charCodeAt(1)-56320)+65536)+";"}).replace(M6,function(c){return"&#"+c.charCodeAt(0)+";"}).replace(/</g,"&lt;").replace(/>/g,"&gt;")}let Qs;function oc(a,c){let l=null;try{Qs=Qs||function(a){const c=new ua(a);return function(){try{return!!(new window.DOMParser).parseFromString(es(""),"text/html")}catch(a){return!1}}()?new p2(c):c}(a);let h=c?String(c):"";l=Qs.getInertBodyElement(h);let d=5,g=h;do{if(0===d)throw new Error("Failed to sanitize html because the input is unstable");d--,h=g,g=l.innerHTML,l=Qs.getInertBodyElement(h)}while(h!==g);return es((new vh).sanitizeChildren(zi(l)||l))}finally{if(l){const h=zi(l)||l;for(;h.firstChild;)h.removeChild(h.firstChild)}}}function zi(a){return"content"in a&&function(a){return a.nodeType===Node.ELEMENT_NODE&&"TEMPLATE"===a.nodeName}(a)?a.content:null}var mn=(()=>((mn=mn||{})[mn.NONE=0]="NONE",mn[mn.HTML=1]="HTML",mn[mn.STYLE=2]="STYLE",mn[mn.SCRIPT=3]="SCRIPT",mn[mn.URL=4]="URL",mn[mn.RESOURCE_URL=5]="RESOURCE_URL",mn))();function ac(a){const c=ss();return c?r8(c.sanitize(mn.HTML,a)||""):ai(a,"HTML")?r8(p1(a)):oc($o(),me(a))}function m2(a){const c=ss();return c?c.sanitize(mn.URL,a)||"":ai(a,"URL")?p1(a):rs(me(a))}function ss(){const a=Ue();return a&&a[12]}const S6="__ngContext__";function Yt(a,c){a[S6]=c}function ma(a){const c=function(a){return a[S6]||null}(a);return c?Array.isArray(c)?c:c.lView:null}function $(a){return a.ngOriginalError}function Le(a,...c){a.error(...c)}class qe{constructor(){this._console=console}handleError(c){const l=this._findOriginalError(c),h=this._findContext(c),d=(a=c)&&a.ngErrorLogger||Le;var a;d(this._console,"ERROR",c),l&&d(this._console,"ORIGINAL ERROR",l),h&&d(this._console,"ERROR CONTEXT",h)}_findContext(c){return c?c.ngDebugContext||this._findContext($(c)):null}_findOriginalError(c){let l=c&&$(c);for(;l&&$(l);)l=$(l);return l||null}}const _a=(()=>("undefined"!=typeof requestAnimationFrame&&requestAnimationFrame||setTimeout).bind(te))();function Li(a){return a instanceof Function?a():a}var y2=(()=>((y2=y2||{})[y2.Important=1]="Important",y2[y2.DashCase=2]="DashCase",y2))();function Rt(a,c){return undefined(a,c)}function N6(a){const c=a[3];return Nn(c)?c[3]:c}function Ah(a){return F9(a[13])}function Sh(a){return F9(a[4])}function F9(a){for(;null!==a&&!Nn(a);)a=a[4];return a}function Xs(a,c,l,h,d){if(null!=h){let g,_=!1;Nn(h)?g=h:Hr(h)&&(_=!0,h=h[0]);const b=fn(h);0===a&&null!==l?null==d?W9(c,l,b):os(c,l,b,d||null,!0):1===a&&null!==l?os(c,l,b,d||null,!0):2===a?function(a,c,l){const h=z6(a,c);h&&function(a,c,l,h){hn(a)?a.removeChild(c,l,h):c.removeChild(l)}(a,h,c,l)}(c,b,_):3===a&&c.destroyNode(b),null!=g&&function(a,c,l,h,d){const g=l[7];g!==fn(l)&&Xs(c,a,h,g,d);for(let b=10;b<l.length;b++){const A=l[b];L6(A[1],A,a,c,h,g)}}(c,a,g,l,d)}}function Dh(a,c,l){return hn(a)?a.createElement(c,l):null===l?a.createElement(c):a.createElementNS(l,c)}function My(a,c){const l=a[9],h=l.indexOf(c),d=c[3];1024&c[2]&&(c[2]&=-1025,$4(d,-1)),l.splice(h,1)}function Vi(a,c){if(a.length<=10)return;const l=10+c,h=a[l];if(h){const d=h[17];null!==d&&d!==a&&My(d,h),c>0&&(a[l-1][4]=h[4]);const g=l2(a,10+c);!function(a,c){L6(a,c,c[11],2,null,null),c[0]=null,c[6]=null}(h[1],h);const _=g[19];null!==_&&_.detachView(g[1]),h[3]=null,h[4]=null,h[2]&=-129}return h}function Th(a,c){if(!(256&c[2])){const l=c[11];hn(l)&&l.destroyNode&&L6(a,c,l,3,null,null),function(a){let c=a[13];if(!c)return Ri(a[1],a);for(;c;){let l=null;if(Hr(c))l=c[13];else{const h=c[10];h&&(l=h)}if(!l){for(;c&&!c[4]&&c!==a;)Hr(c)&&Ri(c[1],c),c=c[3];null===c&&(c=a),Hr(c)&&Ri(c[1],c),l=c&&c[4]}c=l}}(c)}}function Ri(a,c){if(!(256&c[2])){c[2]&=-129,c[2]|=256,function(a,c){let l;if(null!=a&&null!=(l=a.destroyHooks))for(let h=0;h<l.length;h+=2){const d=c[l[h]];if(!(d instanceof s2)){const g=l[h+1];if(Array.isArray(g))for(let _=0;_<g.length;_+=2){const b=d[g[_]],A=g[_+1];try{A.call(b)}finally{}}else try{g.call(d)}finally{}}}}(a,c),function(a,c){const l=a.cleanup,h=c[7];let d=-1;if(null!==l)for(let g=0;g<l.length-1;g+=2)if("string"==typeof l[g]){const _=l[g+1],b="function"==typeof _?_(c):fn(c[_]),A=h[d=l[g+2]],I=l[g+3];"boolean"==typeof I?b.removeEventListener(l[g],A,I):I>=0?h[d=I]():h[d=-I].unsubscribe(),g+=2}else{const _=h[d=l[g+1]];l[g].call(_)}if(null!==h){for(let g=d+1;g<h.length;g++)h[g]();c[7]=null}}(a,c),1===c[1].type&&hn(c[11])&&c[11].destroy();const l=c[17];if(null!==l&&Nn(c[3])){l!==c[3]&&My(l,c);const h=c[19];null!==h&&h.detachView(a)}}}function zh(a,c,l){return function(a,c,l){let h=c;for(;null!==h&&40&h.type;)h=(c=h).parent;if(null===h)return l[0];if(2&h.flags){const d=a.data[h.directiveStart].encapsulation;if(d===Jt.None||d===Jt.Emulated)return null}return or(h,l)}(a,c.parent,l)}function os(a,c,l,h,d){hn(a)?a.insertBefore(c,l,h,d):c.insertBefore(l,h,d)}function W9(a,c,l){hn(a)?a.appendChild(c,l):c.appendChild(l)}function Z9(a,c,l,h,d){null!==h?os(a,c,l,h,d):W9(a,c,l)}function z6(a,c){return hn(a)?a.parentNode(c):c.parentNode}function q9(a,c,l){return Lh(a,c,l)}let Lh=function(a,c,l){return 40&a.type?or(a,l):null};function x8(a,c,l,h){const d=zh(a,h,c),g=c[11],b=q9(h.parent||c[6],h,c);if(null!=d)if(Array.isArray(l))for(let A=0;A<l.length;A++)Z9(g,d,l[A],b,!1);else Z9(g,d,l,b,!1)}function b8(a,c){if(null!==c){const l=c.type;if(3&l)return or(c,a);if(4&l)return Oh(-1,a[c.index]);if(8&l){const h=c.child;if(null!==h)return b8(a,h);{const d=a[c.index];return Nn(d)?Oh(-1,d):fn(d)}}if(32&l)return Rt(c,a)()||fn(a[c.index]);{const h=kh(a,c);return null!==h?Array.isArray(h)?h[0]:b8(N6(a[16]),h):b8(a,c.next)}}return null}function kh(a,c){return null!==c?a[16][6].projection[c.projection]:null}function Oh(a,c){const l=10+a+1;if(l<c.length){const h=c[l],d=h[1].firstChild;if(null!==d)return b8(h,d)}return c[7]}function as(a,c,l,h,d,g,_){for(;null!=l;){const b=h[l.index],A=l.type;if(_&&0===c&&(b&&Yt(fn(b),h),l.flags|=4),64!=(64&l.flags))if(8&A)as(a,c,l.child,h,d,g,!1),Xs(c,a,d,b,g);else if(32&A){const I=Rt(l,h);let D;for(;D=I();)Xs(c,a,d,D,g);Xs(c,a,d,b,g)}else 16&A?J9(a,c,h,l,d,g):Xs(c,a,d,b,g);l=_?l.projectionNext:l.next}}function L6(a,c,l,h,d,g){as(l,h,a.firstChild,c,d,g,!1)}function J9(a,c,l,h,d,g){const _=l[16],A=_[6].projection[h.projection];if(Array.isArray(A))for(let I=0;I<A.length;I++)Xs(c,a,d,A[I],g);else as(a,c,A,_[3],d,g,!0)}function X9(a,c,l){hn(a)?a.setAttribute(c,"style",l):c.style.cssText=l}function V6(a,c,l){hn(a)?""===l?a.removeAttribute(c,"class"):a.setAttribute(c,"class",l):c.className=l}function It(a,c,l){let h=a.length;for(;;){const d=a.indexOf(c,l);if(-1===d)return d;if(0===d||a.charCodeAt(d-1)<=32){const g=c.length;if(d+g===h||a.charCodeAt(d+g)<=32)return d}l=d+1}}const ci="ng-template";function ep(a,c,l){let h=0;for(;h<a.length;){let d=a[h++];if(l&&"class"===d){if(d=a[h],-1!==It(d.toLowerCase(),c,0))return!0}else if(1===d){for(;h<a.length&&"string"==typeof(d=a[h++]);)if(d.toLowerCase()===c)return!0;return!1}}return!1}function tp(a){return 4===a.type&&a.value!==ci}function w8(a,c,l){return c===(4!==a.type||l?a.value:ci)}function Dy(a,c,l){let h=4;const d=a.attrs||[],g=function(a){for(let c=0;c<a.length;c++)if(X4(a[c]))return c;return a.length}(d);let _=!1;for(let b=0;b<c.length;b++){const A=c[b];if("number"!=typeof A){if(!_)if(4&h){if(h=2|1&h,""!==A&&!w8(a,A,l)||""===A&&1===c.length){if(qr(h))return!1;_=!0}}else{const I=8&h?A:c[++b];if(8&h&&null!==a.attrs){if(!ep(a.attrs,I,l)){if(qr(h))return!1;_=!0}continue}const j=np(8&h?"class":A,d,tp(a),l);if(-1===j){if(qr(h))return!1;_=!0;continue}if(""!==I){let q;q=j>g?"":d[j+1].toLowerCase();const re=8&h?q:null;if(re&&-1!==It(re,I,0)||2&h&&I!==q){if(qr(h))return!1;_=!0}}}}else{if(!_&&!qr(h)&&!qr(A))return!1;if(_&&qr(A))continue;_=!1,h=A|1&h}}return qr(h)||_}function qr(a){return 0==(1&a)}function np(a,c,l,h){if(null===c)return-1;let d=0;if(h||!l){let g=!1;for(;d<c.length;){const _=c[d];if(_===a)return d;if(3===_||6===_)g=!0;else{if(1===_||2===_){let b=c[++d];for(;"string"==typeof b;)b=c[++d];continue}if(4===_)break;if(0===_){d+=4;continue}}d+=g?1:2}return-1}return function(a,c){let l=a.indexOf(4);if(l>-1)for(l++;l<a.length;){const h=a[l];if("number"==typeof h)return-1;if(h===c)return l;l++}return-1}(c,a)}function R6(a,c,l=!1){for(let h=0;h<c.length;h++)if(Dy(a,c[h],l))return!0;return!1}function Ny(a,c){e:for(let l=0;l<c.length;l++){const h=c[l];if(a.length===h.length){for(let d=0;d<a.length;d++)if(a[d]!==h[d])continue e;return!0}}return!1}function vc(a,c){return a?":not("+c.trim()+")":c}function Ph(a){let c=a[0],l=1,h=2,d="",g=!1;for(;l<a.length;){let _=a[l];if("string"==typeof _)if(2&h){const b=a[++l];d+="["+_+(b.length>0?'="'+b+'"':"")+"]"}else 8&h?d+="."+_:4&h&&(d+=" "+_);else""!==d&&!qr(_)&&(c+=vc(g,d),d=""),h=_,g=g||!qr(h);l++}return""!==d&&(c+=vc(g,d)),c}const St={};function Hh(a){Fh(Lt(),Ue(),r1()+a,Os())}function Fh(a,c,l,h){if(!h)if(3==(3&c[2])){const g=a.preOrderCheckHooks;null!==g&&$2(c,g,l)}else{const g=a.preOrderHooks;null!==g&&P0(c,g,0,l)}U1(l)}function yc(a,c){return a<<17|c<<2}function li(a){return a>>17&32767}function Uh(a){return 2|a}function cs(a){return(131068&a)>>2}function Bh(a,c){return-131069&a|c<<2}function Kr(a){return 1|a}function pp(a,c){const l=a.contentQueries;if(null!==l)for(let h=0;h<l.length;h+=2){const d=l[h],g=l[h+1];if(-1!==g){const _=a.data[g];Rl(d),_.contentQueries(2,c[g],g)}}}function ba(a,c,l,h,d,g,_,b,A,I){const D=c.blueprint.slice();return D[0]=d,D[2]=140|h,L0(D),D[3]=D[15]=a,D[8]=l,D[10]=_||a&&a[10],D[11]=b||a&&a[11],D[12]=A||a&&a[12]||null,D[9]=I||a&&a[9]||null,D[6]=g,D[16]=2==c.type?a[16]:D,D}function so(a,c,l,h,d){let g=a.data[c];if(null===g)g=function(a,c,l,h,d){const g=R0(),_=Z4(),A=a.data[c]=function(a,c,l,h,d,g){return{type:l,index:h,insertBeforeIndex:null,injectorIndex:c?c.injectorIndex:-1,directiveStart:-1,directiveEnd:-1,directiveStylingLast:-1,propertyBindings:null,flags:0,providerIndexes:0,value:d,attrs:g,mergedAttrs:null,localNames:null,initialInputs:void 0,inputs:null,outputs:null,tViews:null,next:null,projectionNext:null,child:null,parent:c,projection:null,styles:null,stylesWithoutHost:null,residualStyles:void 0,classes:null,classesWithoutHost:null,residualClasses:void 0,classBindings:0,styleBindings:0}}(0,_?g:g&&g.parent,l,c,h,d);return null===a.firstChild&&(a.firstChild=A),null!==g&&(_?null==g.child&&null!==A.parent&&(g.child=A):null===g.next&&(g.next=A)),A}(a,c,l,h,d),Ct.lFrame.inI18n&&(g.flags|=64);else if(64&g.type){g.type=l,g.value=h,g.attrs=d;const _=function(){const a=Ct.lFrame,c=a.currentTNode;return a.isParent?c:c.parent}();g.injectorIndex=null===_?-1:_.injectorIndex}return xr(g,!0),g}function ki(a,c,l,h){if(0===l)return-1;const d=c.length;for(let g=0;g<l;g++)c.push(h),a.blueprint.push(h),a.data.push(null);return d}function O6(a,c,l){Ko(c);try{const h=a.viewQuery;null!==h&&af(1,h,l);const d=a.template;null!==d&&P6(a,c,d,1,l),a.firstCreatePass&&(a.firstCreatePass=!1),a.staticContentQueries&&pp(a,c),a.staticViewQueries&&af(2,a.viewQuery,l);const g=a.components;null!==g&&function(a,c){for(let l=0;l<c.length;l++)Qy(a,c[l])}(c,g)}catch(h){throw a.firstCreatePass&&(a.incompleteFirstPass=!0,a.firstCreatePass=!1),h}finally{c[2]&=-5,Ol()}}function wa(a,c,l,h){const d=c[2];if(256==(256&d))return;Ko(c);const g=Os();try{L0(c),function(a){Ct.lFrame.bindingIndex=a}(a.bindingStartIndex),null!==l&&P6(a,c,l,2,h);const _=3==(3&d);if(!g)if(_){const I=a.preOrderCheckHooks;null!==I&&$2(c,I,null)}else{const I=a.preOrderHooks;null!==I&&P0(c,I,0,null),Pl(c,0)}if(function(a){for(let c=Ah(a);null!==c;c=Sh(c)){if(!c[2])continue;const l=c[9];for(let h=0;h<l.length;h++){const d=l[h],g=d[3];0==(1024&d[2])&&$4(g,1),d[2]|=1024}}}(c),function(a){for(let c=Ah(a);null!==c;c=Sh(c))for(let l=10;l<c.length;l++){const h=c[l],d=h[1];j4(h)&&wa(d,h,d.template,h[8])}}(c),null!==a.contentQueries&&pp(a,c),!g)if(_){const I=a.contentCheckHooks;null!==I&&$2(c,I)}else{const I=a.contentHooks;null!==I&&P0(c,I,1),Pl(c,1)}!function(a,c){const l=a.hostBindingOpCodes;if(null!==l)try{for(let h=0;h<l.length;h++){const d=l[h];if(d<0)U1(~d);else{const g=d,_=l[++h],b=l[++h];qo(_,g),b(2,c[g])}}}finally{U1(-1)}}(a,c);const b=a.components;null!==b&&function(a,c){for(let l=0;l<c.length;l++)H8(a,c[l])}(c,b);const A=a.viewQuery;if(null!==A&&af(2,A,h),!g)if(_){const I=a.viewCheckHooks;null!==I&&$2(c,I)}else{const I=a.viewHooks;null!==I&&P0(c,I,2),Pl(c,2)}!0===a.firstUpdatePass&&(a.firstUpdatePass=!1),g||(c[2]&=-73),1024&c[2]&&(c[2]&=-1025,$4(c[3],-1))}finally{Ol()}}function Hy(a,c,l,h){const d=c[10],g=!Os(),_=Go(c);try{g&&!_&&d.begin&&d.begin(),_&&O6(a,c,h),wa(a,c,l,h)}finally{g&&!_&&d.end&&d.end()}}function P6(a,c,l,h,d){const g=r1(),_=2&h;try{U1(-1),_&&c.length>20&&Fh(a,c,20,Os()),l(h,d)}finally{U1(g)}}function Kh(a,c,l){if(Cr(c)){const d=c.directiveEnd;for(let g=c.directiveStart;g<d;g++){const _=a.data[g];_.contentQueries&&_.contentQueries(1,l[g],g)}}}function V8(a,c,l){!G4()||(function(a,c,l,h){const d=l.directiveStart,g=l.directiveEnd;a.firstCreatePass||wr(l,c),Yt(h,c);const _=l.initialInputs;for(let b=d;b<g;b++){const A=a.data[b],I=Fr(A);I&&qy(c,l,A);const D=Us(c,a,b,l);Yt(D,c),null!==_&&Ky(0,b-d,D,A,0,_),I&&(E1(l.index,c)[8]=D)}}(a,c,l,or(l,c)),128==(128&l.flags)&&function(a,c,l){const h=l.directiveStart,d=l.directiveEnd,_=l.index,b=Ct.lFrame.currentDirectiveIndex;try{U1(_);for(let A=h;A<d;A++){const I=a.data[A],D=c[A];i2(A),(null!==I.hostBindings||0!==I.hostVars||null!==I.hostAttrs)&&O8(I,D)}}finally{U1(-1),i2(b)}}(a,c,l))}function H6(a,c,l=or){const h=c.localNames;if(null!==h){let d=c.index+1;for(let g=0;g<h.length;g+=2){const _=h[g+1],b=-1===_?l(c,a):a[_];a[d++]=b}}}function mp(a){const c=a.tView;return null===c||c.incompleteFirstPass?a.tView=F6(1,null,a.template,a.decls,a.vars,a.directiveDefs,a.pipeDefs,a.viewQuery,a.schemas,a.consts):c}function F6(a,c,l,h,d,g,_,b,A,I){const D=20+h,j=D+d,q=function(a,c){const l=[];for(let h=0;h<c;h++)l.push(h<a?null:St);return l}(D,j),re="function"==typeof I?I():I;return q[1]={type:a,blueprint:q,template:l,queries:null,viewQuery:b,declTNode:c,data:q.slice().fill(null,D),bindingStartIndex:D,expandoStartIndex:j,hostBindingOpCodes:null,firstCreatePass:!0,firstUpdatePass:!0,staticViewQueries:!1,staticContentQueries:!1,preOrderHooks:null,preOrderCheckHooks:null,contentHooks:null,contentCheckHooks:null,viewHooks:null,viewCheckHooks:null,destroyHooks:null,cleanup:null,contentQueries:null,components:null,directiveRegistry:"function"==typeof g?g():g,pipeRegistry:"function"==typeof _?_():_,firstChild:null,schemas:A,consts:re,incompleteFirstPass:!1}}function yp(a,c,l,h){const d=cf(c);null===l?d.push(h):(d.push(l),a.firstCreatePass&&Sp(a).push(h,d.length-1))}function Cp(a,c,l){for(let h in a)if(a.hasOwnProperty(h)){const d=a[h];(l=null===l?{}:l).hasOwnProperty(h)?l[h].push(c,d):l[h]=[c,d]}return l}function Yr(a,c,l,h,d,g,_,b){const A=or(c,l);let D,I=c.inputs;!b&&null!=I&&(D=I[h])?(lf(a,l,D,h,d),C0(c)&&function(a,c){const l=E1(c,a);16&l[2]||(l[2]|=64)}(l,c.index)):3&c.type&&(h=function(a){return"class"===a?"className":"for"===a?"htmlFor":"formaction"===a?"formAction":"innerHtml"===a?"innerHTML":"readonly"===a?"readOnly":"tabindex"===a?"tabIndex":a}(h),d=null!=_?_(d,c.value||"",h):d,hn(g)?g.setProperty(A,h,d):F0(h)||(A.setProperty?A.setProperty(h,d):A[h]=d))}function Xh(a,c,l,h){let d=!1;if(G4()){const g=function(a,c,l){const h=a.directiveRegistry;let d=null;if(h)for(let g=0;g<h.length;g++){const _=h[g];R6(l,_.selectors,!1)&&(d||(d=[]),r6(wr(l,c),a,_.type),Fr(_)?(bp(a,l),d.unshift(_)):d.push(_))}return d}(a,c,l),_=null===h?null:{"":-1};if(null!==g){d=!0,nf(l,a.data.length,g.length);for(let D=0;D<g.length;D++){const j=g[D];j.providersResolver&&j.providersResolver(j)}let b=!1,A=!1,I=ki(a,c,g.length,null);for(let D=0;D<g.length;D++){const j=g[D];l.mergedAttrs=e6(l.mergedAttrs,j.hostAttrs),rf(a,l,c,I,j),Zy(I,j,_),null!==j.contentQueries&&(l.flags|=8),(null!==j.hostBindings||null!==j.hostAttrs||0!==j.hostVars)&&(l.flags|=128);const q=j.type.prototype;!b&&(q.ngOnChanges||q.ngOnInit||q.ngDoCheck)&&((a.preOrderHooks||(a.preOrderHooks=[])).push(l.index),b=!0),!A&&(q.ngOnChanges||q.ngDoCheck)&&((a.preOrderCheckHooks||(a.preOrderCheckHooks=[])).push(l.index),A=!0),I++}!function(a,c){const h=c.directiveEnd,d=a.data,g=c.attrs,_=[];let b=null,A=null;for(let I=c.directiveStart;I<h;I++){const D=d[I],j=D.inputs,q=null===g||tp(c)?null:wp(j,g);_.push(q),b=Cp(j,I,b),A=Cp(D.outputs,I,A)}null!==b&&(b.hasOwnProperty("class")&&(c.flags|=16),b.hasOwnProperty("style")&&(c.flags|=32)),c.initialInputs=_,c.inputs=b,c.outputs=A}(a,l)}_&&function(a,c,l){if(c){const h=a.localNames=[];for(let d=0;d<c.length;d+=2){const g=l[c[d+1]];if(null==g)throw new ae("301",`Export of name '${c[d+1]}' not found!`);h.push(c[d],g)}}}(l,h,_)}return l.mergedAttrs=e6(l.mergedAttrs,l.attrs),d}function xp(a,c,l,h,d,g){const _=g.hostBindings;if(_){let b=a.hostBindingOpCodes;null===b&&(b=a.hostBindingOpCodes=[]);const A=~c.index;(function(a){let c=a.length;for(;c>0;){const l=a[--c];if("number"==typeof l&&l<0)return l}return 0})(b)!=A&&b.push(A),b.push(h,d,_)}}function O8(a,c){null!==a.hostBindings&&a.hostBindings(1,c)}function bp(a,c){c.flags|=2,(a.components||(a.components=[])).push(c.index)}function Zy(a,c,l){if(l){if(c.exportAs)for(let h=0;h<c.exportAs.length;h++)l[c.exportAs[h]]=a;Fr(c)&&(l[""]=a)}}function nf(a,c,l){a.flags|=1,a.directiveStart=c,a.directiveEnd=c+l,a.providerIndexes=c}function rf(a,c,l,h,d){a.data[h]=d;const g=d.factory||(d.factory=Qi(d.type)),_=new s2(g,Fr(d),null);a.blueprint[h]=_,l[h]=_,xp(a,c,0,h,ki(a,l,d.hostVars,St),d)}function qy(a,c,l){const h=or(c,a),d=mp(l),g=a[10],_=F8(a,ba(a,d,null,l.onPush?64:16,h,c,g,g.createRenderer(h,l),null,null));a[c.index]=_}function Oi(a,c,l,h,d,g){const _=or(a,c);!function(a,c,l,h,d,g,_){if(null==g)hn(a)?a.removeAttribute(c,d,l):c.removeAttribute(d);else{const b=null==_?me(g):_(g,h||"",d);hn(a)?a.setAttribute(c,d,b,l):l?c.setAttributeNS(l,d,b):c.setAttribute(d,b)}}(c[11],_,g,a.value,l,h,d)}function Ky(a,c,l,h,d,g){const _=g[c];if(null!==_){const b=h.setInput;for(let A=0;A<_.length;){const I=_[A++],D=_[A++],j=_[A++];null!==b?h.setInput(l,j,I,D):l[D]=j}}}function wp(a,c){let l=null,h=0;for(;h<c.length;){const d=c[h];if(0!==d)if(5!==d){if("number"==typeof d)break;a.hasOwnProperty(d)&&(null===l&&(l=[]),l.push(d,a[d],c[h+1])),h+=2}else h+=2;else h+=4}return l}function P8(a,c,l,h){return new Array(a,!0,!1,c,null,0,h,l,null,null)}function H8(a,c){const l=E1(c,a);if(j4(l)){const h=l[1];80&l[2]?wa(h,l,h.template,l[8]):l[5]>0&&Cc(l)}}function Cc(a){for(let h=Ah(a);null!==h;h=Sh(h))for(let d=10;d<h.length;d++){const g=h[d];if(1024&g[2]){const _=g[1];wa(_,g,_.template,g[8])}else g[5]>0&&Cc(g)}const l=a[1].components;if(null!==l)for(let h=0;h<l.length;h++){const d=E1(l[h],a);j4(d)&&d[5]>0&&Cc(d)}}function Qy(a,c){const l=E1(c,a),h=l[1];(function(a,c){for(let l=c.length;l<a.blueprint.length;l++)c.push(a.blueprint[l])})(h,l),O6(h,l,l[8])}function F8(a,c){return a[13]?a[14][4]=c:a[13]=c,a[14]=c,c}function xc(a){for(;a;){a[2]|=64;const c=N6(a);if(O4(a)&&!c)return a;a=c}return null}function U8(a,c,l){const h=c[10];h.begin&&h.begin();try{wa(a,c,a.template,l)}catch(d){throw Dp(c,d),d}finally{h.end&&h.end()}}function of(a){!function(a){for(let c=0;c<a.components.length;c++){const l=a.components[c],h=ma(l),d=h[1];Hy(d,h,d.template,l)}}(a[8])}function af(a,c,l){Rl(0),c(a,l)}const Ap=(()=>Promise.resolve(null))();function cf(a){return a[7]||(a[7]=[])}function Sp(a){return a.cleanup||(a.cleanup=[])}function Dp(a,c){const l=a[9],h=l?l.get(qe,null):null;h&&h.handleError(c)}function lf(a,c,l,h,d){for(let g=0;g<l.length;){const _=l[g++],b=l[g++],A=c[_],I=a.data[_];null!==I.setInput?I.setInput(A,d,h,b):A[b]=d}}function ls(a,c,l){const h=N0(c,a);!function(a,c,l){hn(a)?a.setValue(c,l):c.textContent=l}(a[11],h,l)}function B8(a,c,l){let h=l?a.styles:null,d=l?a.classes:null,g=0;if(null!==c)for(let _=0;_<c.length;_++){const b=c[_];"number"==typeof b?g=b:1==g?d=F(d,b):2==g&&(h=F(h,b+": "+c[++_]+";"))}l?a.styles=h:a.stylesWithoutHost=h,l?a.classes=d:a.classesWithoutHost=d}const j6=new xn("INJECTOR",-1);class uf{get(c,l=f2){if(l===f2){const h=new Error(`NullInjectorError: No provider for ${T(c)}!`);throw h.name="NullInjectorError",h}return l}}const wc=new xn("Set Injector scope."),j8={},Bb={};let hf;function x2(){return void 0===hf&&(hf=new uf),hf}function T1(a,c=null,l=null,h){return new $8(a,l,c||x2(),h)}class $8{constructor(c,l,h,d=null){this.parent=h,this.records=new Map,this.injectorDefTypes=new Set,this.onDestroy=new Set,this._destroyed=!1;const g=[];l&&Ar(l,b=>this.processProvider(b,c,l)),Ar([c],b=>this.processInjectorType(b,[],g)),this.records.set(j6,oo(void 0,this));const _=this.records.get(wc);this.scope=null!=_?_.value:null,this.source=d||("object"==typeof c?null:T(c))}get destroyed(){return this._destroyed}destroy(){this.assertNotDestroyed(),this._destroyed=!0;try{this.onDestroy.forEach(c=>c.ngOnDestroy())}finally{this.records.clear(),this.onDestroy.clear(),this.injectorDefTypes.clear()}}get(c,l=f2,h=Fe.Default){this.assertNotDestroyed();const d=d2(this),g=qt(void 0);try{if(!(h&Fe.SkipSelf)){let b=this.records.get(c);if(void 0===b){const A=("function"==typeof(a=c)||"object"==typeof a&&a instanceof xn)&&In(c);b=A&&this.injectableDefInScope(A)?oo(ff(c),j8):null,this.records.set(c,b)}if(null!=b)return this.hydrate(c,b)}return(h&Fe.Self?x2():this.parent).get(c,l=h&Fe.Optional&&l===f2?null:l)}catch(_){if("NullInjectorError"===_.name){if((_[Si]=_[Si]||[]).unshift(T(c)),d)throw _;return sa(_,c,"R3InjectorError",this.source)}throw _}finally{qt(g),d2(d)}var a}_resolveInjectorDefTypes(){this.injectorDefTypes.forEach(c=>this.get(c))}toString(){const c=[];return this.records.forEach((h,d)=>c.push(T(d))),`R3Injector[${c.join(", ")}]`}assertNotDestroyed(){if(this._destroyed)throw new Error("Injector has already been destroyed.")}processInjectorType(c,l,h){if(!(c=Q(c)))return!1;let d=er(c);const g=null==d&&c.ngModule||void 0,_=void 0===g?c:g,b=-1!==h.indexOf(_);if(void 0!==g&&(d=er(g)),null==d)return!1;if(null!=d.imports&&!b){let D;h.push(_);try{Ar(d.imports,j=>{this.processInjectorType(j,l,h)&&(void 0===D&&(D=[]),D.push(j))})}finally{}if(void 0!==D)for(let j=0;j<D.length;j++){const{ngModule:q,providers:re}=D[j];Ar(re,ge=>this.processProvider(ge,q,re||He))}}this.injectorDefTypes.add(_);const A=Qi(_)||(()=>new _);this.records.set(_,oo(A,j8));const I=d.providers;if(null!=I&&!b){const D=c;Ar(I,j=>this.processProvider(j,D,I))}return void 0!==g&&void 0!==c.providers}processProvider(c,l,h){let d=Mc(c=Q(c))?c:Q(c&&c.provide);const g=Np(a=c)?oo(void 0,a.useValue):oo($6(a),j8);var a;if(Mc(c)||!0!==c.multi)this.records.get(d);else{let _=this.records.get(d);_||(_=oo(void 0,j8,!0),_.factory=()=>oi(_.multi),this.records.set(d,_)),d=c,_.multi.push(c)}this.records.set(d,g)}hydrate(c,l){return l.value===j8&&(l.value=Bb,l.value=l.factory()),"object"==typeof l.value&&l.value&&null!==(a=l.value)&&"object"==typeof a&&"function"==typeof a.ngOnDestroy&&this.onDestroy.add(l.value),l.value;var a}injectableDefInScope(c){if(!c.providedIn)return!1;const l=Q(c.providedIn);return"string"==typeof l?"any"===l||l===this.scope:this.injectorDefTypes.has(l)}}function ff(a){const c=In(a),l=null!==c?c.factory:Qi(a);if(null!==l)return l;if(a instanceof xn)throw new Error(`Token ${T(a)} is missing a \u0275prov definition.`);if(a instanceof Function)return function(a){const c=a.length;if(c>0){const h=Ai(c,"?");throw new Error(`Can't resolve all parameters for ${T(a)}: (${h.join(", ")}).`)}const l=function(a){const c=a&&(a[un]||a[on]);if(c){const l=function(a){if(a.hasOwnProperty("name"))return a.name;const c=(""+a).match(/^function\s*([^\s(]+)/);return null===c?"":c[1]}(a);return console.warn(`DEPRECATED: DI is instantiating a token "${l}" that inherits its @Injectable decorator but does not provide one itself.\nThis will become an error in a future version of Angular. Please add @Injectable() to the "${l}" class.`),c}return null}(a);return null!==l?()=>l.factory(a):()=>new a}(a);throw new Error("unreachable")}function $6(a,c,l){let h;if(Mc(a)){const d=Q(a);return Qi(d)||ff(d)}if(Np(a))h=()=>Q(a.useValue);else if(function(a){return!(!a||!a.useFactory)}(a))h=()=>a.useFactory(...oi(a.deps||[]));else if(function(a){return!(!a||!a.useExisting)}(a))h=()=>Ln(Q(a.useExisting));else{const d=Q(a&&(a.useClass||a.provide));if(!function(a){return!!a.deps}(a))return Qi(d)||ff(d);h=()=>new d(...oi(a.deps))}return h}function oo(a,c,l=!1){return{factory:a,value:c,multi:l?[]:void 0}}function Np(a){return null!==a&&"object"==typeof a&&Br in a}function Mc(a){return"function"==typeof a}const zp=function(a,c,l){return function(a,c=null,l=null,h){const d=T1(a,c,l,h);return d._resolveInjectorDefTypes(),d}({name:l},c,a,l)};class Ae{static create(c,l){return Array.isArray(c)?zp(c,l,""):zp(c.providers,c.parent,c.name||"")}}function g_(a,c){O0(ma(a)[1],Pn())}function e3(a){let c=function(a){return Object.getPrototypeOf(a.prototype).constructor}(a.type),l=!0;const h=[a];for(;c;){let d;if(Fr(a))d=c.\u0275cmp||c.\u0275dir;else{if(c.\u0275cmp)throw new Error("Directives cannot inherit Components");d=c.\u0275dir}if(d){if(l){h.push(d);const _=a;_.inputs=_f(a.inputs),_.declaredInputs=_f(a.declaredInputs),_.outputs=_f(a.outputs);const b=d.hostBindings;b&&Cf(a,b);const A=d.viewQuery,I=d.contentQueries;if(A&&jp(a,A),I&&Y8(a,I),k(a.inputs,d.inputs),k(a.declaredInputs,d.declaredInputs),k(a.outputs,d.outputs),Fr(d)&&d.data.animation){const D=a.data;D.animation=(D.animation||[]).concat(d.data.animation)}}const g=d.features;if(g)for(let _=0;_<g.length;_++){const b=g[_];b&&b.ngInherit&&b(a),b===e3&&(l=!1)}}c=Object.getPrototypeOf(c)}!function(a){let c=0,l=null;for(let h=a.length-1;h>=0;h--){const d=a[h];d.hostVars=c+=d.hostVars,d.hostAttrs=e6(d.hostAttrs,l=e6(l,d.hostAttrs))}}(h)}function _f(a){return a===xe?{}:a===He?[]:a}function jp(a,c){const l=a.viewQuery;a.viewQuery=l?(h,d)=>{c(h,d),l(h,d)}:c}function Y8(a,c){const l=a.contentQueries;a.contentQueries=l?(h,d,g)=>{c(h,d,g),l(h,d,g)}:c}function Cf(a,c){const l=a.hostBindings;a.hostBindings=l?(h,d)=>{c(h,d),l(h,d)}:c}Ae.THROW_IF_NOT_FOUND=f2,Ae.NULL=new uf,Ae.\u0275prov=Qt({token:Ae,providedIn:"any",factory:()=>Ln(j6)}),Ae.__NG_ELEMENT_ID__=-1;let Q8=null;function co(){if(!Q8){const a=te.Symbol;if(a&&a.iterator)Q8=a.iterator;else{const c=Object.getOwnPropertyNames(Map.prototype);for(let l=0;l<c.length;++l){const h=c[l];"entries"!==h&&"size"!==h&&Map.prototype[h]===Map.prototype.entries&&(Q8=h)}}}return Q8}class Pi{constructor(c){this.wrapped=c}static wrap(c){return new Pi(c)}static unwrap(c){return Pi.isWrapped(c)?c.wrapped:c}static isWrapped(c){return c instanceof Pi}}function t3(a){return!!Mf(a)&&(Array.isArray(a)||!(a instanceof Map)&&co()in a)}function Mf(a){return null!==a&&("function"==typeof a||"object"==typeof a)}function Dr(a,c,l){return a[c]=l}function Z1(a,c,l){return!Object.is(a[c],l)&&(a[c]=l,!0)}function b2(a,c,l,h){const d=Z1(a,c,l);return Z1(a,c+1,h)||d}function i3(a,c,l,h){const d=Ue();return Z1(d,r2(),c)&&(Lt(),Oi(dn(),d,a,c,l,h)),i3}function Ef(a,c,l,h,d,g,_,b){const A=Ue(),I=Lt(),D=a+20,j=I.firstCreatePass?function(a,c,l,h,d,g,_,b,A){const I=c.consts,D=so(c,a,4,_||null,e2(I,b));Xh(c,l,D,e2(I,A)),O0(c,D);const j=D.tViews=F6(2,D,h,d,g,c.directiveRegistry,c.pipeRegistry,null,c.schemas,I);return null!==c.queries&&(c.queries.template(c,D),j.queries=c.queries.embeddedTView(D)),D}(D,I,A,c,l,h,d,g,_):I.data[D];xr(j,!1);const q=A[11].createComment("");x8(I,A,q,j),Yt(q,A),F8(A,A[D]=P8(q,A,q,j)),Vs(j)&&V8(I,A,j),null!=_&&H6(A,j,b)}function Ic(a,c=Fe.Default){const l=Ue();return null===l?Ln(a,c):ri(Pn(),l,Q(a),c)}function Na(a,c,l){const h=Ue();return Z1(h,r2(),c)&&Yr(Lt(),dn(),h,a,c,h[11],l,!1),Na}function us(a,c,l,h,d){const _=d?"class":"style";lf(a,l,c.inputs[_],_,h)}function Bf(a,c,l,h){const d=Ue(),g=Lt(),_=20+a,b=d[11],A=d[_]=Dh(b,c,Ct.lFrame.currentNamespace),I=g.firstCreatePass?function(a,c,l,h,d,g,_){const b=c.consts,I=so(c,a,2,d,e2(b,g));return Xh(c,l,I,e2(b,_)),null!==I.attrs&&B8(I,I.attrs,!1),null!==I.mergedAttrs&&B8(I,I.mergedAttrs,!0),null!==c.queries&&c.queries.elementStart(c,I),I}(_,g,d,0,c,l,h):g.data[_];xr(I,!0);const D=I.mergedAttrs;null!==D&&c2(b,A,D);const j=I.classes;null!==j&&V6(b,A,j);const q=I.styles;null!==q&&X9(b,A,q),64!=(64&I.flags)&&x8(g,d,A,I),0===Ct.lFrame.elementDepthCount&&Yt(A,d),Ct.lFrame.elementDepthCount++,Vs(I)&&(V8(g,d,I),Kh(g,I,d)),null!==h&&H6(d,I)}function f3(){let a=Pn();Z4()?t2():(a=a.parent,xr(a,!1));const c=a;Ct.lFrame.elementDepthCount--;const l=Lt();l.firstCreatePass&&(O0(l,a),Cr(a)&&l.queries.elementEnd(a)),null!=c.classesWithoutHost&&function(a){return 0!=(16&a.flags)}(c)&&us(l,c,Ue(),c.classesWithoutHost,!0),null!=c.stylesWithoutHost&&function(a){return 0!=(32&a.flags)}(c)&&us(l,c,Ue(),c.stylesWithoutHost,!1)}function za(a,c,l,h){Bf(a,c,l,h),f3()}function fu(a,c,l){const h=Ue(),d=Lt(),g=a+20,_=d.firstCreatePass?function(a,c,l,h,d){const g=c.consts,_=e2(g,h),b=so(c,a,8,"ng-container",_);return null!==_&&B8(b,_,!0),Xh(c,l,b,e2(g,d)),null!==c.queries&&c.queries.elementStart(c,b),b}(g,d,h,c,l):d.data[g];xr(_,!0);const b=h[g]=h[11].createComment("");x8(d,h,b,_),Yt(b,h),Vs(_)&&(V8(d,h,_),Kh(d,_,h)),null!=l&&H6(h,_)}function jf(){let a=Pn();const c=Lt();Z4()?t2():(a=a.parent,xr(a,!1)),c.firstCreatePass&&(O0(c,a),Cr(a)&&c.queries.elementEnd(a))}function M2(){return Ue()}function Dc(a){return!!a&&"function"==typeof a.then}function d3(a){return!!a&&"function"==typeof a.subscribe}const Tc=d3;function du(a,c,l,h){const d=Ue(),g=Lt(),_=Pn();return function(a,c,l,h,d,g,_,b){const A=Vs(h),D=a.firstCreatePass&&Sp(a),j=c[8],q=cf(c);let re=!0;if(3&h.type||b){const be=or(h,c),Ge=b?b(be):be,Oe=q.length,ot=b?xt=>b(fn(xt[h.index])):h.index;if(hn(l)){let xt=null;if(!b&&A&&(xt=function(a,c,l,h){const d=a.cleanup;if(null!=d)for(let g=0;g<d.length-1;g+=2){const _=d[g];if(_===l&&d[g+1]===h){const b=c[7],A=d[g+2];return b.length>A?b[A]:null}"string"==typeof _&&(g+=2)}return null}(a,c,d,h.index)),null!==xt)(xt.__ngLastListenerFn__||xt).__ngNextListenerFn__=g,xt.__ngLastListenerFn__=g,re=!1;else{g=Ra(h,c,j,g,!1);const Pt=l.listen(Ge,d,g);q.push(g,Pt),D&&D.push(d,ot,Oe,Oe+1)}}else g=Ra(h,c,j,g,!0),Ge.addEventListener(d,g,_),q.push(g),D&&D.push(d,ot,Oe,_)}else g=Ra(h,c,j,g,!1);const ge=h.outputs;let Se;if(re&&null!==ge&&(Se=ge[d])){const be=Se.length;if(be)for(let Ge=0;Ge<be;Ge+=2){const Wn=c[Se[Ge]][Se[Ge+1]].subscribe(g),yi=q.length;q.push(g,Wn),D&&D.push(d,h.index,yi,-(yi+1))}}}(g,d,d[11],_,a,c,!!l,h),du}function Qp(a,c,l,h){try{return!1!==l(h)}catch(d){return Dp(a,d),!1}}function Ra(a,c,l,h,d){return function g(_){if(_===Function)return h;const b=2&a.flags?E1(a.index,c):c;0==(32&c[2])&&xc(b);let A=Qp(c,0,h,_),I=g.__ngNextListenerFn__;for(;I;)A=Qp(c,0,I,_)&&A,I=I.__ngNextListenerFn__;return d&&!1===A&&(_.preventDefault(),_.returnValue=!1),A}}function Nc(a=1){return function(a){return(Ct.lFrame.contextLView=function(a,c){for(;a>0;)c=c[15],a--;return c}(a,Ct.lFrame.contextLView))[8]}(a)}function z_(a,c){let l=null;const h=function(a){const c=a.attrs;if(null!=c){const l=c.indexOf(5);if(0==(1&l))return c[l+1]}return null}(a);for(let d=0;d<c.length;d++){const g=c[d];if("*"!==g){if(null===h?R6(a,g,!0):Ny(h,g))return d}else l=d}return l}function $f(a){const c=Ue()[16][6];if(!c.projection){const h=c.projection=Ai(a?a.length:1,null),d=h.slice();let g=c.child;for(;null!==g;){const _=a?z_(g,a):0;null!==_&&(d[_]?d[_].projectionNext=g:h[_]=g,d[_]=g),g=g.next}}}function Jp(a,c=0,l){const h=Ue(),d=Lt(),g=so(d,20+a,16,null,l||null);null===g.projection&&(g.projection=c),t2(),64!=(64&g.flags)&&function(a,c,l){J9(c[11],0,c,l,zh(a,l,c),q9(l.parent||c[6],l,c))}(d,h,g)}function Kf(a,c,l,h,d){const g=a[l+1],_=null===c;let b=h?li(g):cs(g),A=!1;for(;0!==b&&(!1===A||_);){const D=a[b+1];rm(a[b],c)&&(A=!0,a[b+1]=h?Kr(D):Uh(D)),b=h?li(D):cs(D)}A&&(a[l+1]=h?Uh(g):Kr(g))}function rm(a,c){return null===a||null==c||(Array.isArray(a)?a[1]:a)===c||!(!Array.isArray(a)||"string"!=typeof c)&&u2(a,c)>=0}const jn={textEnd:0,key:0,keyEnd:0,value:0,valueEnd:0};function mu(a){return a.substring(jn.key,jn.keyEnd)}function im(a){return a.substring(jn.value,jn.valueEnd)}function om(a,c){const l=jn.textEnd;let h=jn.key=fs(a,c,l);return l===h?-1:(h=jn.keyEnd=function(a,c,l){let h;for(;c<l&&(45===(h=a.charCodeAt(c))||95===h||(-33&h)>=65&&(-33&h)<=90||h>=48&&h<=57);)c++;return c}(a,h,l),h=yu(a,h,l),h=jn.value=fs(a,h,l),h=jn.valueEnd=function(a,c,l){let h=-1,d=-1,g=-1,_=c,b=_;for(;_<l;){const A=a.charCodeAt(_++);if(59===A)return b;34===A||39===A?b=_=Lc(a,A,_,l):c===_-4&&85===g&&82===d&&76===h&&40===A?b=_=Lc(a,41,_,l):A>32&&(b=_),g=d,d=h,h=-33&A}return b}(a,h,l),yu(a,h,l))}function fs(a,c,l){for(;c<l&&a.charCodeAt(c)<=32;)c++;return c}function yu(a,c,l,h){return(c=fs(a,c,l))<l&&c++,c}function Lc(a,c,l,h){let d=-1,g=l;for(;g<h;){const _=a.charCodeAt(g++);if(_==c&&92!==d)return g;d=92==_&&92===d?0:_}throw new Error}function Fn(a,c){return function(a,c,l,h){const d=Ue(),g=Lt(),_=Mi(2);g.firstUpdatePass&&Qf(g,a,_,h),c!==St&&Z1(d,_,c)&&g3(g,g.data[r1()],d,d[11],a,d[_+1]=function(a,c){return null==a||("string"==typeof c?a+=c:"object"==typeof a&&(a=T(p1(a)))),a}(c,l),h,_)}(a,c,null,!0),Fn}function hi(a){!function(a,c,l,h){const d=Lt(),g=Mi(2);d.firstUpdatePass&&Qf(d,null,g,h);const _=Ue();if(l!==St&&Z1(_,g,l)){const b=d.data[r1()];if(fm(b,h)&&!Yf(d,g)){let A=h?b.classesWithoutHost:b.stylesWithoutHost;null!==A&&(l=F(A,l||"")),us(d,b,_,l,h)}else!function(a,c,l,h,d,g,_,b){d===St&&(d=He);let A=0,I=0,D=0<d.length?d[0]:null,j=0<g.length?g[0]:null;for(;null!==D||null!==j;){const q=A<d.length?d[A+1]:void 0,re=I<g.length?g[I+1]:void 0;let Se,ge=null;D===j?(A+=2,I+=2,q!==re&&(ge=j,Se=re)):null===j||null!==D&&D<j?(A+=2,ge=D):(I+=2,ge=j,Se=re),null!==ge&&g3(a,c,l,h,ge,Se,_,b),D=A<d.length?d[A]:null,j=I<g.length?g[I]:null}}(d,b,_,_[11],_[g+1],_[g+1]=function(a,c,l){if(null==l||""===l)return He;const h=[],d=p1(l);if(Array.isArray(d))for(let g=0;g<d.length;g++)a(h,d[g],!0);else if("object"==typeof d)for(const g in d)d.hasOwnProperty(g)&&a(h,g,d[g]);else"string"==typeof d&&c(h,d);return h}(a,c,l),h,g)}}(Xf,R_,a,!1)}function R_(a,c){for(let l=function(a){return function(a){jn.key=0,jn.keyEnd=0,jn.value=0,jn.valueEnd=0,jn.textEnd=a.length}(a),om(a,fs(a,0,jn.textEnd))}(c);l>=0;l=om(c,l))Xf(a,mu(c),im(c))}function Yf(a,c){return c>=a.expandoStartIndex}function Qf(a,c,l,h){const d=a.data;if(null===d[l+1]){const g=d[r1()],_=Yf(a,l);fm(g,h)&&null===c&&!_&&(c=!1),c=function(a,c,l,h){const d=function(a){const c=Ct.lFrame.currentDirectiveIndex;return-1===c?null:a[c]}(a);let g=h?c.residualClasses:c.residualStyles;if(null===d)0===(h?c.classBindings:c.styleBindings)&&(l=Oa(l=Jf(null,a,c,l,h),c.attrs,h),g=null);else{const _=c.directiveStylingLast;if(-1===_||a[_]!==d)if(l=Jf(d,a,c,l,h),null===g){let A=function(a,c,l){const h=l?c.classBindings:c.styleBindings;if(0!==cs(h))return a[li(h)]}(a,c,h);void 0!==A&&Array.isArray(A)&&(A=Jf(null,a,c,A[1],h),A=Oa(A,c.attrs,h),function(a,c,l,h){a[li(l?c.classBindings:c.styleBindings)]=h}(a,c,h,A))}else g=function(a,c,l){let h;const d=c.directiveEnd;for(let g=1+c.directiveStylingLast;g<d;g++)h=Oa(h,a[g].hostAttrs,l);return Oa(h,c.attrs,l)}(a,c,h)}return void 0!==g&&(h?c.residualClasses=g:c.residualStyles=g),l}(d,g,c,h),function(a,c,l,h,d,g){let _=g?c.classBindings:c.styleBindings,b=li(_),A=cs(_);a[h]=l;let D,I=!1;if(Array.isArray(l)){const j=l;D=j[1],(null===D||u2(j,D)>0)&&(I=!0)}else D=l;if(d)if(0!==A){const q=li(a[b+1]);a[h+1]=yc(q,b),0!==q&&(a[q+1]=Bh(a[q+1],h)),a[b+1]=function(a,c){return 131071&a|c<<17}(a[b+1],h)}else a[h+1]=yc(b,0),0!==b&&(a[b+1]=Bh(a[b+1],h)),b=h;else a[h+1]=yc(A,0),0===b?b=h:a[A+1]=Bh(a[A+1],h),A=h;I&&(a[h+1]=Uh(a[h+1])),Kf(a,D,h,!0),Kf(a,D,h,!1),function(a,c,l,h,d){const g=d?a.residualClasses:a.residualStyles;null!=g&&"string"==typeof c&&u2(g,c)>=0&&(l[h+1]=Kr(l[h+1]))}(c,D,a,h,g),_=yc(b,A),g?c.classBindings=_:c.styleBindings=_}(d,g,c,l,_,h)}}function Jf(a,c,l,h,d){let g=null;const _=l.directiveEnd;let b=l.directiveStylingLast;for(-1===b?b=l.directiveStart:b++;b<_&&(g=c[b],h=Oa(h,g.hostAttrs,d),g!==a);)b++;return null!==a&&(l.directiveStylingLast=b),h}function Oa(a,c,l){const h=l?1:2;let d=-1;if(null!==c)for(let g=0;g<c.length;g++){const _=c[g];"number"==typeof _?d=_:d===h&&(Array.isArray(a)||(a=void 0===a?[]:["",a]),zn(a,_,!!l||c[++g]))}return void 0===a?null:a}function Xf(a,c,l){zn(a,c,p1(l))}function g3(a,c,l,h,d,g,_,b){if(!(3&c.type))return;const A=a.data,I=A[b+1];Vc(function(a){return 1==(1&a)}(I)?td(A,c,l,d,cs(I),_):void 0)||(Vc(g)||function(a){return 2==(2&a)}(I)&&(g=td(A,null,l,d,b,_)),function(a,c,l,h,d){const g=hn(a);if(c)d?g?a.addClass(l,h):l.classList.add(h):g?a.removeClass(l,h):l.classList.remove(h);else{let _=-1===h.indexOf("-")?void 0:y2.DashCase;if(null==d)g?a.removeStyle(l,h,_):l.style.removeProperty(h);else{const b="string"==typeof d&&d.endsWith("!important");b&&(d=d.slice(0,-10),_|=y2.Important),g?a.setStyle(l,h,d,_):l.style.setProperty(h,d,b?"important":"")}}}(h,_,N0(r1(),l),d,g))}function td(a,c,l,h,d,g){const _=null===c;let b;for(;d>0;){const A=a[d],I=Array.isArray(A),D=I?A[1]:A,j=null===D;let q=l[d+1];q===St&&(q=j?He:void 0);let re=j?j1(q,h):D===h?q:void 0;if(I&&!Vc(re)&&(re=j1(A,h)),Vc(re)&&(b=re,_))return b;const ge=a[d+1];d=_?li(ge):cs(ge)}if(null!==c){let A=g?c.residualClasses:c.residualStyles;null!=A&&(b=j1(A,h))}return b}function Vc(a){return void 0!==a}function fm(a,c){return 0!=(a.flags&(c?16:32))}function nd(a,c=""){const l=Ue(),h=Lt(),d=a+20,g=h.firstCreatePass?so(h,d,1,c,null):h.data[d],_=l[d]=function(a,c){return hn(a)?a.createText(c):a.createTextNode(c)}(l[11],c);x8(h,l,_,g),xr(g,!1)}function Pa(a){return v3("",a,""),Pa}function v3(a,c,l){const h=Ue(),d=function(a,c,l,h){return Z1(a,r2(),l)?c+me(l)+h:St}(h,a,c,l);return d!==St&&ls(h,r1(),d),v3}function bu(a,c,l,h,d){const g=Ue(),_=function(a,c,l,h,d,g){const b=b2(a,br(),l,d);return Mi(2),b?c+me(l)+h+me(d)+g:St}(g,a,c,l,h,d);return _!==St&&ls(g,r1(),_),bu}function Fa(a,c,l){const h=Ue();return Z1(h,r2(),c)&&Yr(Lt(),dn(),h,a,c,h[11],l,!0),Fa}const st=void 0;var H_=["en",[["a","p"],["AM","PM"],st],[["AM","PM"],st,st],[["S","M","T","W","T","F","S"],["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],["Su","Mo","Tu","We","Th","Fr","Sa"]],st,[["J","F","M","A","M","J","J","A","S","O","N","D"],["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],["January","February","March","April","May","June","July","August","September","October","November","December"]],st,[["B","A"],["BC","AD"],["Before Christ","Anno Domini"]],0,[6,0],["M/d/yy","MMM d, y","MMMM d, y","EEEE, MMMM d, y"],["h:mm a","h:mm:ss a","h:mm:ss a z","h:mm:ss a zzzz"],["{1}, {0}",st,"{1} 'at' {0}",st],[".",",",";","%","+","-","E","\xd7","\u2030","\u221e","NaN",":"],["#,##0.###","#,##0%","\xa4#,##0.00","#E0"],"USD","$","US Dollar",{},"ltr",function(a){const c=Math.floor(Math.abs(a)),l=a.toString().replace(/^[^.]*\.?/,"").length;return 1===c&&0===l?1:5}];let Ye={};function je(a){const c=function(a){return a.toLowerCase().replace(/_/g,"-")}(a);let l=Am(c);if(l)return l;const h=c.split("-")[0];if(l=Am(h),l)return l;if("en"===h)return H_;throw new Error(`Missing locale data for the locale "${a}".`)}function ad(a){return je(a)[mt.PluralCase]}function Am(a){return a in Ye||(Ye[a]=te.ng&&te.ng.common&&te.ng.common.locales&&te.ng.common.locales[a]),Ye[a]}var mt=(()=>((mt=mt||{})[mt.LocaleId=0]="LocaleId",mt[mt.DayPeriodsFormat=1]="DayPeriodsFormat",mt[mt.DayPeriodsStandalone=2]="DayPeriodsStandalone",mt[mt.DaysFormat=3]="DaysFormat",mt[mt.DaysStandalone=4]="DaysStandalone",mt[mt.MonthsFormat=5]="MonthsFormat",mt[mt.MonthsStandalone=6]="MonthsStandalone",mt[mt.Eras=7]="Eras",mt[mt.FirstDayOfWeek=8]="FirstDayOfWeek",mt[mt.WeekendRange=9]="WeekendRange",mt[mt.DateFormat=10]="DateFormat",mt[mt.TimeFormat=11]="TimeFormat",mt[mt.DateTimeFormat=12]="DateTimeFormat",mt[mt.NumberSymbols=13]="NumberSymbols",mt[mt.NumberFormats=14]="NumberFormats",mt[mt.CurrencyCode=15]="CurrencyCode",mt[mt.CurrencySymbol=16]="CurrencySymbol",mt[mt.CurrencyName=17]="CurrencyName",mt[mt.Currencies=18]="Currencies",mt[mt.Directionality=19]="Directionality",mt[mt.PluralCase=20]="PluralCase",mt[mt.ExtraData=21]="ExtraData",mt))();const Du="en-US";let Dt=Du;function Tu(a){ut(a,"Expected localeId to be defined"),"string"==typeof a&&(Dt=a.toLowerCase().replace(/_/g,"-"))}function xd(a,c,l,h,d){if(a=Q(a),Array.isArray(a))for(let g=0;g<a.length;g++)xd(a[g],c,l,h,d);else{const g=Lt(),_=Ue();let b=Mc(a)?a:Q(a.provide),A=$6(a);const I=Pn(),D=1048575&I.providerIndexes,j=I.directiveStart,q=I.providerIndexes>>20;if(Mc(a)||!a.multi){const re=new s2(A,d,Ic),ge=ys(b,c,d?D:D+q,j);-1===ge?(r6(wr(I,_),g,b),Fu(g,a,c.length),c.push(b),I.directiveStart++,I.directiveEnd++,d&&(I.providerIndexes+=1048576),l.push(re),_.push(re)):(l[ge]=re,_[ge]=re)}else{const re=ys(b,c,D+q,j),ge=ys(b,c,D,D+q),Se=re>=0&&l[re],be=ge>=0&&l[ge];if(d&&!be||!d&&!Se){r6(wr(I,_),g,b);const Ge=function(a,c,l,h,d){const g=new s2(a,l,Ic);return g.multi=[],g.index=c,g.componentProviders=0,Ga(g,d,h&&!l),g}(d?Wa:Um,l.length,d,h,A);!d&&be&&(l[ge].providerFactory=Ge),Fu(g,a,c.length,0),c.push(b),I.directiveStart++,I.directiveEnd++,d&&(I.providerIndexes+=1048576),l.push(Ge),_.push(Ge)}else Fu(g,a,re>-1?re:ge,Ga(l[d?ge:re],A,!d&&h));!d&&h&&be&&l[ge].componentProviders++}}}function Fu(a,c,l,h){const d=Mc(c);if(d||function(a){return!!a.useClass}(c)){const _=(c.useClass||c).prototype.ngOnDestroy;if(_){const b=a.destroyHooks||(a.destroyHooks=[]);if(!d&&c.multi){const A=b.indexOf(l);-1===A?b.push(l,[h,_]):b[A+1].push(h,_)}else b.push(l,_)}}}function Ga(a,c,l){return l&&a.componentProviders++,a.multi.push(c)-1}function ys(a,c,l,h){for(let d=l;d<h;d++)if(c[d]===a)return d;return-1}function Um(a,c,l,h){return Uu(this.multi,[])}function Wa(a,c,l,h){const d=this.multi;let g;if(this.providerFactory){const _=this.providerFactory.componentProviders,b=Us(l,l[1],this.providerFactory.index,h);g=b.slice(0,_),Uu(d,g);for(let A=_;A<b.length;A++)g.push(b[A])}else g=[],Uu(d,g);return g}function Uu(a,c){for(let l=0;l<a.length;l++)c.push((0,a[l])());return c}function bd(a,c=[]){return l=>{l.providersResolver=(h,d)=>function(a,c,l){const h=Lt();if(h.firstCreatePass){const d=Fr(a);xd(l,h.data,h.blueprint,d,!0),xd(c,h.data,h.blueprint,d,!1)}}(h,d?d(a):a,c)}}class Yc{}const $m="ngComponent";class Bu{resolveComponentFactory(c){throw function(a){const c=Error(`No component factory found for ${T(a)}. Did you add it to @NgModule.entryComponents?`);return c[$m]=a,c}(c)}}class S2{}function ju(...a){}function Za(a,c){return new Fi(or(a,c))}S2.NULL=new Bu;const Wm=function(){return Za(Pn(),Ue())};let Fi=(()=>{class a{constructor(l){this.nativeElement=l}}return a.__NG_ELEMENT_ID__=Wm,a})();function wd(a){return a instanceof Fi?a.nativeElement:a}class Qc{}let eC=(()=>{class a{}return a.__NG_ELEMENT_ID__=()=>Zm(),a})();const Zm=function(){const a=Ue(),l=E1(Pn().index,a);return function(a){return a[11]}(Hr(l)?l:a)};let Jc=(()=>{class a{}return a.\u0275prov=Qt({token:a,providedIn:"root",factory:()=>null}),a})();class y1{constructor(c){this.full=c,this.major=c.split(".")[0],this.minor=c.split(".")[1],this.patch=c.split(".").slice(2).join(".")}}const An=new y1("12.2.2");class Md{constructor(){}supports(c){return t3(c)}create(c){return new nC(c)}}const tC=(a,c)=>c;class nC{constructor(c){this.length=0,this._linkedRecords=null,this._unlinkedRecords=null,this._previousItHead=null,this._itHead=null,this._itTail=null,this._additionsHead=null,this._additionsTail=null,this._movesHead=null,this._movesTail=null,this._removalsHead=null,this._removalsTail=null,this._identityChangesHead=null,this._identityChangesTail=null,this._trackByFn=c||tC}forEachItem(c){let l;for(l=this._itHead;null!==l;l=l._next)c(l)}forEachOperation(c){let l=this._itHead,h=this._removalsHead,d=0,g=null;for(;l||h;){const _=!h||l&&l.currentIndex<Km(h,d,g)?l:h,b=Km(_,d,g),A=_.currentIndex;if(_===h)d--,h=h._nextRemoved;else if(l=l._next,null==_.previousIndex)d++;else{g||(g=[]);const I=b-d,D=A-d;if(I!=D){for(let q=0;q<I;q++){const re=q<g.length?g[q]:g[q]=0,ge=re+q;D<=ge&&ge<I&&(g[q]=re+1)}g[_.previousIndex]=D-I}}b!==A&&c(_,b,A)}}forEachPreviousItem(c){let l;for(l=this._previousItHead;null!==l;l=l._nextPrevious)c(l)}forEachAddedItem(c){let l;for(l=this._additionsHead;null!==l;l=l._nextAdded)c(l)}forEachMovedItem(c){let l;for(l=this._movesHead;null!==l;l=l._nextMoved)c(l)}forEachRemovedItem(c){let l;for(l=this._removalsHead;null!==l;l=l._nextRemoved)c(l)}forEachIdentityChange(c){let l;for(l=this._identityChangesHead;null!==l;l=l._nextIdentityChange)c(l)}diff(c){if(null==c&&(c=[]),!t3(c))throw new Error(`Error trying to diff '${T(c)}'. Only arrays and iterables are allowed`);return this.check(c)?this:null}onDestroy(){}check(c){this._reset();let d,g,_,l=this._itHead,h=!1;if(Array.isArray(c)){this.length=c.length;for(let b=0;b<this.length;b++)g=c[b],_=this._trackByFn(b,g),null!==l&&Object.is(l.trackById,_)?(h&&(l=this._verifyReinsertion(l,g,_,b)),Object.is(l.item,g)||this._addIdentityChange(l,g)):(l=this._mismatch(l,g,_,b),h=!0),l=l._next}else d=0,function(a,c){if(Array.isArray(a))for(let l=0;l<a.length;l++)c(a[l]);else{const l=a[co()]();let h;for(;!(h=l.next()).done;)c(h.value)}}(c,b=>{_=this._trackByFn(d,b),null!==l&&Object.is(l.trackById,_)?(h&&(l=this._verifyReinsertion(l,b,_,d)),Object.is(l.item,b)||this._addIdentityChange(l,b)):(l=this._mismatch(l,b,_,d),h=!0),l=l._next,d++}),this.length=d;return this._truncate(l),this.collection=c,this.isDirty}get isDirty(){return null!==this._additionsHead||null!==this._movesHead||null!==this._removalsHead||null!==this._identityChangesHead}_reset(){if(this.isDirty){let c;for(c=this._previousItHead=this._itHead;null!==c;c=c._next)c._nextPrevious=c._next;for(c=this._additionsHead;null!==c;c=c._nextAdded)c.previousIndex=c.currentIndex;for(this._additionsHead=this._additionsTail=null,c=this._movesHead;null!==c;c=c._nextMoved)c.previousIndex=c.currentIndex;this._movesHead=this._movesTail=null,this._removalsHead=this._removalsTail=null,this._identityChangesHead=this._identityChangesTail=null}}_mismatch(c,l,h,d){let g;return null===c?g=this._itTail:(g=c._prev,this._remove(c)),null!==(c=null===this._unlinkedRecords?null:this._unlinkedRecords.get(h,null))?(Object.is(c.item,l)||this._addIdentityChange(c,l),this._reinsertAfter(c,g,d)):null!==(c=null===this._linkedRecords?null:this._linkedRecords.get(h,d))?(Object.is(c.item,l)||this._addIdentityChange(c,l),this._moveAfter(c,g,d)):c=this._addAfter(new Ed(l,h),g,d),c}_verifyReinsertion(c,l,h,d){let g=null===this._unlinkedRecords?null:this._unlinkedRecords.get(h,null);return null!==g?c=this._reinsertAfter(g,c._prev,d):c.currentIndex!=d&&(c.currentIndex=d,this._addToMoves(c,d)),c}_truncate(c){for(;null!==c;){const l=c._next;this._addToRemovals(this._unlink(c)),c=l}null!==this._unlinkedRecords&&this._unlinkedRecords.clear(),null!==this._additionsTail&&(this._additionsTail._nextAdded=null),null!==this._movesTail&&(this._movesTail._nextMoved=null),null!==this._itTail&&(this._itTail._next=null),null!==this._removalsTail&&(this._removalsTail._nextRemoved=null),null!==this._identityChangesTail&&(this._identityChangesTail._nextIdentityChange=null)}_reinsertAfter(c,l,h){null!==this._unlinkedRecords&&this._unlinkedRecords.remove(c);const d=c._prevRemoved,g=c._nextRemoved;return null===d?this._removalsHead=g:d._nextRemoved=g,null===g?this._removalsTail=d:g._prevRemoved=d,this._insertAfter(c,l,h),this._addToMoves(c,h),c}_moveAfter(c,l,h){return this._unlink(c),this._insertAfter(c,l,h),this._addToMoves(c,h),c}_addAfter(c,l,h){return this._insertAfter(c,l,h),this._additionsTail=null===this._additionsTail?this._additionsHead=c:this._additionsTail._nextAdded=c,c}_insertAfter(c,l,h){const d=null===l?this._itHead:l._next;return c._next=d,c._prev=l,null===d?this._itTail=c:d._prev=c,null===l?this._itHead=c:l._next=c,null===this._linkedRecords&&(this._linkedRecords=new Ad),this._linkedRecords.put(c),c.currentIndex=h,c}_remove(c){return this._addToRemovals(this._unlink(c))}_unlink(c){null!==this._linkedRecords&&this._linkedRecords.remove(c);const l=c._prev,h=c._next;return null===l?this._itHead=h:l._next=h,null===h?this._itTail=l:h._prev=l,c}_addToMoves(c,l){return c.previousIndex===l||(this._movesTail=null===this._movesTail?this._movesHead=c:this._movesTail._nextMoved=c),c}_addToRemovals(c){return null===this._unlinkedRecords&&(this._unlinkedRecords=new Ad),this._unlinkedRecords.put(c),c.currentIndex=null,c._nextRemoved=null,null===this._removalsTail?(this._removalsTail=this._removalsHead=c,c._prevRemoved=null):(c._prevRemoved=this._removalsTail,this._removalsTail=this._removalsTail._nextRemoved=c),c}_addIdentityChange(c,l){return c.item=l,this._identityChangesTail=null===this._identityChangesTail?this._identityChangesHead=c:this._identityChangesTail._nextIdentityChange=c,c}}class Ed{constructor(c,l){this.item=c,this.trackById=l,this.currentIndex=null,this.previousIndex=null,this._nextPrevious=null,this._prev=null,this._next=null,this._prevDup=null,this._nextDup=null,this._prevRemoved=null,this._nextRemoved=null,this._nextAdded=null,this._nextMoved=null,this._nextIdentityChange=null}}class rC{constructor(){this._head=null,this._tail=null}add(c){null===this._head?(this._head=this._tail=c,c._nextDup=null,c._prevDup=null):(this._tail._nextDup=c,c._prevDup=this._tail,c._nextDup=null,this._tail=c)}get(c,l){let h;for(h=this._head;null!==h;h=h._nextDup)if((null===l||l<=h.currentIndex)&&Object.is(h.trackById,c))return h;return null}remove(c){const l=c._prevDup,h=c._nextDup;return null===l?this._head=h:l._nextDup=h,null===h?this._tail=l:h._prevDup=l,null===this._head}}class Ad{constructor(){this.map=new Map}put(c){const l=c.trackById;let h=this.map.get(l);h||(h=new rC,this.map.set(l,h)),h.add(c)}get(c,l){const d=this.map.get(c);return d?d.get(c,l):null}remove(c){const l=c.trackById;return this.map.get(l).remove(c)&&this.map.delete(l),c}get isEmpty(){return 0===this.map.size}clear(){this.map.clear()}}function Km(a,c,l){const h=a.previousIndex;if(null===h)return h;let d=0;return l&&h<l.length&&(d=l[h]),h+c+d}class en{constructor(){}supports(c){return c instanceof Map||Mf(c)}create(){return new iC}}class iC{constructor(){this._records=new Map,this._mapHead=null,this._appendAfter=null,this._previousMapHead=null,this._changesHead=null,this._changesTail=null,this._additionsHead=null,this._additionsTail=null,this._removalsHead=null,this._removalsTail=null}get isDirty(){return null!==this._additionsHead||null!==this._changesHead||null!==this._removalsHead}forEachItem(c){let l;for(l=this._mapHead;null!==l;l=l._next)c(l)}forEachPreviousItem(c){let l;for(l=this._previousMapHead;null!==l;l=l._nextPrevious)c(l)}forEachChangedItem(c){let l;for(l=this._changesHead;null!==l;l=l._nextChanged)c(l)}forEachAddedItem(c){let l;for(l=this._additionsHead;null!==l;l=l._nextAdded)c(l)}forEachRemovedItem(c){let l;for(l=this._removalsHead;null!==l;l=l._nextRemoved)c(l)}diff(c){if(c){if(!(c instanceof Map||Mf(c)))throw new Error(`Error trying to diff '${T(c)}'. Only maps and objects are allowed`)}else c=new Map;return this.check(c)?this:null}onDestroy(){}check(c){this._reset();let l=this._mapHead;if(this._appendAfter=null,this._forEach(c,(h,d)=>{if(l&&l.key===d)this._maybeAddToChanges(l,h),this._appendAfter=l,l=l._next;else{const g=this._getOrCreateRecordForKey(d,h);l=this._insertBeforeOrAppend(l,g)}}),l){l._prev&&(l._prev._next=null),this._removalsHead=l;for(let h=l;null!==h;h=h._nextRemoved)h===this._mapHead&&(this._mapHead=null),this._records.delete(h.key),h._nextRemoved=h._next,h.previousValue=h.currentValue,h.currentValue=null,h._prev=null,h._next=null}return this._changesTail&&(this._changesTail._nextChanged=null),this._additionsTail&&(this._additionsTail._nextAdded=null),this.isDirty}_insertBeforeOrAppend(c,l){if(c){const h=c._prev;return l._next=c,l._prev=h,c._prev=l,h&&(h._next=l),c===this._mapHead&&(this._mapHead=l),this._appendAfter=c,c}return this._appendAfter?(this._appendAfter._next=l,l._prev=this._appendAfter):this._mapHead=l,this._appendAfter=l,null}_getOrCreateRecordForKey(c,l){if(this._records.has(c)){const d=this._records.get(c);this._maybeAddToChanges(d,l);const g=d._prev,_=d._next;return g&&(g._next=_),_&&(_._prev=g),d._next=null,d._prev=null,d}const h=new Gu(c);return this._records.set(c,h),h.currentValue=l,this._addToAdditions(h),h}_reset(){if(this.isDirty){let c;for(this._previousMapHead=this._mapHead,c=this._previousMapHead;null!==c;c=c._next)c._nextPrevious=c._next;for(c=this._changesHead;null!==c;c=c._nextChanged)c.previousValue=c.currentValue;for(c=this._additionsHead;null!=c;c=c._nextAdded)c.previousValue=c.currentValue;this._changesHead=this._changesTail=null,this._additionsHead=this._additionsTail=null,this._removalsHead=null}}_maybeAddToChanges(c,l){Object.is(l,c.currentValue)||(c.previousValue=c.currentValue,c.currentValue=l,this._addToChanges(c))}_addToAdditions(c){null===this._additionsHead?this._additionsHead=this._additionsTail=c:(this._additionsTail._nextAdded=c,this._additionsTail=c)}_addToChanges(c){null===this._changesHead?this._changesHead=this._changesTail=c:(this._changesTail._nextChanged=c,this._changesTail=c)}_forEach(c,l){c instanceof Map?c.forEach(l):Object.keys(c).forEach(h=>l(c[h],h))}}class Gu{constructor(c){this.key=c,this.previousValue=null,this.currentValue=null,this._nextPrevious=null,this._next=null,this._prev=null,this._nextAdded=null,this._nextRemoved=null,this._nextChanged=null}}function Xc(){return new vo([new Md])}let vo=(()=>{class a{constructor(l){this.factories=l}static create(l,h){if(null!=h){const d=h.factories.slice();l=l.concat(d)}return new a(l)}static extend(l){return{provide:a,useFactory:h=>a.create(l,h||Xc()),deps:[[a,new Ii,new jr]]}}find(l){const h=this.factories.find(d=>d.supports(l));if(null!=h)return h;throw new Error(`Cannot find a differ supporting object '${l}' of type '${function(a){return a.name||typeof a}(l)}'`)}}return a.\u0275prov=Qt({token:a,providedIn:"root",factory:Xc}),a})();function Sd(){return new M3([new en])}let M3=(()=>{class a{constructor(l){this.factories=l}static create(l,h){if(h){const d=h.factories.slice();l=l.concat(d)}return new a(l)}static extend(l){return{provide:a,useFactory:h=>a.create(l,h||Sd()),deps:[[a,new Ii,new jr]]}}find(l){const h=this.factories.find(d=>d.supports(l));if(h)return h;throw new Error(`Cannot find a differ supporting object '${l}'`)}}return a.\u0275prov=Qt({token:a,providedIn:"root",factory:Sd}),a})();function E3(a,c,l,h,d=!1){for(;null!==l;){const g=c[l.index];if(null!==g&&h.push(fn(g)),Nn(g))for(let b=10;b<g.length;b++){const A=g[b],I=A[1].firstChild;null!==I&&E3(A[1],A,I,h)}const _=l.type;if(8&_)E3(a,c,l.child,h);else if(32&_){const b=Rt(l,c);let A;for(;A=b();)h.push(A)}else if(16&_){const b=kh(c,l);if(Array.isArray(b))h.push(...b);else{const A=N6(c[16]);E3(A[1],A,b,h,!0)}}l=d?l.projectionNext:l.next}return h}class A3{constructor(c,l){this._lView=c,this._cdRefInjectingView=l,this._appRef=null,this._attachedToViewContainer=!1}get rootNodes(){const c=this._lView,l=c[1];return E3(l,c,l.firstChild,[])}get context(){return this._lView[8]}set context(c){this._lView[8]=c}get destroyed(){return 256==(256&this._lView[2])}destroy(){if(this._appRef)this._appRef.detachView(this);else if(this._attachedToViewContainer){const c=this._lView[3];if(Nn(c)){const l=c[8],h=l?l.indexOf(this):-1;h>-1&&(Vi(c,h),l2(l,h))}this._attachedToViewContainer=!1}Th(this._lView[1],this._lView)}onDestroy(c){yp(this._lView[1],this._lView,null,c)}markForCheck(){xc(this._cdRefInjectingView||this._lView)}detach(){this._lView[2]&=-129}reattach(){this._lView[2]|=128}detectChanges(){U8(this._lView[1],this._lView,this.context)}checkNoChanges(){!function(a,c,l){n2(!0);try{U8(a,c,l)}finally{n2(!1)}}(this._lView[1],this._lView,this.context)}attachToViewContainerRef(){if(this._appRef)throw new Error("This view is already attached directly to the ApplicationRef!");this._attachedToViewContainer=!0}detachFromAppRef(){var c;this._appRef=null,L6(this._lView[1],c=this._lView,c[11],2,null,null)}attachToAppRef(c){if(this._attachedToViewContainer)throw new Error("This view is already attached to a ViewContainer!");this._appRef=c}}class Ym extends A3{constructor(c){super(c),this._view=c}detectChanges(){of(this._view)}checkNoChanges(){!function(a){n2(!0);try{of(a)}finally{n2(!1)}}(this._view)}get context(){return null}}const sC=function(a){return function(a,c,l){if(C0(a)&&!l){const h=E1(a.index,c);return new A3(h,h)}return 47&a.type?new A3(c[16],c):null}(Pn(),Ue(),16==(16&a))};let oC=(()=>{class a{}return a.__NG_ELEMENT_ID__=sC,a})();const aC=[new en],Id=new vo([new Md]),Xm=new M3(aC),Dd=function(){return T3(Pn(),Ue())};let e4=(()=>{class a{}return a.__NG_ELEMENT_ID__=Dd,a})();const D3=e4,eg=class extends D3{constructor(c,l,h){super(),this._declarationLView=c,this._declarationTContainer=l,this.elementRef=h}createEmbeddedView(c){const l=this._declarationTContainer.tViews,h=ba(this._declarationLView,l,c,16,null,l.declTNode,null,null,null,null);h[17]=this._declarationLView[this._declarationTContainer.index];const g=this._declarationLView[19];return null!==g&&(h[19]=g.createEmbeddedView(l)),O6(l,h,c),new A3(h)}};function T3(a,c){return 4&a.type?new eg(c,a,Za(a,c)):null}class Ka{}class ng{}const lC=function(){return Nd(Pn(),Ue())};let N3=(()=>{class a{}return a.__NG_ELEMENT_ID__=lC,a})();const ig=N3,sg=class extends ig{constructor(c,l,h){super(),this._lContainer=c,this._hostTNode=l,this._hostLView=h}get element(){return Za(this._hostTNode,this._hostLView)}get injector(){return new Bs(this._hostTNode,this._hostLView)}get parentInjector(){const c=B0(this._hostTNode,this._hostLView);if(t6(c)){const l=Ps(c,this._hostLView),h=Qo(c);return new Bs(l[1].data[h+8],l)}return new Bs(null,this._hostLView)}clear(){for(;this.length>0;)this.remove(this.length-1)}get(c){const l=Td(this._lContainer);return null!==l&&l[c]||null}get length(){return this._lContainer.length-10}createEmbeddedView(c,l,h){const d=c.createEmbeddedView(l||{});return this.insert(d,h),d}createComponent(c,l,h,d,g){const _=h||this.parentInjector;if(!g&&null==c.ngModule&&_){const A=_.get(Ka,null);A&&(g=A)}const b=c.create(_,d,void 0,g);return this.insert(b.hostView,l),b}insert(c,l){const h=c._lView,d=h[1];if(Nn(h[3])){const D=this.indexOf(c);if(-1!==D)this.detach(D);else{const j=h[3],q=new sg(j,j[6],j[3]);q.detach(q.indexOf(c))}}const g=this._adjustIndex(l),_=this._lContainer;!function(a,c,l,h){const d=10+h,g=l.length;h>0&&(l[d-1][4]=c),h<g-10?(c[4]=l[d],W0(l,10+h,c)):(l.push(c),c[4]=null),c[3]=l;const _=c[17];null!==_&&l!==_&&function(a,c){const l=a[9];c[16]!==c[3][3][16]&&(a[2]=!0),null===l?a[9]=[c]:l.push(c)}(_,c);const b=c[19];null!==b&&b.insertView(a),c[2]|=128}(d,h,_,g);const b=Oh(g,_),A=h[11],I=z6(A,_[7]);return null!==I&&function(a,c,l,h,d,g){h[0]=d,h[6]=c,L6(a,h,l,1,d,g)}(d,_[6],A,h,I,b),c.attachToViewContainerRef(),W0(qu(_),g,c),c}move(c,l){return this.insert(c,l)}indexOf(c){const l=Td(this._lContainer);return null!==l?l.indexOf(c):-1}remove(c){const l=this._adjustIndex(c,-1),h=Vi(this._lContainer,l);h&&(l2(qu(this._lContainer),l),Th(h[1],h))}detach(c){const l=this._adjustIndex(c,-1),h=Vi(this._lContainer,l);return h&&null!=l2(qu(this._lContainer),l)?new A3(h):null}_adjustIndex(c,l=0){return null==c?this.length+l:c}};function Td(a){return a[8]}function qu(a){return a[8]||(a[8]=[])}function Nd(a,c){let l;const h=c[a.index];if(Nn(h))l=h;else{let d;if(8&a.type)d=fn(h);else{const g=c[11];d=g.createComment("");const _=or(a,c);os(g,z6(g,_),d,function(a,c){return hn(a)?a.nextSibling(c):c.nextSibling}(g,_),!1)}c[a.index]=l=P8(h,c,d,a),F8(c,l)}return new sg(l,a,c)}const $i={};class Ag extends S2{constructor(c){super(),this.ngModule=c}resolveComponentFactory(c){const l=n1(c);return new i5(l,this.ngModule)}}function r5(a){const c=[];for(let l in a)a.hasOwnProperty(l)&&c.push({propName:a[l],templateName:l});return c}const Zd=new xn("SCHEDULER_TOKEN",{providedIn:"root",factory:()=>_a});class i5 extends Yc{constructor(c,l){super(),this.componentDef=c,this.ngModule=l,this.componentType=c.type,this.selector=c.selectors.map(Ph).join(","),this.ngContentSelectors=c.ngContentSelectors?c.ngContentSelectors:[],this.isBoundToModule=!!l}get inputs(){return r5(this.componentDef.inputs)}get outputs(){return r5(this.componentDef.outputs)}create(c,l,h,d){const g=(d=d||this.ngModule)?function(a,c){return{get:(l,h,d)=>{const g=a.get(l,$i,d);return g!==$i||h===$i?g:c.get(l,h,d)}}}(c,d.injector):c,_=g.get(Qc,T0),b=g.get(Jc,null),A=_.createRenderer(null,this.componentDef),I=this.componentDef.selectors[0][0]||"div",D=h?function(a,c,l){if(hn(a))return a.selectRootElement(c,l===Jt.ShadowDom);let h="string"==typeof c?a.querySelector(c):c;return h.textContent="",h}(A,h,this.componentDef.encapsulation):Dh(_.createRenderer(null,this.componentDef),I,function(a){const c=a.toLowerCase();return"svg"===c?"http://www.w3.org/2000/svg":"math"===c?"http://www.w3.org/1998/MathML/":null}(I)),j=this.componentDef.onPush?576:528,q=function(a,c){return{components:[],scheduler:a||_a,clean:Ap,playerHandler:c||null,flags:0}}(),re=F6(0,null,null,1,0,null,null,null,null,null),ge=ba(null,re,q,j,null,null,_,A,b,g);let Se,be;Ko(ge);try{const Ge=function(a,c,l,h,d,g){const _=l[1];l[20]=a;const A=so(_,20,2,"#host",null),I=A.mergedAttrs=c.hostAttrs;null!==I&&(B8(A,I,!0),null!==a&&(c2(d,a,I),null!==A.classes&&V6(d,a,A.classes),null!==A.styles&&X9(d,a,A.styles)));const D=h.createRenderer(a,c),j=ba(l,mp(c),null,c.onPush?64:16,l[20],A,h,D,g||null,null);return _.firstCreatePass&&(r6(wr(A,l),_,c.type),bp(_,A),nf(A,l.length,1)),F8(l,j),l[20]=j}(D,this.componentDef,ge,_,A);if(D)if(h)c2(A,D,["ng-version",An.full]);else{const{attrs:Oe,classes:ot}=function(a){const c=[],l=[];let h=1,d=2;for(;h<a.length;){let g=a[h];if("string"==typeof g)2===d?""!==g&&c.push(g,a[++h]):8===d&&l.push(g);else{if(!qr(d))break;d=g}h++}return{attrs:c,classes:l}}(this.componentDef.selectors[0]);Oe&&c2(A,D,Oe),ot&&ot.length>0&&V6(A,D,ot.join(" "))}if(be=Ji(re,20),void 0!==l){const Oe=be.projection=[];for(let ot=0;ot<this.ngContentSelectors.length;ot++){const xt=l[ot];Oe.push(null!=xt?Array.from(xt):null)}}Se=function(a,c,l,h,d){const g=l[1],_=function(a,c,l){const h=Pn();a.firstCreatePass&&(l.providersResolver&&l.providersResolver(l),rf(a,h,c,ki(a,c,1,null),l));const d=Us(c,a,h.directiveStart,h);Yt(d,c);const g=or(h,c);return g&&Yt(g,c),d}(g,l,c);if(h.components.push(_),a[8]=_,d&&d.forEach(A=>A(_,c)),c.contentQueries){const A=Pn();c.contentQueries(1,_,A.directiveStart)}const b=Pn();return!g.firstCreatePass||null===c.hostBindings&&null===c.hostAttrs||(U1(b.index),xp(l[1],b,0,b.directiveStart,b.directiveEnd,c),O8(c,_)),_}(Ge,this.componentDef,ge,q,[g_]),O6(re,ge,null)}finally{Ol()}return new NC(this.componentType,Se,Za(be,ge),ge,be)}}class NC extends class{}{constructor(c,l,h,d,g){super(),this.location=h,this._rootLView=d,this._tNode=g,this.instance=l,this.hostView=this.changeDetectorRef=new Ym(d),this.componentType=c}get injector(){return new Bs(this._tNode,this._rootLView)}destroy(){this.hostView.destroy()}onDestroy(c){this.hostView.onDestroy(c)}}const l4=new Map;class Yd extends Ka{constructor(c,l){super(),this._parent=l,this._bootstrapComponents=[],this.injector=this,this.destroyCbs=[],this.componentFactoryResolver=new Ag(this);const h=jt(c),d=c[_n]||null;d&&Tu(d),this._bootstrapComponents=Li(h.bootstrap),this._r3Injector=T1(c,l,[{provide:Ka,useValue:this},{provide:S2,useValue:this.componentFactoryResolver}],T(c)),this._r3Injector._resolveInjectorDefTypes(),this.instance=this.get(c)}get(c,l=Ae.THROW_IF_NOT_FOUND,h=Fe.Default){return c===Ae||c===Ka||c===j6?this:this._r3Injector.get(c,l,h)}destroy(){const c=this._r3Injector;!c.destroyed&&c.destroy(),this.destroyCbs.forEach(l=>l()),this.destroyCbs=null}onDestroy(c){this.destroyCbs.push(c)}}class u4 extends ng{constructor(c){super(),this.moduleType=c,null!==jt(c)&&function(a){const c=new Set;!function l(h){const d=jt(h,!0),g=d.id;null!==g&&(function(a,c,l){if(c&&c!==l)throw new Error(`Duplicate module registered for ${a} - ${T(c)} vs ${T(c.name)}`)}(g,l4.get(g),h),l4.set(g,h));const _=Li(d.imports);for(const b of _)c.has(b)||(c.add(b),l(b))}(a)}(c)}create(c){return new Yd(this.moduleType,c)}}function h4(a,c,l){const h=F1()+a,d=Ue();return d[h]===St?Dr(d,h,l?c.call(l):c()):function(a,c){return a[c]}(d,h)}function B3(a,c,l,h){return function(a,c,l,h,d,g){const _=c+l;return Z1(a,_,d)?Dr(a,_+1,g?h.call(g,d):h(d)):j3(a,_+1)}(Ue(),F1(),a,c,l,h)}function j3(a,c){const l=a[c];return l===St?void 0:l}function Tg(a,c){const l=Lt();let h;const d=a+20;l.firstCreatePass?(h=function(a,c){if(c)for(let l=c.length-1;l>=0;l--){const h=c[l];if(a===h.name)return h}throw new ae("302",`The pipe '${a}' could not be found!`)}(c,l.pipeRegistry),l.data[d]=h,h.onDestroy&&(l.destroyHooks||(l.destroyHooks=[])).push(d,h.onDestroy)):h=l.data[d];const g=h.factory||(h.factory=Qi(h.type)),_=qt(Ic);try{const b=Fs(!1),A=g();return Fs(b),function(a,c,l,h){l>=a.data.length&&(a.data[l]=null,a.blueprint[l]=null),c[l]=h}(l,Ue(),d,A),A}finally{qt(_)}}function Ng(a,c,l,h){const d=a+20,g=Ue(),_=function(a,c){return a[c]}(g,d);return function(a,c){Pi.isWrapped(c)&&(c=Pi.unwrap(c),a[br()]=St);return c}(g,function(a,c){return a[1].data[c].pure}(g,d)?function(a,c,l,h,d,g,_){const b=c+l;return b2(a,b,d,g)?Dr(a,b+2,_?h.call(_,d,g):h(d,g)):j3(a,b+2)}(g,F1(),c,_.transform,l,h,_):_.transform(l,h))}function o0(a){return c=>{setTimeout(a,void 0,c)}}const mi=class extends m.xQ{constructor(c=!1){super(),this.__isAsync=c}emit(c){super.next(c)}subscribe(c,l,h){var d,g,_;let b=c,A=l||(()=>null),I=h;if(c&&"object"==typeof c){const j=c;b=null===(d=j.next)||void 0===d?void 0:d.bind(j),A=null===(g=j.error)||void 0===g?void 0:g.bind(j),I=null===(_=j.complete)||void 0===_?void 0:_.bind(j)}this.__isAsync&&(A=o0(A),b&&(b=o0(b)),I&&(I=o0(I)));const D=super.subscribe({next:b,error:A,complete:I});return c instanceof U.w&&c.add(D),D}};function zg(){return this._results[co()]()}class d4{constructor(c=!1){this._emitDistinctChangesOnly=c,this.dirty=!0,this._results=[],this._changesDetected=!1,this._changes=null,this.length=0,this.first=void 0,this.last=void 0;const l=co(),h=d4.prototype;h[l]||(h[l]=zg)}get changes(){return this._changes||(this._changes=new mi)}get(c){return this._results[c]}map(c){return this._results.map(c)}filter(c){return this._results.filter(c)}find(c){return this._results.find(c)}reduce(c,l){return this._results.reduce(c,l)}forEach(c){this._results.forEach(c)}some(c){return this._results.some(c)}toArray(){return this._results.slice()}toString(){return this._results.toString()}reset(c,l){const h=this;h.dirty=!1;const d=Ur(c);(this._changesDetected=!function(a,c,l){if(a.length!==c.length)return!1;for(let h=0;h<a.length;h++){let d=a[h],g=c[h];if(l&&(d=l(d),g=l(g)),g!==d)return!1}return!0}(h._results,d,l))&&(h._results=d,h.length=d.length,h.last=d[this.length-1],h.first=d[0])}notifyOnChanges(){this._changes&&(this._changesDetected||!this._emitDistinctChangesOnly)&&this._changes.emit(this)}setDirty(){this.dirty=!0}destroy(){this.changes.complete(),this.changes.unsubscribe()}}Symbol;class i7{constructor(c){this.queryList=c,this.matches=null}clone(){return new i7(this.queryList)}setDirty(){this.queryList.setDirty()}}class W3{constructor(c=[]){this.queries=c}createEmbeddedView(c){const l=c.queries;if(null!==l){const h=null!==c.contentQueries?c.contentQueries[0]:l.length,d=[];for(let g=0;g<h;g++){const _=l.getByIndex(g);d.push(this.queries[_.indexInDeclarationView].clone())}return new W3(d)}return null}insertView(c){this.dirtyQueriesWithMatches(c)}detachView(c){this.dirtyQueriesWithMatches(c)}dirtyQueriesWithMatches(c){for(let l=0;l<this.queries.length;l++)null!==Pg(c,l).matches&&this.queries[l].setDirty()}}class Lg{constructor(c,l,h=null){this.predicate=c,this.flags=l,this.read=h}}class Z3{constructor(c=[]){this.queries=c}elementStart(c,l){for(let h=0;h<this.queries.length;h++)this.queries[h].elementStart(c,l)}elementEnd(c){for(let l=0;l<this.queries.length;l++)this.queries[l].elementEnd(c)}embeddedTView(c){let l=null;for(let h=0;h<this.length;h++){const d=null!==l?l.length:0,g=this.getByIndex(h).embeddedTView(c,d);g&&(g.indexInDeclarationView=h,null!==l?l.push(g):l=[g])}return null!==l?new Z3(l):null}template(c,l){for(let h=0;h<this.queries.length;h++)this.queries[h].template(c,l)}getByIndex(c){return this.queries[c]}get length(){return this.queries.length}track(c){this.queries.push(c)}}class s7{constructor(c,l=-1){this.metadata=c,this.matches=null,this.indexInDeclarationView=-1,this.crossesNgTemplate=!1,this._appliesToNextNode=!0,this._declarationNodeIndex=l}elementStart(c,l){this.isApplyingToNode(l)&&this.matchTNode(c,l)}elementEnd(c){this._declarationNodeIndex===c.index&&(this._appliesToNextNode=!1)}template(c,l){this.elementStart(c,l)}embeddedTView(c,l){return this.isApplyingToNode(c)?(this.crossesNgTemplate=!0,this.addMatch(-c.index,l),new s7(this.metadata)):null}isApplyingToNode(c){if(this._appliesToNextNode&&1!=(1&this.metadata.flags)){const l=this._declarationNodeIndex;let h=c.parent;for(;null!==h&&8&h.type&&h.index!==l;)h=h.parent;return l===(null!==h?h.index:-1)}return this._appliesToNextNode}matchTNode(c,l){const h=this.metadata.predicate;if(Array.isArray(h))for(let d=0;d<h.length;d++){const g=h[d];this.matchTNodeWithReadOption(c,l,o7(l,g)),this.matchTNodeWithReadOption(c,l,Jo(l,c,g,!1,!1))}else h===e4?4&l.type&&this.matchTNodeWithReadOption(c,l,-1):this.matchTNodeWithReadOption(c,l,Jo(l,c,h,!1,!1))}matchTNodeWithReadOption(c,l,h){if(null!==h){const d=this.metadata.read;if(null!==d)if(d===Fi||d===N3||d===e4&&4&l.type)this.addMatch(l.index,-2);else{const g=Jo(l,c,d,!1,!1);null!==g&&this.addMatch(l.index,g)}else this.addMatch(l.index,h)}}addMatch(c,l){null===this.matches?this.matches=[c,l]:this.matches.push(c,l)}}function o7(a,c){const l=a.localNames;if(null!==l)for(let h=0;h<l.length;h+=2)if(l[h]===c)return l[h+1];return null}function a7(a,c,l,h){return-1===l?function(a,c){return 11&a.type?Za(a,c):4&a.type?T3(a,c):null}(c,a):-2===l?function(a,c,l){return l===Fi?Za(c,a):l===e4?T3(c,a):l===N3?Nd(c,a):void 0}(a,c,h):Us(a,a[1],l,c)}function a0(a,c,l,h){const d=c[19].queries[h];if(null===d.matches){const g=a.data,_=l.matches,b=[];for(let A=0;A<_.length;A+=2){const I=_[A];b.push(I<0?null:a7(c,g[I],_[A+1],l.metadata.read))}d.matches=b}return d.matches}function q3(a,c,l,h){const d=a.queries.getByIndex(l),g=d.matches;if(null!==g){const _=a0(a,c,d,l);for(let b=0;b<g.length;b+=2){const A=g[b];if(A>0)h.push(_[b/2]);else{const I=g[b+1],D=c[-A];for(let j=10;j<D.length;j++){const q=D[j];q[17]===q[3]&&q3(q[1],q,I,h)}if(null!==D[9]){const j=D[9];for(let q=0;q<j.length;q++){const re=j[q];q3(re[1],re,I,h)}}}}}return h}function Rg(a){const c=Ue(),l=Lt(),h=Vl();Rl(h+1);const d=Pg(l,h);if(a.dirty&&Go(c)===(2==(2&d.metadata.flags))){if(null===d.matches)a.reset([]);else{const g=d.crossesNgTemplate?q3(l,c,h,[]):a0(l,c,d,h);a.reset(g,wd),a.notifyOnChanges()}return!0}return!1}function kg(a,c,l){const h=Lt();h.firstCreatePass&&(Og(h,new Lg(a,c,l),-1),2==(2&c)&&(h.staticViewQueries=!0)),c5(h,Ue(),c)}function c7(a,c,l,h){const d=Lt();if(d.firstCreatePass){const g=Pn();Og(d,new Lg(c,l,h),g.index),function(a,c){const l=a.contentQueries||(a.contentQueries=[]);c!==(l.length?l[l.length-1]:-1)&&l.push(a.queries.length-1,c)}(d,a),2==(2&l)&&(d.staticContentQueries=!0)}c5(d,Ue(),l)}function l7(){return a=Ue(),c=Vl(),a[19].queries[c].queryList;var a,c}function c5(a,c,l){const h=new d4(4==(4&l));yp(a,c,h,h.destroy),null===c[19]&&(c[19]=new W3),c[19].queries.push(new i7(h))}function Og(a,c,l){null===a.queries&&(a.queries=new Z3),a.queries.track(new s7(c,l))}function Pg(a,c){return a.queries.getByIndex(c)}const A7=new xn("Application Initializer");let h0=(()=>{class a{constructor(l){this.appInits=l,this.resolve=ju,this.reject=ju,this.initialized=!1,this.done=!1,this.donePromise=new Promise((h,d)=>{this.resolve=h,this.reject=d})}runInitializers(){if(this.initialized)return;const l=[],h=()=>{this.done=!0,this.resolve()};if(this.appInits)for(let d=0;d<this.appInits.length;d++){const g=this.appInits[d]();if(Dc(g))l.push(g);else if(Tc(g)){const _=new Promise((b,A)=>{g.subscribe({complete:b,error:A})});l.push(_)}}Promise.all(l).then(()=>{h()}).catch(d=>{this.reject(d)}),0===l.length&&h(),this.initialized=!0}}return a.\u0275fac=function(l){return new(l||a)(Ln(A7,8))},a.\u0275prov=Qt({token:a,factory:a.\u0275fac}),a})();const S7=new xn("AppId"),I7={provide:S7,useFactory:function(){return`${v5()}${v5()}${v5()}`},deps:[]};function v5(){return String.fromCharCode(97+Math.floor(25*Math.random()))}const J3=new xn("Platform Initializer"),hv=new xn("Platform ID"),fv=new xn("appBootstrapListener");let dv=(()=>{class a{log(l){console.log(l)}warn(l){console.warn(l)}}return a.\u0275fac=function(l){return new(l||a)},a.\u0275prov=Qt({token:a,factory:a.\u0275fac}),a})();const X3=new xn("LocaleId"),y5=new xn("DefaultCurrencyCode");class gv{constructor(c,l){this.ngModuleFactory=c,this.componentFactories=l}}const el=function(a){return new u4(a)},y4=el,XC=function(a){return Promise.resolve(el(a))},N7=function(a){const c=el(a),h=Li(jt(a).declarations).reduce((d,g)=>{const _=n1(g);return _&&d.push(new i5(_)),d},[]);return new gv(c,h)},ex=N7,nx=function(a){return Promise.resolve(N7(a))};let tl=(()=>{class a{constructor(){this.compileModuleSync=y4,this.compileModuleAsync=XC,this.compileModuleAndAllComponentsSync=ex,this.compileModuleAndAllComponentsAsync=nx}clearCache(){}clearCacheFor(l){}getModuleId(l){}}return a.\u0275fac=function(l){return new(l||a)},a.\u0275prov=Qt({token:a,factory:a.\u0275fac}),a})();const _4=(()=>Promise.resolve(0))();function _5(a){"undefined"==typeof Zone?_4.then(()=>{a&&a.apply(null,null)}):Zone.current.scheduleMicroTask("scheduleMicrotask",a)}class Lr{constructor({enableLongStackTrace:c=!1,shouldCoalesceEventChangeDetection:l=!1,shouldCoalesceRunChangeDetection:h=!1}){if(this.hasPendingMacrotasks=!1,this.hasPendingMicrotasks=!1,this.isStable=!0,this.onUnstable=new mi(!1),this.onMicrotaskEmpty=new mi(!1),this.onStable=new mi(!1),this.onError=new mi(!1),"undefined"==typeof Zone)throw new Error("In this configuration Angular requires Zone.js");Zone.assertZonePatched();const d=this;d._nesting=0,d._outer=d._inner=Zone.current,Zone.TaskTrackingZoneSpec&&(d._inner=d._inner.fork(new Zone.TaskTrackingZoneSpec)),c&&Zone.longStackTraceZoneSpec&&(d._inner=d._inner.fork(Zone.longStackTraceZoneSpec)),d.shouldCoalesceEventChangeDetection=!h&&l,d.shouldCoalesceRunChangeDetection=h,d.lastRequestAnimationFrameId=-1,d.nativeRequestAnimationFrame=function(){let a=te.requestAnimationFrame,c=te.cancelAnimationFrame;if("undefined"!=typeof Zone&&a&&c){const l=a[Zone.__symbol__("OriginalDelegate")];l&&(a=l);const h=c[Zone.__symbol__("OriginalDelegate")];h&&(c=h)}return{nativeRequestAnimationFrame:a,nativeCancelAnimationFrame:c}}().nativeRequestAnimationFrame,function(a){const c=()=>{!function(a){a.isCheckStableRunning||-1!==a.lastRequestAnimationFrameId||(a.lastRequestAnimationFrameId=a.nativeRequestAnimationFrame.call(te,()=>{a.fakeTopEventTask||(a.fakeTopEventTask=Zone.root.scheduleEventTask("fakeTopEventTask",()=>{a.lastRequestAnimationFrameId=-1,b5(a),a.isCheckStableRunning=!0,C5(a),a.isCheckStableRunning=!1},void 0,()=>{},()=>{})),a.fakeTopEventTask.invoke()}),b5(a))}(a)};a._inner=a._inner.fork({name:"angular",properties:{isAngularZone:!0},onInvokeTask:(l,h,d,g,_,b)=>{try{return L7(a),l.invokeTask(d,g,_,b)}finally{(a.shouldCoalesceEventChangeDetection&&"eventTask"===g.type||a.shouldCoalesceRunChangeDetection)&&c(),C4(a)}},onInvoke:(l,h,d,g,_,b,A)=>{try{return L7(a),l.invoke(d,g,_,b,A)}finally{a.shouldCoalesceRunChangeDetection&&c(),C4(a)}},onHasTask:(l,h,d,g)=>{l.hasTask(d,g),h===d&&("microTask"==g.change?(a._hasPendingMicrotasks=g.microTask,b5(a),C5(a)):"macroTask"==g.change&&(a.hasPendingMacrotasks=g.macroTask))},onHandleError:(l,h,d,g)=>(l.handleError(d,g),a.runOutsideAngular(()=>a.onError.emit(g)),!1)})}(d)}static isInAngularZone(){return!0===Zone.current.get("isAngularZone")}static assertInAngularZone(){if(!Lr.isInAngularZone())throw new Error("Expected to be in Angular Zone, but it is not!")}static assertNotInAngularZone(){if(Lr.isInAngularZone())throw new Error("Expected to not be in Angular Zone, but it is!")}run(c,l,h){return this._inner.run(c,l,h)}runTask(c,l,h,d){const g=this._inner,_=g.scheduleEventTask("NgZoneEvent: "+d,c,_v,ju,ju);try{return g.runTask(_,l,h)}finally{g.cancelTask(_)}}runGuarded(c,l,h){return this._inner.runGuarded(c,l,h)}runOutsideAngular(c){return this._outer.run(c)}}const _v={};function C5(a){if(0==a._nesting&&!a.hasPendingMicrotasks&&!a.isStable)try{a._nesting++,a.onMicrotaskEmpty.emit(null)}finally{if(a._nesting--,!a.hasPendingMicrotasks)try{a.runOutsideAngular(()=>a.onStable.emit(null))}finally{a.isStable=!0}}}function b5(a){a.hasPendingMicrotasks=!!(a._hasPendingMicrotasks||(a.shouldCoalesceEventChangeDetection||a.shouldCoalesceRunChangeDetection)&&-1!==a.lastRequestAnimationFrameId)}function L7(a){a._nesting++,a.isStable&&(a.isStable=!1,a.onUnstable.emit(null))}function C4(a){a._nesting--,C5(a)}class sx{constructor(){this.hasPendingMicrotasks=!1,this.hasPendingMacrotasks=!1,this.isStable=!0,this.onUnstable=new mi,this.onMicrotaskEmpty=new mi,this.onStable=new mi,this.onError=new mi}run(c,l,h){return c.apply(l,h)}runGuarded(c,l,h){return c.apply(l,h)}runOutsideAngular(c){return c()}runTask(c,l,h,d){return c.apply(l,h)}}let gn=(()=>{class a{constructor(l){this._ngZone=l,this._pendingCount=0,this._isZoneStable=!0,this._didWork=!1,this._callbacks=[],this.taskTrackingZone=null,this._watchAngularEvents(),l.run(()=>{this.taskTrackingZone="undefined"==typeof Zone?null:Zone.current.get("TaskTrackingZone")})}_watchAngularEvents(){this._ngZone.onUnstable.subscribe({next:()=>{this._didWork=!0,this._isZoneStable=!1}}),this._ngZone.runOutsideAngular(()=>{this._ngZone.onStable.subscribe({next:()=>{Lr.assertNotInAngularZone(),_5(()=>{this._isZoneStable=!0,this._runCallbacksIfReady()})}})})}increasePendingRequestCount(){return this._pendingCount+=1,this._didWork=!0,this._pendingCount}decreasePendingRequestCount(){if(this._pendingCount-=1,this._pendingCount<0)throw new Error("pending async requests below zero");return this._runCallbacksIfReady(),this._pendingCount}isStable(){return this._isZoneStable&&0===this._pendingCount&&!this._ngZone.hasPendingMacrotasks}_runCallbacksIfReady(){if(this.isStable())_5(()=>{for(;0!==this._callbacks.length;){let l=this._callbacks.pop();clearTimeout(l.timeoutId),l.doneCb(this._didWork)}this._didWork=!1});else{let l=this.getPendingTasks();this._callbacks=this._callbacks.filter(h=>!h.updateCb||!h.updateCb(l)||(clearTimeout(h.timeoutId),!1)),this._didWork=!0}}getPendingTasks(){return this.taskTrackingZone?this.taskTrackingZone.macroTasks.map(l=>({source:l.source,creationLocation:l.creationLocation,data:l.data})):[]}addCallback(l,h,d){let g=-1;h&&h>0&&(g=setTimeout(()=>{this._callbacks=this._callbacks.filter(_=>_.timeoutId!==g),l(this._didWork,this.getPendingTasks())},h)),this._callbacks.push({doneCb:l,timeoutId:g,updateCb:d})}whenStable(l,h,d){if(d&&!this.taskTrackingZone)throw new Error('Task tracking zone is required when passing an update callback to whenStable(). Is "zone.js/plugins/task-tracking" loaded?');this.addCallback(l,h,d),this._runCallbacksIfReady()}getPendingRequestCount(){return this._pendingCount}findProviders(l,h,d){return[]}}return a.\u0275fac=function(l){return new(l||a)(Ln(Lr))},a.\u0275prov=Qt({token:a,factory:a.\u0275fac}),a})(),P1=(()=>{class a{constructor(){this._applications=new Map,V7.addToWindow(this)}registerApplication(l,h){this._applications.set(l,h)}unregisterApplication(l){this._applications.delete(l)}unregisterAllApplications(){this._applications.clear()}getTestability(l){return this._applications.get(l)||null}getAllTestabilities(){return Array.from(this._applications.values())}getAllRootElements(){return Array.from(this._applications.keys())}findTestabilityInTree(l,h=!0){return V7.findTestabilityInTree(this,l,h)}}return a.\u0275fac=function(l){return new(l||a)},a.\u0275prov=Qt({token:a,factory:a.\u0275fac}),a})();class z2{addToWindow(c){}findTestabilityInTree(c,l,h){return null}}function Cv(a){V7=a}let V7=new z2,nl=!0,R7=!1;function w5(){return R7=!0,nl}function ox(){if(R7)throw new Error("Cannot enable prod mode after platform setup.");nl=!1}let ei;const k7=new xn("AllowMultipleToken");class lx{constructor(c,l){this.name=c,this.token=l}}function bv(a,c,l=[]){const h=`Platform: ${c}`,d=new xn(h);return(g=[])=>{let _=wv();if(!_||_.injector.get(k7,!1))if(a)a(l.concat(g).concat({provide:d,useValue:!0}));else{const b=l.concat(g).concat({provide:d,useValue:!0},{provide:wc,useValue:"platform"});!function(a){if(ei&&!ei.destroyed&&!ei.injector.get(k7,!1))throw new Error("There can be only one platform. Destroy the previous one to create a new one.");ei=a.get(Mv);const c=a.get(J3,null);c&&c.forEach(l=>l())}(Ae.create({providers:b,name:h}))}return function(a){const c=wv();if(!c)throw new Error("No platform exists!");if(!c.injector.get(a,null))throw new Error("A platform with a different configuration has been created. Please destroy it first.");return c}(d)}}function wv(){return ei&&!ei.destroyed?ei:null}let Mv=(()=>{class a{constructor(l){this._injector=l,this._modules=[],this._destroyListeners=[],this._destroyed=!1}bootstrapModuleFactory(l,h){const b=function(a,c){let l;return l="noop"===a?new sx:("zone.js"===a?void 0:a)||new Lr({enableLongStackTrace:w5(),shouldCoalesceEventChangeDetection:!!(null==c?void 0:c.ngZoneEventCoalescing),shouldCoalesceRunChangeDetection:!!(null==c?void 0:c.ngZoneRunCoalescing)}),l}(h?h.ngZone:void 0,{ngZoneEventCoalescing:h&&h.ngZoneEventCoalescing||!1,ngZoneRunCoalescing:h&&h.ngZoneRunCoalescing||!1}),A=[{provide:Lr,useValue:b}];return b.run(()=>{const I=Ae.create({providers:A,parent:this.injector,name:l.moduleType.name}),D=l.create(I),j=D.injector.get(qe,null);if(!j)throw new Error("No ErrorHandler. Is platform module (BrowserModule) included?");return b.runOutsideAngular(()=>{const q=b.onError.subscribe({next:re=>{j.handleError(re)}});D.onDestroy(()=>{Es(this._modules,D),q.unsubscribe()})}),function(a,c,l){try{const h=l();return Dc(h)?h.catch(d=>{throw c.runOutsideAngular(()=>a.handleError(d)),d}):h}catch(h){throw c.runOutsideAngular(()=>a.handleError(h)),h}}(j,b,()=>{const q=D.injector.get(h0);return q.runInitializers(),q.donePromise.then(()=>(Tu(D.injector.get(X3,Du)||Du),this._moduleDoBootstrap(D),D))})})}bootstrapModule(l,h=[]){const d=fx({},h);return function(a,c,l){const h=new u4(l);return Promise.resolve(h)}(0,0,l).then(g=>this.bootstrapModuleFactory(g,d))}_moduleDoBootstrap(l){const h=l.injector.get(Vr);if(l._bootstrapComponents.length>0)l._bootstrapComponents.forEach(d=>h.bootstrap(d));else{if(!l.instance.ngDoBootstrap)throw new Error(`The module ${T(l.instance.constructor)} was bootstrapped, but it does not declare "@NgModule.bootstrap" components nor a "ngDoBootstrap" method. Please define one of these.`);l.instance.ngDoBootstrap(h)}this._modules.push(l)}onDestroy(l){this._destroyListeners.push(l)}get injector(){return this._injector}destroy(){if(this._destroyed)throw new Error("The platform has already been destroyed!");this._modules.slice().forEach(l=>l.destroy()),this._destroyListeners.forEach(l=>l()),this._destroyed=!0}get destroyed(){return this._destroyed}}return a.\u0275fac=function(l){return new(l||a)(Ln(Ae))},a.\u0275prov=Qt({token:a,factory:a.\u0275fac}),a})();function fx(a,c){return Array.isArray(c)?c.reduce(fx,a):Object.assign(Object.assign({},a),c)}let Vr=(()=>{class a{constructor(l,h,d,g,_){this._zone=l,this._injector=h,this._exceptionHandler=d,this._componentFactoryResolver=g,this._initStatus=_,this._bootstrapListeners=[],this._views=[],this._runningTick=!1,this._stable=!0,this.componentTypes=[],this.components=[],this._onMicrotaskEmptySubscription=this._zone.onMicrotaskEmpty.subscribe({next:()=>{this._zone.run(()=>{this.tick()})}});const b=new B.y(I=>{this._stable=this._zone.isStable&&!this._zone.hasPendingMacrotasks&&!this._zone.hasPendingMicrotasks,this._zone.runOutsideAngular(()=>{I.next(this._stable),I.complete()})}),A=new B.y(I=>{let D;this._zone.runOutsideAngular(()=>{D=this._zone.onStable.subscribe(()=>{Lr.assertNotInAngularZone(),_5(()=>{!this._stable&&!this._zone.hasPendingMacrotasks&&!this._zone.hasPendingMicrotasks&&(this._stable=!0,I.next(!0))})})});const j=this._zone.onUnstable.subscribe(()=>{Lr.assertInAngularZone(),this._stable&&(this._stable=!1,this._zone.runOutsideAngular(()=>{I.next(!1)}))});return()=>{D.unsubscribe(),j.unsubscribe()}});this.isStable=(0,X.T)(b,A.pipe(a=>(0,H.x)()(function(a,c){return function(h){let d;d="function"==typeof a?a:function(){return a};const g=Object.create(h,oe.N);return g.source=h,g.subjectFactory=d,g}}(O)(a))))}bootstrap(l,h){if(!this._initStatus.done)throw new Error("Cannot bootstrap as there are still asynchronous initializers running. Bootstrap components in the `ngDoBootstrap` method of the root module.");let d;d=l instanceof Yc?l:this._componentFactoryResolver.resolveComponentFactory(l),this.componentTypes.push(d.componentType);const g=function(a){return a.isBoundToModule}(d)?void 0:this._injector.get(Ka),b=d.create(Ae.NULL,[],h||d.selector,g),A=b.location.nativeElement,I=b.injector.get(gn,null),D=I&&b.injector.get(P1);return I&&D&&D.registerApplication(A,I),b.onDestroy(()=>{this.detachView(b.hostView),Es(this.components,b),D&&D.unregisterApplication(A)}),this._loadComponent(b),b}tick(){if(this._runningTick)throw new Error("ApplicationRef.tick is called recursively");try{this._runningTick=!0;for(let l of this._views)l.detectChanges()}catch(l){this._zone.runOutsideAngular(()=>this._exceptionHandler.handleError(l))}finally{this._runningTick=!1}}attachView(l){const h=l;this._views.push(h),h.attachToAppRef(this)}detachView(l){const h=l;Es(this._views,h),h.detachFromAppRef()}_loadComponent(l){this.attachView(l.hostView),this.tick(),this.components.push(l),this._injector.get(fv,[]).concat(this._bootstrapListeners).forEach(d=>d(l))}ngOnDestroy(){this._views.slice().forEach(l=>l.destroy()),this._onMicrotaskEmptySubscription.unsubscribe()}get viewCount(){return this._views.length}}return a.\u0275fac=function(l){return new(l||a)(Ln(Lr),Ln(Ae),Ln(qe),Ln(S2),Ln(h0))},a.\u0275prov=Qt({token:a,factory:a.\u0275fac}),a})();function Es(a,c){const l=a.indexOf(c);l>-1&&a.splice(l,1)}class px{}class il{}const Sv={factoryPathPrefix:"",factoryPathSuffix:".ngfactory"};let P7=(()=>{class a{constructor(l,h){this._compiler=l,this._config=h||Sv}load(l){return this.loadAndCompile(l)}loadAndCompile(l){let[h,d]=l.split("#");return void 0===d&&(d="default"),R(8255)(h).then(g=>g[d]).then(g=>Iv(g,h,d)).then(g=>this._compiler.compileModuleAsync(g))}loadFactory(l){let[h,d]=l.split("#"),g="NgFactory";return void 0===d&&(d="default",g=""),R(8255)(this._config.factoryPathPrefix+h+this._config.factoryPathSuffix).then(_=>_[d+g]).then(_=>Iv(_,h,d))}}return a.\u0275fac=function(l){return new(l||a)(Ln(tl),Ln(il,8))},a.\u0275prov=Qt({token:a,factory:a.\u0275fac}),a})();function Iv(a,c,l){if(!a)throw new Error(`Cannot find '${l}' in '${c}'`);return a}const Ao=function(a){return null},xx=bv(null,"core",[{provide:hv,useValue:"unknown"},{provide:Mv,deps:[Ae]},{provide:P1,deps:[]},{provide:dv,deps:[]}]),Mx=[{provide:Vr,useClass:Vr,deps:[Lr,Ae,qe,S2,h0]},{provide:Zd,deps:[Lr],useFactory:function(a){let c=[];return a.onStable.subscribe(()=>{for(;c.length;)c.pop()()}),function(l){c.push(l)}}},{provide:h0,useClass:h0,deps:[[new jr,A7]]},{provide:tl,useClass:tl,deps:[]},I7,{provide:vo,useFactory:function(){return Id},deps:[]},{provide:M3,useFactory:function(){return Xm},deps:[]},{provide:X3,useFactory:function(a){return Tu(a=a||"undefined"!=typeof $localize&&$localize.locale||Du),a},deps:[[new Q2(X3),new jr,new Ii]]},{provide:y5,useValue:"USD"}];let Lv=(()=>{class a{constructor(l){}}return a.\u0275fac=function(l){return new(l||a)(Ln(Vr))},a.\u0275mod=xi({type:a}),a.\u0275inj=vn({providers:Mx}),a})()},9958:(Ve,Ce,R)=>{"use strict";R.d(Ce,{hO:()=>K,xv:()=>N,Dh:()=>V,GT:()=>H,on:()=>k,pX:()=>ne});var m=R(3018),U=R(4486);U.Z.registerVersion("firebase","9.0.0","app-compat");var oe=R(9126);Ve=R.hmd(Ve);const Y=["ngOnDestroy"],ne=(J,Q,G,Z={})=>new Proxy(J,{get:(ae,ce)=>G.runOutsideAngular(()=>{var ye;if(J[ce])return(null===(ye=null==Z?void 0:Z.spy)||void 0===ye?void 0:ye.get)&&Z.spy.get(ce,J[ce]),J[ce];if(Y.indexOf(ce)>-1)return()=>{};const me=Q.toPromise().then(le=>{const Ne=le&&le[ce];return"function"==typeof Ne?Ne.bind(le):Ne&&Ne.then?Ne.then(Re=>G.run(()=>Re)):G.run(()=>Ne)});return new Proxy(()=>{},{get:(le,Ne)=>me[Ne],apply:(le,Ne,Re)=>me.then(pe=>{var ee;const se=pe&&pe(...Re);return(null===(ee=null==Z?void 0:Z.spy)||void 0===ee?void 0:ee.apply)&&Z.spy.apply(ce,Re,se),se})})})}),H=(J,Q)=>{Q.forEach(G=>{Object.getOwnPropertyNames(G.prototype||G).forEach(Z=>{Object.defineProperty(J.prototype,Z,Object.getOwnPropertyDescriptor(G.prototype||G,Z))})})};class O{constructor(Q){return Q}}const V=new m.OlP("angularfire2.app.options"),N=new m.OlP("angularfire2.app.name");function k(J,Q,G){const ae="object"==typeof G&&G||{};ae.name=ae.name||"string"==typeof G&&G||"[DEFAULT]";const ye=U.Z.apps.filter(me=>me&&me.name===ae.name)[0]||Q.runOutsideAngular(()=>U.Z.initializeApp(J,ae));try{JSON.stringify(J)!==JSON.stringify(ye.options)&&T("error",`${ye.name} Firebase App already initialized with different options${Ve.hot?", you may need to reload as Firebase is not HMR aware.":"."}`)}catch(me){}return new O(ye)}const T=(J,...Q)=>{(0,m.X6Q)()&&"undefined"!=typeof console&&console[J](...Q)},F={provide:O,useFactory:k,deps:[V,m.R0b,[new m.FiY,N]]};let K=(()=>{class J{constructor(G){U.Z.registerVersion("angularfire",oe.q4.full,`compat-${G.toString()}`),U.Z.registerVersion("angular",m.q4F.full)}static initializeApp(G,Z){return{ngModule:J,providers:[{provide:V,useValue:G},{provide:N,useValue:Z}]}}}return J.\u0275fac=function(G){return new(G||J)(m.LFG(m.Lbi))},J.\u0275mod=m.oAB({type:J}),J.\u0275inj=m.cJS({providers:[F]}),J})()},9126:(Ve,Ce,R)=>{"use strict";R.d(Ce,{q4:()=>V,iC:()=>pe,f6:()=>Re,HU:()=>ce,cc:()=>T});var m=R(3018);(0,R(5452).registerVersion)("firebase","9.0.0","app");var oe=R(7771),Y=R(3637),ne=R(3342),H=R(309),O=R(3101);Ve=R.hmd(Ve);const V=new m.GfV("7.0.0"),N=!!Ve.hot,k=(ie,...ue)=>{(0,m.X6Q)()&&"undefined"!=typeof console&&console[ie](...ue)};function T(ie,ue,De,We,rt){const[,Me,ze]=globalThis.\u0275AngularfireInstanceCache.find(Pe=>Pe[0]===ie)||[];if(Me)return function(ie,ue){try{return ie.toString()===ue.toString()}catch(De){return ie===ue}}(rt,ze)||(k("error",`${ue} was already initialized on the ${De} Firebase App with different settings.${N?" You may need to reload as Firebase is not HMR aware.":""}`),k("warn",{is:rt,was:ze})),Me;{const Pe=We();return globalThis.\u0275AngularfireInstanceCache.push([ie,Pe,rt]),Pe}}function G(){}globalThis.\u0275AngularfireInstanceCache||(globalThis.\u0275AngularfireInstanceCache=[]);class Z{constructor(ue,De=oe.N){this.zone=ue,this.delegate=De}now(){return this.delegate.now()}schedule(ue,De,We){const rt=this.zone;return this.delegate.schedule(function(ze){rt.runGuarded(()=>{ue.apply(this,[ze])})},De,We)}}class ae{constructor(ue){this.zone=ue,this.task=null}call(ue,De){const We=this.unscheduleTask.bind(this);return this.task=this.zone.run(()=>Zone.current.scheduleMacroTask("firebaseZoneBlock",G,{},G,G)),De.pipe((0,ne.b)({next:We,complete:We,error:We})).subscribe(ue).add(We)}unscheduleTask(){setTimeout(()=>{null!=this.task&&"scheduled"===this.task.state&&(this.task.invoke(),this.task=null)},10)}}let ce=(()=>{class ie{constructor(De){this.ngZone=De,this.outsideAngular=De.runOutsideAngular(()=>new Z(Zone.current)),this.insideAngular=De.run(()=>new Z(Zone.current,Y.z)),globalThis.\u0275AngularFireScheduler||(globalThis.\u0275AngularFireScheduler=this)}}return ie.\u0275fac=function(De){return new(De||ie)(m.LFG(m.R0b))},ie.\u0275prov=m.Yz7({token:ie,factory:ie.\u0275fac,providedIn:"root"}),ie})();function ye(){const ie=globalThis.\u0275AngularFireScheduler;if(!ie)throw new Error("AngularFireModule has not been provided");return ie}function Re(ie){return ie.pipe((0,H.QV)(ye().insideAngular))}function pe(ie){return ye(),function(ie){return function(De){return(De=De.lift(new ae(ie.ngZone))).pipe((0,O.R)(ie.outsideAngular),(0,H.QV)(ie.insideAngular))}}(ye())(ie)}},4486:(Ve,Ce,R)=>{"use strict";R.d(Ce,{Z:()=>J});var m=R(4685),U=R(6034),B=R(5452),X=R(300);class oe{constructor(G,Z){this._delegate=G,this.firebase=Z,(0,B._addComponent)(G,new U.wA("app-compat",()=>this,"PUBLIC")),this.container=G.container}get automaticDataCollectionEnabled(){return this._delegate.automaticDataCollectionEnabled}set automaticDataCollectionEnabled(G){this._delegate.automaticDataCollectionEnabled=G}get name(){return this._delegate.name}get options(){return this._delegate.options}delete(){return new Promise(G=>{this._delegate.checkDestroyed(),G()}).then(()=>(this.firebase.INTERNAL.removeApp(this.name),(0,B.deleteApp)(this._delegate)))}_getService(G,Z=B._DEFAULT_ENTRY_NAME){var ae;this._delegate.checkDestroyed();const ce=this._delegate.container.getProvider(G);return!ce.isInitialized()&&"EXPLICIT"===(null===(ae=ce.getComponent())||void 0===ae?void 0:ae.instantiationMode)&&ce.initialize(),ce.getImmediate({identifier:Z})}_removeServiceInstance(G,Z=B._DEFAULT_ENTRY_NAME){this._delegate.container.getProvider(G).clearInstance(Z)}_addComponent(G){(0,B._addComponent)(this._delegate,G)}_addOrOverwriteComponent(G){(0,B._addOrOverwriteComponent)(this._delegate,G)}toJSON(){return{name:this.name,automaticDataCollectionEnabled:this.automaticDataCollectionEnabled,options:this.options}}}const ne=new m.LL("app-compat","Firebase",{"no-app":"No Firebase App '{$appName}' has been created - call Firebase App.initializeApp()","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance."}),V=function O(){const Q=function(Q){const G={},Z={__esModule:!0,initializeApp:function(Re,pe={}){const ee=B.initializeApp(Re,pe);if((0,m.r3)(G,ee.name))return G[ee.name];const se=new Q(ee,Z);return G[ee.name]=se,se},app:ce,registerVersion:B.registerVersion,setLogLevel:B.setLogLevel,onLog:B.onLog,apps:null,SDK_VERSION:B.SDK_VERSION,INTERNAL:{registerComponent:function(Re){const pe=Re.name,ee=pe.replace("-compat","");if(B._registerComponent(Re)&&"PUBLIC"===Re.type){const se=(ve=ce())=>{if("function"!=typeof ve[ee])throw ne.create("invalid-app-argument",{appName:pe});return ve[ee]()};void 0!==Re.serviceProps&&(0,m.ZB)(se,Re.serviceProps),Z[ee]=se,Q.prototype[ee]=function(...ve){return this._getService.bind(this,pe).apply(this,Re.multipleInstances?ve:[])}}return"PUBLIC"===Re.type?Z[ee]:null},removeApp:function(Re){delete G[Re]},useAsService:function(Re,pe){return"serverAuth"===pe?null:pe},modularAPIs:B}};function ce(Re){if(!(0,m.r3)(G,Re=Re||B._DEFAULT_ENTRY_NAME))throw ne.create("no-app",{appName:Re});return G[Re]}return Z.default=Z,Object.defineProperty(Z,"apps",{get:function(){return Object.keys(G).map(Re=>G[Re])}}),ce.App=Q,Z}(oe);return Q.INTERNAL=Object.assign(Object.assign({},Q.INTERNAL),{createFirebaseNamespace:O,extendNamespace:function(Z){(0,m.ZB)(Q,Z)},createSubscribe:m.ne,ErrorFactory:m.LL,deepExtend:m.ZB}),Q}(),N=new X.Yd("@firebase/app-compat");if((0,m.jU)()&&void 0!==self.firebase){N.warn("\n    Warning: Firebase is already defined in the global scope. Please make sure\n    Firebase library is only loaded once.\n  ");const Q=self.firebase.SDK_VERSION;Q&&Q.indexOf("LITE")>=0&&N.warn("\n    Warning: You are trying to load Firebase while using Firebase Performance standalone script.\n    You should load Firebase Performance with this instance of Firebase to avoid loading duplicate code.\n    ")}const K=V;(0,B.registerVersion)("@firebase/app-compat","0.1.0",undefined);const J=K},5452:(Ve,Ce,R)=>{"use strict";R.r(Ce),R.d(Ce,{FirebaseError:()=>X.ZR,SDK_VERSION:()=>e1,_DEFAULT_ENTRY_NAME:()=>rt,_addComponent:()=>ke,_addOrOverwriteComponent:()=>kt,_apps:()=>ze,_clearComponents:()=>Sn,_components:()=>Pe,_getProvider:()=>ut,_registerComponent:()=>ft,_removeServiceInstance:()=>Je,deleteApp:()=>Rr,getApp:()=>In,getApps:()=>J1,initializeApp:()=>vn,onLog:()=>un,registerVersion:()=>er,setLogLevel:()=>yn});var m=R(8239),U=R(6034),B=R(300),X=R(4685);class oe{constructor(Fe){this.container=Fe}getPlatformInfoString(){return this.container.getProviders().map(Ft=>{if(function(gt){const Fe=gt.getComponent();return"VERSION"===(null==Fe?void 0:Fe.type)}(Ft)){const Ut=Ft.getImmediate();return`${Ut.library}/${Ut.version}`}return null}).filter(Ft=>Ft).join(" ")}}const ne="@firebase/app",O=new B.Yd("@firebase/app"),rt="[DEFAULT]",Me={[ne]:"fire-core","@firebase/app-compat":"fire-core-compat","@firebase/analytics":"fire-analytics","@firebase/analytics-compat":"fire-analytics-compat","@firebase/app-check":"fire-app-check","@firebase/app-check-compat":"fire-app-check-compat","@firebase/auth":"fire-auth","@firebase/auth-compat":"fire-auth-compat","@firebase/database":"fire-rtdb","@firebase/database-compat":"fire-rtdb-compat","@firebase/functions":"fire-fn","@firebase/functions-compat":"fire-fn-compat","@firebase/installations":"fire-iid","@firebase/installations-compat":"fire-iid-compat","@firebase/messaging":"fire-fcm","@firebase/messaging-compat":"fire-fcm-compat","@firebase/performance":"fire-perf","@firebase/performance-compat":"fire-perf-compat","@firebase/remote-config":"fire-rc","@firebase/remote-config-compat":"fire-rc-compat","@firebase/storage":"fire-gcs","@firebase/storage-compat":"fire-gcs-compat","@firebase/firestore":"fire-fst","@firebase/firestore-compat":"fire-fst-compat","fire-js":"fire-js",firebase:"fire-js-all"},ze=new Map,Pe=new Map;function ke(gt,Fe){try{gt.container.addComponent(Fe)}catch(Ft){O.debug(`Component ${Fe.name} failed to register with FirebaseApp ${gt.name}`,Ft)}}function kt(gt,Fe){gt.container.addOrOverwriteComponent(Fe)}function ft(gt){const Fe=gt.name;if(Pe.has(Fe))return O.debug(`There were multiple attempts to register component ${Fe}.`),!1;Pe.set(Fe,gt);for(const Ft of ze.values())ke(Ft,gt);return!0}function ut(gt,Fe){return gt.container.getProvider(Fe)}function Je(gt,Fe,Ft=rt){ut(gt,Fe).clearInstance(Ft)}function Sn(){Pe.clear()}const Zn=new X.LL("app","Firebase",{"no-app":"No Firebase App '{$appName}' has been created - call Firebase App.initializeApp()","bad-app-name":"Illegal App name: '{$appName}","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function."});class Qt{constructor(Fe,Ft,Ut){this._isDeleted=!1,this._options=Object.assign({},Fe),this._config=Object.assign({},Ft),this._name=Ft.name,this._automaticDataCollectionEnabled=Ft.automaticDataCollectionEnabled,this._container=Ut,this.container.addComponent(new U.wA("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(Fe){this.checkDestroyed(),this._automaticDataCollectionEnabled=Fe}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(Fe){this._isDeleted=Fe}checkDestroyed(){if(this.isDeleted)throw Zn.create("app-deleted",{appName:this._name})}}const e1="9.0.0";function vn(gt,Fe={}){"object"!=typeof Fe&&(Fe={name:Fe});const Ft=Object.assign({name:rt,automaticDataCollectionEnabled:!1},Fe),Ut=Ft.name;if("string"!=typeof Ut||!Ut)throw Zn.create("bad-app-name",{appName:String(Ut)});const qt=ze.get(Ut);if(qt){if((0,X.vZ)(gt,qt.options)&&(0,X.vZ)(Ft,qt.config))return qt;throw Zn.create("duplicate-app",{appName:Ut})}const Kt=new U.H0(Ut);for(const it of Pe.values())Kt.addComponent(it);const et=new Qt(gt,Ft,Kt);return ze.set(Ut,et),et}function In(gt=rt){const Fe=ze.get(gt);if(!Fe)throw Zn.create("no-app",{appName:gt});return Fe}function J1(){return Array.from(ze.values())}function Rr(gt){return X1.apply(this,arguments)}function X1(){return(X1=(0,m.Z)(function*(gt){const Fe=gt.name;ze.has(Fe)&&(ze.delete(Fe),yield Promise.all(gt.container.getProviders().map(Ft=>Ft.delete())),gt.isDeleted=!0)})).apply(this,arguments)}function er(gt,Fe,Ft){var Ut;let qt=null!==(Ut=Me[gt])&&void 0!==Ut?Ut:gt;Ft&&(qt+=`-${Ft}`);const Kt=qt.match(/\s|\//),et=Fe.match(/\s|\//);if(Kt||et){const it=[`Unable to register library "${qt}" with version "${Fe}":`];return Kt&&it.push(`library name "${qt}" contains illegal characters (whitespace or "/")`),Kt&&et&&it.push("and"),et&&it.push(`version name "${Fe}" contains illegal characters (whitespace or "/")`),void O.warn(it.join(" "))}ft(new U.wA(`${qt}-version`,()=>({library:qt,version:Fe}),"VERSION"))}function un(gt,Fe){if(null!==gt&&"function"!=typeof gt)throw Zn.create("invalid-log-argument");(0,B.Am)(gt,Fe)}function yn(gt){(0,B.Ub)(gt)}ft(new U.wA("platform-logger",Fe=>new oe(Fe),"PRIVATE")),er(ne,"0.7.0",undefined),er("fire-js","")},6034:(Ve,Ce,R)=>{"use strict";R.d(Ce,{wA:()=>B,H0:()=>H});var m=R(4762),U=R(4685),B=function(){function O(V,N,k){this.name=V,this.instanceFactory=N,this.type=k,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}return O.prototype.setInstantiationMode=function(V){return this.instantiationMode=V,this},O.prototype.setMultipleInstances=function(V){return this.multipleInstances=V,this},O.prototype.setServiceProps=function(V){return this.serviceProps=V,this},O.prototype.setInstanceCreatedCallback=function(V){return this.onInstanceCreated=V,this},O}(),X="[DEFAULT]",oe=function(){function O(V,N){this.name=V,this.container=N,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}return O.prototype.get=function(V){var N=this.normalizeInstanceIdentifier(V);if(!this.instancesDeferred.has(N)){var k=new U.BH;if(this.instancesDeferred.set(N,k),this.isInitialized(N)||this.shouldAutoInitialize())try{var T=this.getOrInitializeService({instanceIdentifier:N});T&&k.resolve(T)}catch(F){}}return this.instancesDeferred.get(N).promise},O.prototype.getImmediate=function(V){var N,k=this.normalizeInstanceIdentifier(null==V?void 0:V.identifier),T=null!==(N=null==V?void 0:V.optional)&&void 0!==N&&N;if(!this.isInitialized(k)&&!this.shouldAutoInitialize()){if(T)return null;throw Error("Service "+this.name+" is not available")}try{return this.getOrInitializeService({instanceIdentifier:k})}catch(F){if(T)return null;throw F}},O.prototype.getComponent=function(){return this.component},O.prototype.setComponent=function(V){var N,k;if(V.name!==this.name)throw Error("Mismatching Component "+V.name+" for Provider "+this.name+".");if(this.component)throw Error("Component for "+this.name+" has already been provided");if(this.component=V,this.shouldAutoInitialize()){if(function(O){return"EAGER"===O.instantiationMode}(V))try{this.getOrInitializeService({instanceIdentifier:X})}catch(ae){}try{for(var T=(0,m.XA)(this.instancesDeferred.entries()),F=T.next();!F.done;F=T.next()){var K=(0,m.CR)(F.value,2),Q=K[1],G=this.normalizeInstanceIdentifier(K[0]);try{var Z=this.getOrInitializeService({instanceIdentifier:G});Q.resolve(Z)}catch(ae){}}}catch(ae){N={error:ae}}finally{try{F&&!F.done&&(k=T.return)&&k.call(T)}finally{if(N)throw N.error}}}},O.prototype.clearInstance=function(V){void 0===V&&(V=X),this.instancesDeferred.delete(V),this.instancesOptions.delete(V),this.instances.delete(V)},O.prototype.delete=function(){return(0,m.mG)(this,void 0,void 0,function(){var V;return(0,m.Jh)(this,function(N){switch(N.label){case 0:return V=Array.from(this.instances.values()),[4,Promise.all((0,m.ev)((0,m.ev)([],(0,m.CR)(V.filter(function(k){return"INTERNAL"in k}).map(function(k){return k.INTERNAL.delete()}))),(0,m.CR)(V.filter(function(k){return"_delete"in k}).map(function(k){return k._delete()}))))];case 1:return N.sent(),[2]}})})},O.prototype.isComponentSet=function(){return null!=this.component},O.prototype.isInitialized=function(V){return void 0===V&&(V=X),this.instances.has(V)},O.prototype.getOptions=function(V){return void 0===V&&(V=X),this.instancesOptions.get(V)||{}},O.prototype.initialize=function(V){var N,k;void 0===V&&(V={});var T=V.options,F=void 0===T?{}:T,K=this.normalizeInstanceIdentifier(V.instanceIdentifier);if(this.isInitialized(K))throw Error(this.name+"("+K+") has already been initialized");if(!this.isComponentSet())throw Error("Component "+this.name+" has not been registered yet");var J=this.getOrInitializeService({instanceIdentifier:K,options:F});try{for(var Q=(0,m.XA)(this.instancesDeferred.entries()),G=Q.next();!G.done;G=Q.next()){var Z=(0,m.CR)(G.value,2),ce=Z[1];K===this.normalizeInstanceIdentifier(Z[0])&&ce.resolve(J)}}catch(me){N={error:me}}finally{try{G&&!G.done&&(k=Q.return)&&k.call(Q)}finally{if(N)throw N.error}}return J},O.prototype.onInit=function(V,N){var k,T=this.normalizeInstanceIdentifier(N),F=null!==(k=this.onInitCallbacks.get(T))&&void 0!==k?k:new Set;F.add(V),this.onInitCallbacks.set(T,F);var K=this.instances.get(T);return K&&V(K,T),function(){F.delete(V)}},O.prototype.invokeOnInitCallbacks=function(V,N){var k,T,F=this.onInitCallbacks.get(N);if(F)try{for(var K=(0,m.XA)(F),J=K.next();!J.done;J=K.next()){var Q=J.value;try{Q(V,N)}catch(G){}}}catch(G){k={error:G}}finally{try{J&&!J.done&&(T=K.return)&&T.call(K)}finally{if(k)throw k.error}}},O.prototype.getOrInitializeService=function(V){var N=V.instanceIdentifier,k=V.options,T=void 0===k?{}:k,F=this.instances.get(N);if(!F&&this.component&&(F=this.component.instanceFactory(this.container,{instanceIdentifier:Y(N),options:T}),this.instances.set(N,F),this.instancesOptions.set(N,T),this.invokeOnInitCallbacks(F,N),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,N,F)}catch(K){}return F||null},O.prototype.normalizeInstanceIdentifier=function(V){return void 0===V&&(V=X),this.component?this.component.multipleInstances?V:X:V},O.prototype.shouldAutoInitialize=function(){return!!this.component&&"EXPLICIT"!==this.component.instantiationMode},O}();function Y(O){return O===X?void 0:O}var H=function(){function O(V){this.name=V,this.providers=new Map}return O.prototype.addComponent=function(V){var N=this.getProvider(V.name);if(N.isComponentSet())throw new Error("Component "+V.name+" has already been registered with "+this.name);N.setComponent(V)},O.prototype.addOrOverwriteComponent=function(V){this.getProvider(V.name).isComponentSet()&&this.providers.delete(V.name),this.addComponent(V)},O.prototype.getProvider=function(V){if(this.providers.has(V))return this.providers.get(V);var N=new oe(V,this);return this.providers.set(V,N),N},O.prototype.getProviders=function(){return Array.from(this.providers.values())},O}()},300:(Ve,Ce,R)=>{"use strict";function m(){for(var k=0,T=0,F=arguments.length;T<F;T++)k+=arguments[T].length;var K=Array(k),J=0;for(T=0;T<F;T++)for(var Q=arguments[T],G=0,Z=Q.length;G<Z;G++,J++)K[J]=Q[G];return K}R.d(Ce,{in:()=>X,Yd:()=>O,Ub:()=>V,Am:()=>N});var U,B=[],X=(()=>{return(k=X||(X={}))[k.DEBUG=0]="DEBUG",k[k.VERBOSE=1]="VERBOSE",k[k.INFO=2]="INFO",k[k.WARN=3]="WARN",k[k.ERROR=4]="ERROR",k[k.SILENT=5]="SILENT",X;var k})(),oe={debug:X.DEBUG,verbose:X.VERBOSE,info:X.INFO,warn:X.WARN,error:X.ERROR,silent:X.SILENT},Y=X.INFO,ne=((U={})[X.DEBUG]="log",U[X.VERBOSE]="log",U[X.INFO]="info",U[X.WARN]="warn",U[X.ERROR]="error",U),H=function(k,T){for(var F=[],K=2;K<arguments.length;K++)F[K-2]=arguments[K];if(!(T<k.logLevel)){var J=(new Date).toISOString(),Q=ne[T];if(!Q)throw new Error("Attempted to log a message with an invalid logType (value: "+T+")");console[Q].apply(console,m(["["+J+"]  "+k.name+":"],F))}},O=function(){function k(T){this.name=T,this._logLevel=Y,this._logHandler=H,this._userLogHandler=null,B.push(this)}return Object.defineProperty(k.prototype,"logLevel",{get:function(){return this._logLevel},set:function(T){if(!(T in X))throw new TypeError('Invalid value "'+T+'" assigned to `logLevel`');this._logLevel=T},enumerable:!1,configurable:!0}),k.prototype.setLogLevel=function(T){this._logLevel="string"==typeof T?oe[T]:T},Object.defineProperty(k.prototype,"logHandler",{get:function(){return this._logHandler},set:function(T){if("function"!=typeof T)throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=T},enumerable:!1,configurable:!0}),Object.defineProperty(k.prototype,"userLogHandler",{get:function(){return this._userLogHandler},set:function(T){this._userLogHandler=T},enumerable:!1,configurable:!0}),k.prototype.debug=function(){for(var T=[],F=0;F<arguments.length;F++)T[F]=arguments[F];this._userLogHandler&&this._userLogHandler.apply(this,m([this,X.DEBUG],T)),this._logHandler.apply(this,m([this,X.DEBUG],T))},k.prototype.log=function(){for(var T=[],F=0;F<arguments.length;F++)T[F]=arguments[F];this._userLogHandler&&this._userLogHandler.apply(this,m([this,X.VERBOSE],T)),this._logHandler.apply(this,m([this,X.VERBOSE],T))},k.prototype.info=function(){for(var T=[],F=0;F<arguments.length;F++)T[F]=arguments[F];this._userLogHandler&&this._userLogHandler.apply(this,m([this,X.INFO],T)),this._logHandler.apply(this,m([this,X.INFO],T))},k.prototype.warn=function(){for(var T=[],F=0;F<arguments.length;F++)T[F]=arguments[F];this._userLogHandler&&this._userLogHandler.apply(this,m([this,X.WARN],T)),this._logHandler.apply(this,m([this,X.WARN],T))},k.prototype.error=function(){for(var T=[],F=0;F<arguments.length;F++)T[F]=arguments[F];this._userLogHandler&&this._userLogHandler.apply(this,m([this,X.ERROR],T)),this._logHandler.apply(this,m([this,X.ERROR],T))},k}();function V(k){B.forEach(function(T){T.setLogLevel(k)})}function N(k,T){for(var F=function(G){var Z=null;T&&T.level&&(Z=oe[T.level]),G.userLogHandler=null===k?null:function(ae,ce){for(var ye=[],me=2;me<arguments.length;me++)ye[me-2]=arguments[me];var le=ye.map(function(Ne){if(null==Ne)return null;if("string"==typeof Ne)return Ne;if("number"==typeof Ne||"boolean"==typeof Ne)return Ne.toString();if(Ne instanceof Error)return Ne.message;try{return JSON.stringify(Ne)}catch(Re){return null}}).filter(function(Ne){return Ne}).join(" ");ce>=(null!=Z?Z:ae.logLevel)&&k({level:X[ce].toLowerCase(),message:le,args:ye,type:ae.name})}},K=0,J=B;K<J.length;K++)F(J[K])}},4685:(Ve,Ce,R)=>{"use strict";R.d(Ce,{BH:()=>F,LL:()=>De,ZR:()=>ue,tV:()=>V,r3:()=>Je,Sg:()=>K,ne:()=>X1,vZ:()=>Qt,ZB:()=>k,pd:()=>J1,m9:()=>nn,z$:()=>J,jU:()=>Z,ru:()=>ae,d:()=>ye,xb:()=>w1,w1:()=>me,hl:()=>pe,uI:()=>Q,UG:()=>G,b$:()=>ce,G6:()=>Re,Mn:()=>le,xO:()=>vn,zd:()=>In});var m=R(4762),oe=function(de){for(var te=[],we=0,Ie=0;Ie<de.length;Ie++){var xe=de.charCodeAt(Ie);xe<128?te[we++]=xe:xe<2048?(te[we++]=xe>>6|192,te[we++]=63&xe|128):55296==(64512&xe)&&Ie+1<de.length&&56320==(64512&de.charCodeAt(Ie+1))?(xe=65536+((1023&xe)<<10)+(1023&de.charCodeAt(++Ie)),te[we++]=xe>>18|240,te[we++]=xe>>12&63|128,te[we++]=xe>>6&63|128,te[we++]=63&xe|128):(te[we++]=xe>>12|224,te[we++]=xe>>6&63|128,te[we++]=63&xe|128)}return te},ne={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:"function"==typeof atob,encodeByteArray:function(de,te){if(!Array.isArray(de))throw Error("encodeByteArray takes an array as a parameter");this.init_();for(var we=te?this.byteToCharMapWebSafe_:this.byteToCharMap_,Ie=[],xe=0;xe<de.length;xe+=3){var He=de[xe],ct=xe+1<de.length,Ot=ct?de[xe+1]:0,zt=xe+2<de.length,Tt=zt?de[xe+2]:0,Rn=(15&Ot)<<2|Tt>>6,Or=63&Tt;zt||(Or=64,ct||(Rn=64)),Ie.push(we[He>>2],we[(3&He)<<4|Ot>>4],we[Rn],we[Or])}return Ie.join("")},encodeString:function(de,te){return this.HAS_NATIVE_SUPPORT&&!te?btoa(de):this.encodeByteArray(oe(de),te)},decodeString:function(de,te){return this.HAS_NATIVE_SUPPORT&&!te?atob(de):function(de){for(var te=[],we=0,Ie=0;we<de.length;){var xe=de[we++];if(xe<128)te[Ie++]=String.fromCharCode(xe);else if(xe>191&&xe<224){var He=de[we++];te[Ie++]=String.fromCharCode((31&xe)<<6|63&He)}else if(xe>239&&xe<365){var zt=((7&xe)<<18|(63&(He=de[we++]))<<12|(63&(ct=de[we++]))<<6|63&de[we++])-65536;te[Ie++]=String.fromCharCode(55296+(zt>>10)),te[Ie++]=String.fromCharCode(56320+(1023&zt))}else{He=de[we++];var ct=de[we++];te[Ie++]=String.fromCharCode((15&xe)<<12|(63&He)<<6|63&ct)}}return te.join("")}(this.decodeStringToByteArray(de,te))},decodeStringToByteArray:function(de,te){this.init_();for(var we=te?this.charToByteMapWebSafe_:this.charToByteMap_,Ie=[],xe=0;xe<de.length;){var He=we[de.charAt(xe++)],Ot=xe<de.length?we[de.charAt(xe)]:0,Tt=++xe<de.length?we[de.charAt(xe)]:64,an=++xe<de.length?we[de.charAt(xe)]:64;if(++xe,null==He||null==Ot||null==Tt||null==an)throw Error();Ie.push(He<<2|Ot>>4),64!==Tt&&(Ie.push(Ot<<4&240|Tt>>2),64!==an&&Ie.push(Tt<<6&192|an))}return Ie},init_:function(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(var de=0;de<this.ENCODED_VALS.length;de++)this.byteToCharMap_[de]=this.ENCODED_VALS.charAt(de),this.charToByteMap_[this.byteToCharMap_[de]]=de,this.byteToCharMapWebSafe_[de]=this.ENCODED_VALS_WEBSAFE.charAt(de),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[de]]=de,de>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(de)]=de,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(de)]=de)}}},O=function(de){return function(de){var te=oe(de);return ne.encodeByteArray(te,!0)}(de).replace(/\./g,"")},V=function(de){try{return ne.decodeString(de,!0)}catch(te){console.error("base64Decode failed: ",te)}return null};function k(de,te){if(!(te instanceof Object))return te;switch(te.constructor){case Date:return new Date(te.getTime());case Object:void 0===de&&(de={});break;case Array:de=[];break;default:return te}for(var Ie in te)!te.hasOwnProperty(Ie)||!T(Ie)||(de[Ie]=k(de[Ie],te[Ie]));return de}function T(de){return"__proto__"!==de}var F=function(){function de(){var te=this;this.reject=function(){},this.resolve=function(){},this.promise=new Promise(function(we,Ie){te.resolve=we,te.reject=Ie})}return de.prototype.wrapCallback=function(te){var we=this;return function(Ie,xe){Ie?we.reject(Ie):we.resolve(xe),"function"==typeof te&&(we.promise.catch(function(){}),1===te.length?te(Ie):te(Ie,xe))}},de}();function K(de,te){if(de.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');var Ie=te||"demo-project",xe=de.iat||0,He=de.sub||de.user_id;if(!He)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");var ct=(0,m.pi)({iss:"https://securetoken.google.com/"+Ie,aud:Ie,iat:xe,exp:xe+3600,auth_time:xe,sub:He,user_id:He,firebase:{sign_in_provider:"custom",identities:{}}},de);return[O(JSON.stringify({alg:"none",type:"JWT"})),O(JSON.stringify(ct)),""].join(".")}function J(){return"undefined"!=typeof navigator&&"string"==typeof navigator.userAgent?navigator.userAgent:""}function Q(){return"undefined"!=typeof window&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(J())}function G(){try{return"[object process]"===Object.prototype.toString.call(global.process)}catch(de){return!1}}function Z(){return"object"==typeof self&&self.self===self}function ae(){var de="object"==typeof chrome?chrome.runtime:"object"==typeof browser?browser.runtime:void 0;return"object"==typeof de&&void 0!==de.id}function ce(){return"object"==typeof navigator&&"ReactNative"===navigator.product}function ye(){return J().indexOf("Electron/")>=0}function me(){var de=J();return de.indexOf("MSIE ")>=0||de.indexOf("Trident/")>=0}function le(){return J().indexOf("MSAppHost/")>=0}function Re(){return!G()&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function pe(){return"indexedDB"in self&&null!=indexedDB}var ue=function(de){function te(we,Ie,xe){var He=de.call(this,Ie)||this;return He.code=we,He.customData=xe,He.name="FirebaseError",Object.setPrototypeOf(He,te.prototype),Error.captureStackTrace&&Error.captureStackTrace(He,De.prototype.create),He}return(0,m.ZT)(te,de),te}(Error),De=function(){function de(te,we,Ie){this.service=te,this.serviceName=we,this.errors=Ie}return de.prototype.create=function(te){for(var we=[],Ie=1;Ie<arguments.length;Ie++)we[Ie-1]=arguments[Ie];var xe=we[0]||{},He=this.service+"/"+te,ct=this.errors[te],Ot=ct?We(ct,xe):"Error",zt=this.serviceName+": "+Ot+" ("+He+").",Tt=new ue(He,zt,xe);return Tt},de}();function We(de,te){return de.replace(rt,function(we,Ie){var xe=te[Ie];return null!=xe?String(xe):"<"+Ie+"?>"})}var rt=/\{\$([^}]+)}/g;function Je(de,te){return Object.prototype.hasOwnProperty.call(de,te)}function w1(de){for(var te in de)if(Object.prototype.hasOwnProperty.call(de,te))return!1;return!0}function Qt(de,te){if(de===te)return!0;for(var we=Object.keys(de),Ie=Object.keys(te),xe=0,He=we;xe<He.length;xe++){if(!Ie.includes(ct=He[xe]))return!1;var Ot=de[ct],zt=te[ct];if(e1(Ot)&&e1(zt)){if(!Qt(Ot,zt))return!1}else if(Ot!==zt)return!1}for(var Tt=0,_n=Ie;Tt<_n.length;Tt++){var ct;if(!we.includes(ct=_n[Tt]))return!1}return!0}function e1(de){return null!==de&&"object"==typeof de}function vn(de){for(var te=[],we=function(zt,Tt){Array.isArray(Tt)?Tt.forEach(function(_n){te.push(encodeURIComponent(zt)+"="+encodeURIComponent(_n))}):te.push(encodeURIComponent(zt)+"="+encodeURIComponent(Tt))},Ie=0,xe=Object.entries(de);Ie<xe.length;Ie++){var He=xe[Ie];we(He[0],He[1])}return te.length?"&"+te.join("&"):""}function In(de){var te={};return de.replace(/^\?/,"").split("&").forEach(function(Ie){if(Ie){var xe=Ie.split("="),ct=xe[1];te[decodeURIComponent(xe[0])]=decodeURIComponent(ct)}}),te}function J1(de){var te=de.indexOf("?");if(!te)return"";var we=de.indexOf("#",te);return de.substring(te,we>0?we:void 0)}function X1(de,te){var we=new er(de,te);return we.subscribe.bind(we)}!function(){function de(){this.chain_=[],this.buf_=[],this.W_=[],this.pad_=[],this.inbuf_=0,this.total_=0,this.blockSize=64,this.pad_[0]=128;for(var te=1;te<this.blockSize;++te)this.pad_[te]=0;this.reset()}de.prototype.reset=function(){this.chain_[0]=1732584193,this.chain_[1]=4023233417,this.chain_[2]=2562383102,this.chain_[3]=271733878,this.chain_[4]=3285377520,this.inbuf_=0,this.total_=0},de.prototype.compress_=function(te,we){we||(we=0);var Ie=this.W_;if("string"==typeof te)for(var xe=0;xe<16;xe++)Ie[xe]=te.charCodeAt(we)<<24|te.charCodeAt(we+1)<<16|te.charCodeAt(we+2)<<8|te.charCodeAt(we+3),we+=4;else for(xe=0;xe<16;xe++)Ie[xe]=te[we]<<24|te[we+1]<<16|te[we+2]<<8|te[we+3],we+=4;for(xe=16;xe<80;xe++)Ie[xe]=4294967295&((He=Ie[xe-3]^Ie[xe-8]^Ie[xe-14]^Ie[xe-16])<<1|He>>>31);var an,Rn,ct=this.chain_[0],Ot=this.chain_[1],zt=this.chain_[2],Tt=this.chain_[3],_n=this.chain_[4];for(xe=0;xe<80;xe++){xe<40?xe<20?(an=Tt^Ot&(zt^Tt),Rn=1518500249):(an=Ot^zt^Tt,Rn=1859775393):xe<60?(an=Ot&zt|Tt&(Ot|zt),Rn=2400959708):(an=Ot^zt^Tt,Rn=3395469782);var He=(ct<<5|ct>>>27)+an+_n+Rn+Ie[xe]&4294967295;_n=Tt,Tt=zt,zt=4294967295&(Ot<<30|Ot>>>2),Ot=ct,ct=He}this.chain_[0]=this.chain_[0]+ct&4294967295,this.chain_[1]=this.chain_[1]+Ot&4294967295,this.chain_[2]=this.chain_[2]+zt&4294967295,this.chain_[3]=this.chain_[3]+Tt&4294967295,this.chain_[4]=this.chain_[4]+_n&4294967295},de.prototype.update=function(te,we){if(null!=te){void 0===we&&(we=te.length);for(var Ie=we-this.blockSize,xe=0,He=this.buf_,ct=this.inbuf_;xe<we;){if(0===ct)for(;xe<=Ie;)this.compress_(te,xe),xe+=this.blockSize;if("string"==typeof te){for(;xe<we;)if(He[ct]=te.charCodeAt(xe),++xe,++ct===this.blockSize){this.compress_(He),ct=0;break}}else for(;xe<we;)if(He[ct]=te[xe],++xe,++ct===this.blockSize){this.compress_(He),ct=0;break}}this.inbuf_=ct,this.total_+=we}},de.prototype.digest=function(){var te=[],we=8*this.total_;this.update(this.pad_,this.inbuf_<56?56-this.inbuf_:this.blockSize-(this.inbuf_-56));for(var Ie=this.blockSize-1;Ie>=56;Ie--)this.buf_[Ie]=255&we,we/=256;this.compress_(this.buf_);var xe=0;for(Ie=0;Ie<5;Ie++)for(var He=24;He>=0;He-=8)te[xe]=this.chain_[Ie]>>He&255,++xe;return te}}();var er=function(){function de(te,we){var Ie=this;this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=we,this.task.then(function(){te(Ie)}).catch(function(xe){Ie.error(xe)})}return de.prototype.next=function(te){this.forEachObserver(function(we){we.next(te)})},de.prototype.error=function(te){this.forEachObserver(function(we){we.error(te)}),this.close(te)},de.prototype.complete=function(){this.forEachObserver(function(te){te.complete()}),this.close()},de.prototype.subscribe=function(te,we,Ie){var He,xe=this;if(void 0===te&&void 0===we&&void 0===Ie)throw new Error("Missing Observer.");void 0===(He=function(de,te){if("object"!=typeof de||null===de)return!1;for(var we=0,Ie=["next","error","complete"];we<Ie.length;we++){var xe=Ie[we];if(xe in de&&"function"==typeof de[xe])return!0}return!1}(te)?te:{next:te,error:we,complete:Ie}).next&&(He.next=on),void 0===He.error&&(He.error=on),void 0===He.complete&&(He.complete=on);var ct=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(function(){try{xe.finalError?He.error(xe.finalError):He.complete()}catch(Ot){}}),this.observers.push(He),ct},de.prototype.unsubscribeOne=function(te){void 0===this.observers||void 0===this.observers[te]||(delete this.observers[te],this.observerCount-=1,0===this.observerCount&&void 0!==this.onNoObservers&&this.onNoObservers(this))},de.prototype.forEachObserver=function(te){if(!this.finalized)for(var we=0;we<this.observers.length;we++)this.sendOne(we,te)},de.prototype.sendOne=function(te,we){var Ie=this;this.task.then(function(){if(void 0!==Ie.observers&&void 0!==Ie.observers[te])try{we(Ie.observers[te])}catch(xe){"undefined"!=typeof console&&console.error&&console.error(xe)}})},de.prototype.close=function(te){var we=this;this.finalized||(this.finalized=!0,void 0!==te&&(this.finalError=te),this.task.then(function(){we.observers=void 0,we.onNoObservers=void 0}))},de}();function on(){}function nn(de){return de&&de._delegate?de._delegate:de}},7832:function(Ve,Ce,R){var m;Ve.exports=(m=R(1823),R(8341),R(916),R(4369),R(8822),function(){var U=m,X=U.lib.BlockCipher,oe=U.algo,Y=[],ne=[],H=[],O=[],V=[],N=[],k=[],T=[],F=[],K=[];!function(){for(var G=[],Z=0;Z<256;Z++)G[Z]=Z<128?Z<<1:Z<<1^283;var ae=0,ce=0;for(Z=0;Z<256;Z++){var ye=ce^ce<<1^ce<<2^ce<<3^ce<<4;Y[ae]=ye=ye>>>8^255&ye^99,ne[ye]=ae;var Re,me=G[ae],le=G[me],Ne=G[le];H[ae]=(Re=257*G[ye]^16843008*ye)<<24|Re>>>8,O[ae]=Re<<16|Re>>>16,V[ae]=Re<<8|Re>>>24,N[ae]=Re,k[ye]=(Re=16843009*Ne^65537*le^257*me^16843008*ae)<<24|Re>>>8,T[ye]=Re<<16|Re>>>16,F[ye]=Re<<8|Re>>>24,K[ye]=Re,ae?(ae=me^G[G[G[Ne^me]]],ce^=G[G[ce]]):ae=ce=1}}();var J=[0,1,2,4,8,16,32,64,128,27,54],Q=oe.AES=X.extend({_doReset:function(){if(!this._nRounds||this._keyPriorReset!==this._key){for(var Z=this._keyPriorReset=this._key,ae=Z.words,ce=Z.sigBytes/4,me=4*((this._nRounds=ce+6)+1),le=this._keySchedule=[],Ne=0;Ne<me;Ne++)Ne<ce?le[Ne]=ae[Ne]:(G=le[Ne-1],Ne%ce?ce>6&&Ne%ce==4&&(G=Y[G>>>24]<<24|Y[G>>>16&255]<<16|Y[G>>>8&255]<<8|Y[255&G]):(G=Y[(G=G<<8|G>>>24)>>>24]<<24|Y[G>>>16&255]<<16|Y[G>>>8&255]<<8|Y[255&G],G^=J[Ne/ce|0]<<24),le[Ne]=le[Ne-ce]^G);for(var Re=this._invKeySchedule=[],pe=0;pe<me;pe++){if(Ne=me-pe,pe%4)var G=le[Ne];else G=le[Ne-4];Re[pe]=pe<4||Ne<=4?G:k[Y[G>>>24]]^T[Y[G>>>16&255]]^F[Y[G>>>8&255]]^K[Y[255&G]]}}},encryptBlock:function(G,Z){this._doCryptBlock(G,Z,this._keySchedule,H,O,V,N,Y)},decryptBlock:function(G,Z){var ae=G[Z+1];G[Z+1]=G[Z+3],G[Z+3]=ae,this._doCryptBlock(G,Z,this._invKeySchedule,k,T,F,K,ne),ae=G[Z+1],G[Z+1]=G[Z+3],G[Z+3]=ae},_doCryptBlock:function(G,Z,ae,ce,ye,me,le,Ne){for(var Re=this._nRounds,pe=G[Z]^ae[0],ee=G[Z+1]^ae[1],se=G[Z+2]^ae[2],ve=G[Z+3]^ae[3],ie=4,ue=1;ue<Re;ue++){var De=ce[pe>>>24]^ye[ee>>>16&255]^me[se>>>8&255]^le[255&ve]^ae[ie++],We=ce[ee>>>24]^ye[se>>>16&255]^me[ve>>>8&255]^le[255&pe]^ae[ie++],rt=ce[se>>>24]^ye[ve>>>16&255]^me[pe>>>8&255]^le[255&ee]^ae[ie++],Me=ce[ve>>>24]^ye[pe>>>16&255]^me[ee>>>8&255]^le[255&se]^ae[ie++];pe=De,ee=We,se=rt,ve=Me}De=(Ne[pe>>>24]<<24|Ne[ee>>>16&255]<<16|Ne[se>>>8&255]<<8|Ne[255&ve])^ae[ie++],We=(Ne[ee>>>24]<<24|Ne[se>>>16&255]<<16|Ne[ve>>>8&255]<<8|Ne[255&pe])^ae[ie++],rt=(Ne[se>>>24]<<24|Ne[ve>>>16&255]<<16|Ne[pe>>>8&255]<<8|Ne[255&ee])^ae[ie++],Me=(Ne[ve>>>24]<<24|Ne[pe>>>16&255]<<16|Ne[ee>>>8&255]<<8|Ne[255&se])^ae[ie++],G[Z]=De,G[Z+1]=We,G[Z+2]=rt,G[Z+3]=Me},keySize:8});U.AES=X._createHelper(Q)}(),m.AES)},8822:function(Ve,Ce,R){var B,X,oe,Y,ne,H,V,k,T,K,J,Q,Z,ce,me,le,Re,pe,m;Ve.exports=(m=R(1823),R(4369),void(m.lib.Cipher||(B=m,X=B.lib,oe=X.Base,Y=X.WordArray,ne=X.BufferedBlockAlgorithm,H=B.enc,V=H.Base64,k=B.algo.EvpKDF,T=X.Cipher=ne.extend({cfg:oe.extend(),createEncryptor:function(ee,se){return this.create(this._ENC_XFORM_MODE,ee,se)},createDecryptor:function(ee,se){return this.create(this._DEC_XFORM_MODE,ee,se)},init:function(ee,se,ve){this.cfg=this.cfg.extend(ve),this._xformMode=ee,this._key=se,this.reset()},reset:function(){ne.reset.call(this),this._doReset()},process:function(ee){return this._append(ee),this._process()},finalize:function(ee){return ee&&this._append(ee),this._doFinalize()},keySize:4,ivSize:4,_ENC_XFORM_MODE:1,_DEC_XFORM_MODE:2,_createHelper:function(){function ee(se){return"string"==typeof se?pe:le}return function(se){return{encrypt:function(ve,ie,ue){return ee(ie).encrypt(se,ve,ie,ue)},decrypt:function(ve,ie,ue){return ee(ie).decrypt(se,ve,ie,ue)}}}}()}),X.StreamCipher=T.extend({_doFinalize:function(){return this._process(!0)},blockSize:1}),K=B.mode={},J=X.BlockCipherMode=oe.extend({createEncryptor:function(ee,se){return this.Encryptor.create(ee,se)},createDecryptor:function(ee,se){return this.Decryptor.create(ee,se)},init:function(ee,se){this._cipher=ee,this._iv=se}}),Q=K.CBC=function(){var ee=J.extend();function se(ve,ie,ue){var De,We=this._iv;We?(De=We,this._iv=undefined):De=this._prevBlock;for(var rt=0;rt<ue;rt++)ve[ie+rt]^=De[rt]}return ee.Encryptor=ee.extend({processBlock:function(ve,ie){var ue=this._cipher,De=ue.blockSize;se.call(this,ve,ie,De),ue.encryptBlock(ve,ie),this._prevBlock=ve.slice(ie,ie+De)}}),ee.Decryptor=ee.extend({processBlock:function(ve,ie){var ue=this._cipher,De=ue.blockSize,We=ve.slice(ie,ie+De);ue.decryptBlock(ve,ie),se.call(this,ve,ie,De),this._prevBlock=We}}),ee}(),Z=(B.pad={}).Pkcs7={pad:function(ee,se){for(var ve=4*se,ie=ve-ee.sigBytes%ve,ue=ie<<24|ie<<16|ie<<8|ie,De=[],We=0;We<ie;We+=4)De.push(ue);var rt=Y.create(De,ie);ee.concat(rt)},unpad:function(ee){ee.sigBytes-=255&ee.words[ee.sigBytes-1>>>2]}},X.BlockCipher=T.extend({cfg:T.cfg.extend({mode:Q,padding:Z}),reset:function(){var ee;T.reset.call(this);var se=this.cfg,ve=se.iv,ie=se.mode;this._xformMode==this._ENC_XFORM_MODE?ee=ie.createEncryptor:(ee=ie.createDecryptor,this._minBufferSize=1),this._mode&&this._mode.__creator==ee?this._mode.init(this,ve&&ve.words):(this._mode=ee.call(ie,this,ve&&ve.words),this._mode.__creator=ee)},_doProcessBlock:function(ee,se){this._mode.processBlock(ee,se)},_doFinalize:function(){var ee,se=this.cfg.padding;return this._xformMode==this._ENC_XFORM_MODE?(se.pad(this._data,this.blockSize),ee=this._process(!0)):(ee=this._process(!0),se.unpad(ee)),ee},blockSize:4}),ce=X.CipherParams=oe.extend({init:function(ee){this.mixIn(ee)},toString:function(ee){return(ee||this.formatter).stringify(this)}}),me=(B.format={}).OpenSSL={stringify:function(ee){var ve=ee.ciphertext,ie=ee.salt;return(ie?Y.create([1398893684,1701076831]).concat(ie).concat(ve):ve).toString(V)},parse:function(ee){var se,ve=V.parse(ee),ie=ve.words;return 1398893684==ie[0]&&1701076831==ie[1]&&(se=Y.create(ie.slice(2,4)),ie.splice(0,4),ve.sigBytes-=16),ce.create({ciphertext:ve,salt:se})}},le=X.SerializableCipher=oe.extend({cfg:oe.extend({format:me}),encrypt:function(ee,se,ve,ie){ie=this.cfg.extend(ie);var ue=ee.createEncryptor(ve,ie),De=ue.finalize(se),We=ue.cfg;return ce.create({ciphertext:De,key:ve,iv:We.iv,algorithm:ee,mode:We.mode,padding:We.padding,blockSize:ee.blockSize,formatter:ie.format})},decrypt:function(ee,se,ve,ie){return ie=this.cfg.extend(ie),se=this._parse(se,ie.format),ee.createDecryptor(ve,ie).finalize(se.ciphertext)},_parse:function(ee,se){return"string"==typeof ee?se.parse(ee,this):ee}}),Re=(B.kdf={}).OpenSSL={execute:function(ee,se,ve,ie){ie||(ie=Y.random(8));var ue=k.create({keySize:se+ve}).compute(ee,ie),De=Y.create(ue.words.slice(se),4*ve);return ue.sigBytes=4*se,ce.create({key:ue,iv:De,salt:ie})}},pe=X.PasswordBasedCipher=le.extend({cfg:le.cfg.extend({kdf:Re}),encrypt:function(ee,se,ve,ie){var ue=(ie=this.cfg.extend(ie)).kdf.execute(ve,ee.keySize,ee.ivSize);ie.iv=ue.iv;var De=le.encrypt.call(this,ee,se,ue.key,ie);return De.mixIn(ue),De},decrypt:function(ee,se,ve,ie){ie=this.cfg.extend(ie),se=this._parse(se,ie.format);var ue=ie.kdf.execute(ve,ee.keySize,ee.ivSize,se.salt);return ie.iv=ue.iv,le.decrypt.call(this,ee,se,ue.key,ie)}}))))},1823:function(Ve,Ce,R){var m;Ve.exports=m=m||function(U,B){var X;if("undefined"!=typeof window&&window.crypto&&(X=window.crypto),"undefined"!=typeof self&&self.crypto&&(X=self.crypto),"undefined"!=typeof globalThis&&globalThis.crypto&&(X=globalThis.crypto),!X&&"undefined"!=typeof window&&window.msCrypto&&(X=window.msCrypto),!X&&"undefined"!=typeof global&&global.crypto&&(X=global.crypto),!X)try{X=R(2480)}catch(G){}var oe=function(){if(X){if("function"==typeof X.getRandomValues)try{return X.getRandomValues(new Uint32Array(1))[0]}catch(G){}if("function"==typeof X.randomBytes)try{return X.randomBytes(4).readInt32LE()}catch(G){}}throw new Error("Native crypto module could not be used to get secure random number.")},Y=Object.create||function(){function G(){}return function(Z){var ae;return G.prototype=Z,ae=new G,G.prototype=null,ae}}(),ne={},H=ne.lib={},O=H.Base={extend:function(G){var Z=Y(this);return G&&Z.mixIn(G),(!Z.hasOwnProperty("init")||this.init===Z.init)&&(Z.init=function(){Z.$super.init.apply(this,arguments)}),Z.init.prototype=Z,Z.$super=this,Z},create:function(){var G=this.extend();return G.init.apply(G,arguments),G},init:function(){},mixIn:function(G){for(var Z in G)G.hasOwnProperty(Z)&&(this[Z]=G[Z]);G.hasOwnProperty("toString")&&(this.toString=G.toString)},clone:function(){return this.init.prototype.extend(this)}},V=H.WordArray=O.extend({init:function(G,Z){G=this.words=G||[],this.sigBytes=null!=Z?Z:4*G.length},toString:function(G){return(G||k).stringify(this)},concat:function(G){var Z=this.words,ae=G.words,ce=this.sigBytes,ye=G.sigBytes;if(this.clamp(),ce%4)for(var me=0;me<ye;me++)Z[ce+me>>>2]|=(ae[me>>>2]>>>24-me%4*8&255)<<24-(ce+me)%4*8;else for(var Ne=0;Ne<ye;Ne+=4)Z[ce+Ne>>>2]=ae[Ne>>>2];return this.sigBytes+=ye,this},clamp:function(){var G=this.words,Z=this.sigBytes;G[Z>>>2]&=4294967295<<32-Z%4*8,G.length=U.ceil(Z/4)},clone:function(){var G=O.clone.call(this);return G.words=this.words.slice(0),G},random:function(G){for(var Z=[],ae=0;ae<G;ae+=4)Z.push(oe());return new V.init(Z,G)}}),N=ne.enc={},k=N.Hex={stringify:function(G){for(var Z=G.words,ae=G.sigBytes,ce=[],ye=0;ye<ae;ye++){var me=Z[ye>>>2]>>>24-ye%4*8&255;ce.push((me>>>4).toString(16)),ce.push((15&me).toString(16))}return ce.join("")},parse:function(G){for(var Z=G.length,ae=[],ce=0;ce<Z;ce+=2)ae[ce>>>3]|=parseInt(G.substr(ce,2),16)<<24-ce%8*4;return new V.init(ae,Z/2)}},T=N.Latin1={stringify:function(G){for(var Z=G.words,ae=G.sigBytes,ce=[],ye=0;ye<ae;ye++)ce.push(String.fromCharCode(Z[ye>>>2]>>>24-ye%4*8&255));return ce.join("")},parse:function(G){for(var Z=G.length,ae=[],ce=0;ce<Z;ce++)ae[ce>>>2]|=(255&G.charCodeAt(ce))<<24-ce%4*8;return new V.init(ae,Z)}},F=N.Utf8={stringify:function(G){try{return decodeURIComponent(escape(T.stringify(G)))}catch(Z){throw new Error("Malformed UTF-8 data")}},parse:function(G){return T.parse(unescape(encodeURIComponent(G)))}},K=H.BufferedBlockAlgorithm=O.extend({reset:function(){this._data=new V.init,this._nDataBytes=0},_append:function(G){"string"==typeof G&&(G=F.parse(G)),this._data.concat(G),this._nDataBytes+=G.sigBytes},_process:function(G){var Z,ae=this._data,ce=ae.words,ye=ae.sigBytes,me=this.blockSize,Ne=ye/(4*me),Re=(Ne=G?U.ceil(Ne):U.max((0|Ne)-this._minBufferSize,0))*me,pe=U.min(4*Re,ye);if(Re){for(var ee=0;ee<Re;ee+=me)this._doProcessBlock(ce,ee);Z=ce.splice(0,Re),ae.sigBytes-=pe}return new V.init(Z,pe)},clone:function(){var G=O.clone.call(this);return G._data=this._data.clone(),G},_minBufferSize:0}),Q=(H.Hasher=K.extend({cfg:O.extend(),init:function(G){this.cfg=this.cfg.extend(G),this.reset()},reset:function(){K.reset.call(this),this._doReset()},update:function(G){return this._append(G),this._process(),this},finalize:function(G){return G&&this._append(G),this._doFinalize()},blockSize:16,_createHelper:function(G){return function(Z,ae){return new G.init(ae).finalize(Z)}},_createHmacHelper:function(G){return function(Z,ae){return new Q.HMAC.init(G,ae).finalize(Z)}}}),ne.algo={});return ne}(Math)},8341:function(Ve,Ce,R){var m,X;Ve.exports=(m=R(1823),X=m.lib.WordArray,m.enc.Base64={stringify:function(H){var O=H.words,V=H.sigBytes,N=this._map;H.clamp();for(var k=[],T=0;T<V;T+=3)for(var Q=(O[T>>>2]>>>24-T%4*8&255)<<16|(O[T+1>>>2]>>>24-(T+1)%4*8&255)<<8|O[T+2>>>2]>>>24-(T+2)%4*8&255,G=0;G<4&&T+.75*G<V;G++)k.push(N.charAt(Q>>>6*(3-G)&63));var Z=N.charAt(64);if(Z)for(;k.length%4;)k.push(Z);return k.join("")},parse:function(H){var O=H.length,V=this._map,N=this._reverseMap;if(!N){N=this._reverseMap=[];for(var k=0;k<V.length;k++)N[V.charCodeAt(k)]=k}var T=V.charAt(64);if(T){var F=H.indexOf(T);-1!==F&&(O=F)}return function(H,O,V){for(var N=[],k=0,T=0;T<O;T++)if(T%4){var F=V[H.charCodeAt(T-1)]<<T%4*2,K=V[H.charCodeAt(T)]>>>6-T%4*2;N[k>>>2]|=(F|K)<<24-k%4*8,k++}return X.create(N,k)}(H,O,N)},_map:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/="},m.enc.Base64)},9237:function(Ve,Ce,R){var m,X;Ve.exports=(m=R(1823),X=m.lib.WordArray,m.enc.Base64url={stringify:function(H,O=!0){var V=H.words,N=H.sigBytes,k=O?this._safe_map:this._map;H.clamp();for(var T=[],F=0;F<N;F+=3)for(var G=(V[F>>>2]>>>24-F%4*8&255)<<16|(V[F+1>>>2]>>>24-(F+1)%4*8&255)<<8|V[F+2>>>2]>>>24-(F+2)%4*8&255,Z=0;Z<4&&F+.75*Z<N;Z++)T.push(k.charAt(G>>>6*(3-Z)&63));var ae=k.charAt(64);if(ae)for(;T.length%4;)T.push(ae);return T.join("")},parse:function(H,O=!0){var V=H.length,N=O?this._safe_map:this._map,k=this._reverseMap;if(!k){k=this._reverseMap=[];for(var T=0;T<N.length;T++)k[N.charCodeAt(T)]=T}var F=N.charAt(64);if(F){var K=H.indexOf(F);-1!==K&&(V=K)}return function(H,O,V){for(var N=[],k=0,T=0;T<O;T++)if(T%4){var F=V[H.charCodeAt(T-1)]<<T%4*2,K=V[H.charCodeAt(T)]>>>6-T%4*2;N[k>>>2]|=(F|K)<<24-k%4*8,k++}return X.create(N,k)}(H,V,k)},_map:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=",_safe_map:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_"},m.enc.Base64url)},4153:function(Ve,Ce,R){var m;Ve.exports=(m=R(1823),function(){var X=m.lib.WordArray,oe=m.enc;function ne(H){return H<<8&4278255360|H>>>8&16711935}oe.Utf16=oe.Utf16BE={stringify:function(H){for(var O=H.words,V=H.sigBytes,N=[],k=0;k<V;k+=2)N.push(String.fromCharCode(O[k>>>2]>>>16-k%4*8&65535));return N.join("")},parse:function(H){for(var O=H.length,V=[],N=0;N<O;N++)V[N>>>1]|=H.charCodeAt(N)<<16-N%2*16;return X.create(V,2*O)}},oe.Utf16LE={stringify:function(H){for(var O=H.words,V=H.sigBytes,N=[],k=0;k<V;k+=2){var T=ne(O[k>>>2]>>>16-k%4*8&65535);N.push(String.fromCharCode(T))}return N.join("")},parse:function(H){for(var O=H.length,V=[],N=0;N<O;N++)V[N>>>1]|=ne(H.charCodeAt(N)<<16-N%2*16);return X.create(V,2*O)}}}(),m.enc.Utf16)},4369:function(Ve,Ce,R){var U,B,X,oe,Y,H,m;Ve.exports=(m=R(1823),R(6496),R(3331),oe=(B=(U=m).lib).WordArray,H=(Y=U.algo).EvpKDF=(X=B.Base).extend({cfg:X.extend({keySize:4,hasher:Y.MD5,iterations:1}),init:function(O){this.cfg=this.cfg.extend(O)},compute:function(O,V){for(var N,k=this.cfg,T=k.hasher.create(),F=oe.create(),K=F.words,J=k.keySize,Q=k.iterations;K.length<J;){N&&T.update(N),N=T.update(O).finalize(V),T.reset();for(var G=1;G<Q;G++)N=T.finalize(N),T.reset();F.concat(N)}return F.sigBytes=4*J,F}}),U.EvpKDF=function(O,V,N){return H.create(N).compute(O,V)},m.EvpKDF)},5383:function(Ve,Ce,R){var m,oe,ne;Ve.exports=(m=R(1823),R(8822),oe=m.lib.CipherParams,ne=m.enc.Hex,m.format.Hex={stringify:function(V){return V.ciphertext.toString(ne)},parse:function(V){var N=ne.parse(V);return oe.create({ciphertext:N})}},m.format.Hex)},3331:function(Ve,Ce,R){var m,Y;Ve.exports=(m=R(1823),Y=m.enc.Utf8,void(m.algo.HMAC=m.lib.Base.extend({init:function(O,V){O=this._hasher=new O.init,"string"==typeof V&&(V=Y.parse(V));var N=O.blockSize,k=4*N;V.sigBytes>k&&(V=O.finalize(V)),V.clamp();for(var T=this._oKey=V.clone(),F=this._iKey=V.clone(),K=T.words,J=F.words,Q=0;Q<N;Q++)K[Q]^=1549556828,J[Q]^=909522486;T.sigBytes=F.sigBytes=k,this.reset()},reset:function(){var O=this._hasher;O.reset(),O.update(this._iKey)},update:function(O){return this._hasher.update(O),this},finalize:function(O){var V=this._hasher,N=V.finalize(O);return V.reset(),V.finalize(this._oKey.clone().concat(N))}})))},2527:function(Ve,Ce,R){var m;Ve.exports=(m=R(1823),R(4615),R(4194),R(4153),R(8341),R(9237),R(916),R(6496),R(6946),R(6538),R(1206),R(7098),R(2633),R(5508),R(3331),R(3096),R(4369),R(8822),R(8915),R(9913),R(1981),R(7163),R(6447),R(3199),R(9049),R(2812),R(5355),R(1247),R(5383),R(7832),R(4994),R(1093),R(7076),R(5625),m)},4194:function(Ve,Ce,R){var m;Ve.exports=(m=R(1823),function(){if("function"==typeof ArrayBuffer){var X=m.lib.WordArray,oe=X.init;(X.init=function(ne){if(ne instanceof ArrayBuffer&&(ne=new Uint8Array(ne)),(ne instanceof Int8Array||"undefined"!=typeof Uint8ClampedArray&&ne instanceof Uint8ClampedArray||ne instanceof Int16Array||ne instanceof Uint16Array||ne instanceof Int32Array||ne instanceof Uint32Array||ne instanceof Float32Array||ne instanceof Float64Array)&&(ne=new Uint8Array(ne.buffer,ne.byteOffset,ne.byteLength)),ne instanceof Uint8Array){for(var H=ne.byteLength,O=[],V=0;V<H;V++)O[V>>>2]|=ne[V]<<24-V%4*8;oe.call(this,O,H)}else oe.apply(this,arguments)}).prototype=X}}(),m.lib.WordArray)},916:function(Ve,Ce,R){var m;Ve.exports=(m=R(1823),function(U){var B=m,X=B.lib,oe=X.WordArray,Y=X.Hasher,ne=B.algo,H=[];!function(){for(var F=0;F<64;F++)H[F]=4294967296*U.abs(U.sin(F+1))|0}();var O=ne.MD5=Y.extend({_doReset:function(){this._hash=new oe.init([1732584193,4023233417,2562383102,271733878])},_doProcessBlock:function(F,K){for(var J=0;J<16;J++){var Q=K+J,G=F[Q];F[Q]=16711935&(G<<8|G>>>24)|4278255360&(G<<24|G>>>8)}var Z=this._hash.words,ae=F[K+0],ce=F[K+1],ye=F[K+2],me=F[K+3],le=F[K+4],Ne=F[K+5],Re=F[K+6],pe=F[K+7],ee=F[K+8],se=F[K+9],ve=F[K+10],ie=F[K+11],ue=F[K+12],De=F[K+13],We=F[K+14],rt=F[K+15],Me=Z[0],ze=Z[1],Pe=Z[2],ke=Z[3];Me=V(Me,ze,Pe,ke,ae,7,H[0]),ke=V(ke,Me,ze,Pe,ce,12,H[1]),Pe=V(Pe,ke,Me,ze,ye,17,H[2]),ze=V(ze,Pe,ke,Me,me,22,H[3]),Me=V(Me,ze,Pe,ke,le,7,H[4]),ke=V(ke,Me,ze,Pe,Ne,12,H[5]),Pe=V(Pe,ke,Me,ze,Re,17,H[6]),ze=V(ze,Pe,ke,Me,pe,22,H[7]),Me=V(Me,ze,Pe,ke,ee,7,H[8]),ke=V(ke,Me,ze,Pe,se,12,H[9]),Pe=V(Pe,ke,Me,ze,ve,17,H[10]),ze=V(ze,Pe,ke,Me,ie,22,H[11]),Me=V(Me,ze,Pe,ke,ue,7,H[12]),ke=V(ke,Me,ze,Pe,De,12,H[13]),Pe=V(Pe,ke,Me,ze,We,17,H[14]),Me=N(Me,ze=V(ze,Pe,ke,Me,rt,22,H[15]),Pe,ke,ce,5,H[16]),ke=N(ke,Me,ze,Pe,Re,9,H[17]),Pe=N(Pe,ke,Me,ze,ie,14,H[18]),ze=N(ze,Pe,ke,Me,ae,20,H[19]),Me=N(Me,ze,Pe,ke,Ne,5,H[20]),ke=N(ke,Me,ze,Pe,ve,9,H[21]),Pe=N(Pe,ke,Me,ze,rt,14,H[22]),ze=N(ze,Pe,ke,Me,le,20,H[23]),Me=N(Me,ze,Pe,ke,se,5,H[24]),ke=N(ke,Me,ze,Pe,We,9,H[25]),Pe=N(Pe,ke,Me,ze,me,14,H[26]),ze=N(ze,Pe,ke,Me,ee,20,H[27]),Me=N(Me,ze,Pe,ke,De,5,H[28]),ke=N(ke,Me,ze,Pe,ye,9,H[29]),Pe=N(Pe,ke,Me,ze,pe,14,H[30]),Me=k(Me,ze=N(ze,Pe,ke,Me,ue,20,H[31]),Pe,ke,Ne,4,H[32]),ke=k(ke,Me,ze,Pe,ee,11,H[33]),Pe=k(Pe,ke,Me,ze,ie,16,H[34]),ze=k(ze,Pe,ke,Me,We,23,H[35]),Me=k(Me,ze,Pe,ke,ce,4,H[36]),ke=k(ke,Me,ze,Pe,le,11,H[37]),Pe=k(Pe,ke,Me,ze,pe,16,H[38]),ze=k(ze,Pe,ke,Me,ve,23,H[39]),Me=k(Me,ze,Pe,ke,De,4,H[40]),ke=k(ke,Me,ze,Pe,ae,11,H[41]),Pe=k(Pe,ke,Me,ze,me,16,H[42]),ze=k(ze,Pe,ke,Me,Re,23,H[43]),Me=k(Me,ze,Pe,ke,se,4,H[44]),ke=k(ke,Me,ze,Pe,ue,11,H[45]),Pe=k(Pe,ke,Me,ze,rt,16,H[46]),Me=T(Me,ze=k(ze,Pe,ke,Me,ye,23,H[47]),Pe,ke,ae,6,H[48]),ke=T(ke,Me,ze,Pe,pe,10,H[49]),Pe=T(Pe,ke,Me,ze,We,15,H[50]),ze=T(ze,Pe,ke,Me,Ne,21,H[51]),Me=T(Me,ze,Pe,ke,ue,6,H[52]),ke=T(ke,Me,ze,Pe,me,10,H[53]),Pe=T(Pe,ke,Me,ze,ve,15,H[54]),ze=T(ze,Pe,ke,Me,ce,21,H[55]),Me=T(Me,ze,Pe,ke,ee,6,H[56]),ke=T(ke,Me,ze,Pe,rt,10,H[57]),Pe=T(Pe,ke,Me,ze,Re,15,H[58]),ze=T(ze,Pe,ke,Me,De,21,H[59]),Me=T(Me,ze,Pe,ke,le,6,H[60]),ke=T(ke,Me,ze,Pe,ie,10,H[61]),Pe=T(Pe,ke,Me,ze,ye,15,H[62]),ze=T(ze,Pe,ke,Me,se,21,H[63]),Z[0]=Z[0]+Me|0,Z[1]=Z[1]+ze|0,Z[2]=Z[2]+Pe|0,Z[3]=Z[3]+ke|0},_doFinalize:function(){var F=this._data,K=F.words,J=8*this._nDataBytes,Q=8*F.sigBytes;K[Q>>>5]|=128<<24-Q%32;var G=U.floor(J/4294967296),Z=J;K[15+(Q+64>>>9<<4)]=16711935&(G<<8|G>>>24)|4278255360&(G<<24|G>>>8),K[14+(Q+64>>>9<<4)]=16711935&(Z<<8|Z>>>24)|4278255360&(Z<<24|Z>>>8),F.sigBytes=4*(K.length+1),this._process();for(var ae=this._hash,ce=ae.words,ye=0;ye<4;ye++){var me=ce[ye];ce[ye]=16711935&(me<<8|me>>>24)|4278255360&(me<<24|me>>>8)}return ae},clone:function(){var F=Y.clone.call(this);return F._hash=this._hash.clone(),F}});function V(F,K,J,Q,G,Z,ae){var ce=F+(K&J|~K&Q)+G+ae;return(ce<<Z|ce>>>32-Z)+K}function N(F,K,J,Q,G,Z,ae){var ce=F+(K&Q|J&~Q)+G+ae;return(ce<<Z|ce>>>32-Z)+K}function k(F,K,J,Q,G,Z,ae){var ce=F+(K^J^Q)+G+ae;return(ce<<Z|ce>>>32-Z)+K}function T(F,K,J,Q,G,Z,ae){var ce=F+(J^(K|~Q))+G+ae;return(ce<<Z|ce>>>32-Z)+K}B.MD5=Y._createHelper(O),B.HmacMD5=Y._createHmacHelper(O)}(Math),m.MD5)},8915:function(Ve,Ce,R){var m;Ve.exports=(m=R(1823),R(8822),m.mode.CFB=function(){var U=m.lib.BlockCipherMode.extend();function B(X,oe,Y,ne){var H,O=this._iv;O?(H=O.slice(0),this._iv=void 0):H=this._prevBlock,ne.encryptBlock(H,0);for(var V=0;V<Y;V++)X[oe+V]^=H[V]}return U.Encryptor=U.extend({processBlock:function(X,oe){var Y=this._cipher,ne=Y.blockSize;B.call(this,X,oe,ne,Y),this._prevBlock=X.slice(oe,oe+ne)}}),U.Decryptor=U.extend({processBlock:function(X,oe){var Y=this._cipher,ne=Y.blockSize,H=X.slice(oe,oe+ne);B.call(this,X,oe,ne,Y),this._prevBlock=H}}),U}(),m.mode.CFB)},1981:function(Ve,Ce,R){var m;Ve.exports=(m=R(1823),R(8822),m.mode.CTRGladman=function(){var U=m.lib.BlockCipherMode.extend();function B(Y){if(255==(Y>>24&255)){var ne=Y>>16&255,H=Y>>8&255,O=255&Y;255===ne?(ne=0,255===H?(H=0,255===O?O=0:++O):++H):++ne,Y=0,Y+=ne<<16,Y+=H<<8,Y+=O}else Y+=1<<24;return Y}var oe=U.Encryptor=U.extend({processBlock:function(Y,ne){var H=this._cipher,O=H.blockSize,V=this._iv,N=this._counter;V&&(N=this._counter=V.slice(0),this._iv=void 0),function(Y){0===(Y[0]=B(Y[0]))&&(Y[1]=B(Y[1]))}(N);var k=N.slice(0);H.encryptBlock(k,0);for(var T=0;T<O;T++)Y[ne+T]^=k[T]}});return U.Decryptor=oe,U}(),m.mode.CTRGladman)},9913:function(Ve,Ce,R){var U,B,m;Ve.exports=(m=R(1823),R(8822),m.mode.CTR=(B=(U=m.lib.BlockCipherMode.extend()).Encryptor=U.extend({processBlock:function(X,oe){var Y=this._cipher,ne=Y.blockSize,H=this._iv,O=this._counter;H&&(O=this._counter=H.slice(0),this._iv=void 0);var V=O.slice(0);Y.encryptBlock(V,0),O[ne-1]=O[ne-1]+1|0;for(var N=0;N<ne;N++)X[oe+N]^=V[N]}}),U.Decryptor=B,U),m.mode.CTR)},6447:function(Ve,Ce,R){var U,m;Ve.exports=(m=R(1823),R(8822),m.mode.ECB=((U=m.lib.BlockCipherMode.extend()).Encryptor=U.extend({processBlock:function(B,X){this._cipher.encryptBlock(B,X)}}),U.Decryptor=U.extend({processBlock:function(B,X){this._cipher.decryptBlock(B,X)}}),U),m.mode.ECB)},7163:function(Ve,Ce,R){var U,B,m;Ve.exports=(m=R(1823),R(8822),m.mode.OFB=(B=(U=m.lib.BlockCipherMode.extend()).Encryptor=U.extend({processBlock:function(X,oe){var Y=this._cipher,ne=Y.blockSize,H=this._iv,O=this._keystream;H&&(O=this._keystream=H.slice(0),this._iv=void 0),Y.encryptBlock(O,0);for(var V=0;V<ne;V++)X[oe+V]^=O[V]}}),U.Decryptor=B,U),m.mode.OFB)},3199:function(Ve,Ce,R){var m;Ve.exports=(m=R(1823),R(8822),m.pad.AnsiX923={pad:function(U,B){var X=U.sigBytes,oe=4*B,Y=oe-X%oe,ne=X+Y-1;U.clamp(),U.words[ne>>>2]|=Y<<24-ne%4*8,U.sigBytes+=Y},unpad:function(U){U.sigBytes-=255&U.words[U.sigBytes-1>>>2]}},m.pad.Ansix923)},9049:function(Ve,Ce,R){var m;Ve.exports=(m=R(1823),R(8822),m.pad.Iso10126={pad:function(U,B){var X=4*B,oe=X-U.sigBytes%X;U.concat(m.lib.WordArray.random(oe-1)).concat(m.lib.WordArray.create([oe<<24],1))},unpad:function(U){U.sigBytes-=255&U.words[U.sigBytes-1>>>2]}},m.pad.Iso10126)},2812:function(Ve,Ce,R){var m;Ve.exports=(m=R(1823),R(8822),m.pad.Iso97971={pad:function(U,B){U.concat(m.lib.WordArray.create([2147483648],1)),m.pad.ZeroPadding.pad(U,B)},unpad:function(U){m.pad.ZeroPadding.unpad(U),U.sigBytes--}},m.pad.Iso97971)},1247:function(Ve,Ce,R){var m;Ve.exports=(m=R(1823),R(8822),m.pad.NoPadding={pad:function(){},unpad:function(){}},m.pad.NoPadding)},5355:function(Ve,Ce,R){var m;Ve.exports=(m=R(1823),R(8822),m.pad.ZeroPadding={pad:function(U,B){var X=4*B;U.clamp(),U.sigBytes+=X-(U.sigBytes%X||X)},unpad:function(U){var B=U.words,X=U.sigBytes-1;for(X=U.sigBytes-1;X>=0;X--)if(B[X>>>2]>>>24-X%4*8&255){U.sigBytes=X+1;break}}},m.pad.ZeroPadding)},3096:function(Ve,Ce,R){var U,B,X,oe,Y,H,O,m;Ve.exports=(m=R(1823),R(6496),R(3331),oe=(B=(U=m).lib).WordArray,H=(Y=U.algo).HMAC,O=Y.PBKDF2=(X=B.Base).extend({cfg:X.extend({keySize:4,hasher:Y.SHA1,iterations:1}),init:function(V){this.cfg=this.cfg.extend(V)},compute:function(V,N){for(var k=this.cfg,T=H.create(k.hasher,V),F=oe.create(),K=oe.create([1]),J=F.words,Q=K.words,G=k.keySize,Z=k.iterations;J.length<G;){var ae=T.update(N).finalize(K);T.reset();for(var ce=ae.words,ye=ce.length,me=ae,le=1;le<Z;le++){me=T.finalize(me),T.reset();for(var Ne=me.words,Re=0;Re<ye;Re++)ce[Re]^=Ne[Re]}F.concat(ae),Q[0]++}return F.sigBytes=4*G,F}}),U.PBKDF2=function(V,N,k){return O.create(k).compute(V,N)},m.PBKDF2)},5625:function(Ve,Ce,R){var m;Ve.exports=(m=R(1823),R(8341),R(916),R(4369),R(8822),function(){var U=m,X=U.lib.StreamCipher,Y=[],ne=[],H=[],O=U.algo.RabbitLegacy=X.extend({_doReset:function(){var N=this._key.words,k=this.cfg.iv,T=this._X=[N[0],N[3]<<16|N[2]>>>16,N[1],N[0]<<16|N[3]>>>16,N[2],N[1]<<16|N[0]>>>16,N[3],N[2]<<16|N[1]>>>16],F=this._C=[N[2]<<16|N[2]>>>16,4294901760&N[0]|65535&N[1],N[3]<<16|N[3]>>>16,4294901760&N[1]|65535&N[2],N[0]<<16|N[0]>>>16,4294901760&N[2]|65535&N[3],N[1]<<16|N[1]>>>16,4294901760&N[3]|65535&N[0]];this._b=0;for(var K=0;K<4;K++)V.call(this);for(K=0;K<8;K++)F[K]^=T[K+4&7];if(k){var J=k.words,Q=J[0],G=J[1],Z=16711935&(Q<<8|Q>>>24)|4278255360&(Q<<24|Q>>>8),ae=16711935&(G<<8|G>>>24)|4278255360&(G<<24|G>>>8),ce=Z>>>16|4294901760&ae,ye=ae<<16|65535&Z;for(F[0]^=Z,F[1]^=ce,F[2]^=ae,F[3]^=ye,F[4]^=Z,F[5]^=ce,F[6]^=ae,F[7]^=ye,K=0;K<4;K++)V.call(this)}},_doProcessBlock:function(N,k){var T=this._X;V.call(this),Y[0]=T[0]^T[5]>>>16^T[3]<<16,Y[1]=T[2]^T[7]>>>16^T[5]<<16,Y[2]=T[4]^T[1]>>>16^T[7]<<16,Y[3]=T[6]^T[3]>>>16^T[1]<<16;for(var F=0;F<4;F++)Y[F]=16711935&(Y[F]<<8|Y[F]>>>24)|4278255360&(Y[F]<<24|Y[F]>>>8),N[k+F]^=Y[F]},blockSize:4,ivSize:2});function V(){for(var N=this._X,k=this._C,T=0;T<8;T++)ne[T]=k[T];for(k[0]=k[0]+1295307597+this._b|0,k[1]=k[1]+3545052371+(k[0]>>>0<ne[0]>>>0?1:0)|0,k[2]=k[2]+886263092+(k[1]>>>0<ne[1]>>>0?1:0)|0,k[3]=k[3]+1295307597+(k[2]>>>0<ne[2]>>>0?1:0)|0,k[4]=k[4]+3545052371+(k[3]>>>0<ne[3]>>>0?1:0)|0,k[5]=k[5]+886263092+(k[4]>>>0<ne[4]>>>0?1:0)|0,k[6]=k[6]+1295307597+(k[5]>>>0<ne[5]>>>0?1:0)|0,k[7]=k[7]+3545052371+(k[6]>>>0<ne[6]>>>0?1:0)|0,this._b=k[7]>>>0<ne[7]>>>0?1:0,T=0;T<8;T++){var F=N[T]+k[T],K=65535&F,J=F>>>16;H[T]=((K*K>>>17)+K*J>>>15)+J*J^((4294901760&F)*F|0)+((65535&F)*F|0)}N[0]=H[0]+(H[7]<<16|H[7]>>>16)+(H[6]<<16|H[6]>>>16)|0,N[1]=H[1]+(H[0]<<8|H[0]>>>24)+H[7]|0,N[2]=H[2]+(H[1]<<16|H[1]>>>16)+(H[0]<<16|H[0]>>>16)|0,N[3]=H[3]+(H[2]<<8|H[2]>>>24)+H[1]|0,N[4]=H[4]+(H[3]<<16|H[3]>>>16)+(H[2]<<16|H[2]>>>16)|0,N[5]=H[5]+(H[4]<<8|H[4]>>>24)+H[3]|0,N[6]=H[6]+(H[5]<<16|H[5]>>>16)+(H[4]<<16|H[4]>>>16)|0,N[7]=H[7]+(H[6]<<8|H[6]>>>24)+H[5]|0}U.RabbitLegacy=X._createHelper(O)}(),m.RabbitLegacy)},7076:function(Ve,Ce,R){var m;Ve.exports=(m=R(1823),R(8341),R(916),R(4369),R(8822),function(){var U=m,X=U.lib.StreamCipher,Y=[],ne=[],H=[],O=U.algo.Rabbit=X.extend({_doReset:function(){for(var N=this._key.words,k=this.cfg.iv,T=0;T<4;T++)N[T]=16711935&(N[T]<<8|N[T]>>>24)|4278255360&(N[T]<<24|N[T]>>>8);var F=this._X=[N[0],N[3]<<16|N[2]>>>16,N[1],N[0]<<16|N[3]>>>16,N[2],N[1]<<16|N[0]>>>16,N[3],N[2]<<16|N[1]>>>16],K=this._C=[N[2]<<16|N[2]>>>16,4294901760&N[0]|65535&N[1],N[3]<<16|N[3]>>>16,4294901760&N[1]|65535&N[2],N[0]<<16|N[0]>>>16,4294901760&N[2]|65535&N[3],N[1]<<16|N[1]>>>16,4294901760&N[3]|65535&N[0]];for(this._b=0,T=0;T<4;T++)V.call(this);for(T=0;T<8;T++)K[T]^=F[T+4&7];if(k){var J=k.words,Q=J[0],G=J[1],Z=16711935&(Q<<8|Q>>>24)|4278255360&(Q<<24|Q>>>8),ae=16711935&(G<<8|G>>>24)|4278255360&(G<<24|G>>>8),ce=Z>>>16|4294901760&ae,ye=ae<<16|65535&Z;for(K[0]^=Z,K[1]^=ce,K[2]^=ae,K[3]^=ye,K[4]^=Z,K[5]^=ce,K[6]^=ae,K[7]^=ye,T=0;T<4;T++)V.call(this)}},_doProcessBlock:function(N,k){var T=this._X;V.call(this),Y[0]=T[0]^T[5]>>>16^T[3]<<16,Y[1]=T[2]^T[7]>>>16^T[5]<<16,Y[2]=T[4]^T[1]>>>16^T[7]<<16,Y[3]=T[6]^T[3]>>>16^T[1]<<16;for(var F=0;F<4;F++)Y[F]=16711935&(Y[F]<<8|Y[F]>>>24)|4278255360&(Y[F]<<24|Y[F]>>>8),N[k+F]^=Y[F]},blockSize:4,ivSize:2});function V(){for(var N=this._X,k=this._C,T=0;T<8;T++)ne[T]=k[T];for(k[0]=k[0]+1295307597+this._b|0,k[1]=k[1]+3545052371+(k[0]>>>0<ne[0]>>>0?1:0)|0,k[2]=k[2]+886263092+(k[1]>>>0<ne[1]>>>0?1:0)|0,k[3]=k[3]+1295307597+(k[2]>>>0<ne[2]>>>0?1:0)|0,k[4]=k[4]+3545052371+(k[3]>>>0<ne[3]>>>0?1:0)|0,k[5]=k[5]+886263092+(k[4]>>>0<ne[4]>>>0?1:0)|0,k[6]=k[6]+1295307597+(k[5]>>>0<ne[5]>>>0?1:0)|0,k[7]=k[7]+3545052371+(k[6]>>>0<ne[6]>>>0?1:0)|0,this._b=k[7]>>>0<ne[7]>>>0?1:0,T=0;T<8;T++){var F=N[T]+k[T],K=65535&F,J=F>>>16;H[T]=((K*K>>>17)+K*J>>>15)+J*J^((4294901760&F)*F|0)+((65535&F)*F|0)}N[0]=H[0]+(H[7]<<16|H[7]>>>16)+(H[6]<<16|H[6]>>>16)|0,N[1]=H[1]+(H[0]<<8|H[0]>>>24)+H[7]|0,N[2]=H[2]+(H[1]<<16|H[1]>>>16)+(H[0]<<16|H[0]>>>16)|0,N[3]=H[3]+(H[2]<<8|H[2]>>>24)+H[1]|0,N[4]=H[4]+(H[3]<<16|H[3]>>>16)+(H[2]<<16|H[2]>>>16)|0,N[5]=H[5]+(H[4]<<8|H[4]>>>24)+H[3]|0,N[6]=H[6]+(H[5]<<16|H[5]>>>16)+(H[4]<<16|H[4]>>>16)|0,N[7]=H[7]+(H[6]<<8|H[6]>>>24)+H[5]|0}U.Rabbit=X._createHelper(O)}(),m.Rabbit)},1093:function(Ve,Ce,R){var m;Ve.exports=(m=R(1823),R(8341),R(916),R(4369),R(8822),function(){var U=m,X=U.lib.StreamCipher,oe=U.algo,Y=oe.RC4=X.extend({_doReset:function(){for(var O=this._key,V=O.words,N=O.sigBytes,k=this._S=[],T=0;T<256;T++)k[T]=T;T=0;for(var F=0;T<256;T++){var K=T%N,Q=k[T];k[T]=k[F=(F+k[T]+(V[K>>>2]>>>24-K%4*8&255))%256],k[F]=Q}this._i=this._j=0},_doProcessBlock:function(O,V){O[V]^=ne.call(this)},keySize:8,ivSize:0});function ne(){for(var O=this._S,V=this._i,N=this._j,k=0,T=0;T<4;T++){var F=O[V=(V+1)%256];O[V]=O[N=(N+O[V])%256],O[N]=F,k|=O[(O[V]+O[N])%256]<<24-8*T}return this._i=V,this._j=N,k}U.RC4=X._createHelper(Y);var H=oe.RC4Drop=Y.extend({cfg:Y.cfg.extend({drop:192}),_doReset:function(){Y._doReset.call(this);for(var O=this.cfg.drop;O>0;O--)ne.call(this)}});U.RC4Drop=X._createHelper(H)}(),m.RC4)},5508:function(Ve,Ce,R){var m;Ve.exports=(m=R(1823),function(U){var B=m,X=B.lib,oe=X.WordArray,Y=X.Hasher,ne=B.algo,H=oe.create([0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,7,4,13,1,10,6,15,3,12,0,9,5,2,14,11,8,3,10,14,4,9,15,8,1,2,7,0,6,13,11,5,12,1,9,11,10,0,8,12,4,13,3,7,15,14,5,6,2,4,0,5,9,7,12,2,10,14,1,3,8,11,6,15,13]),O=oe.create([5,14,7,0,9,2,11,4,13,6,15,8,1,10,3,12,6,11,3,7,0,13,5,10,14,15,8,12,4,9,1,2,15,5,1,3,7,14,6,9,11,8,12,2,10,0,4,13,8,6,4,1,3,11,15,0,5,12,2,13,9,7,10,14,12,15,10,4,1,5,8,7,6,2,13,14,0,3,9,11]),V=oe.create([11,14,15,12,5,8,7,9,11,13,14,15,6,7,9,8,7,6,8,13,11,9,7,15,7,12,15,9,11,7,13,12,11,13,6,7,14,9,13,15,14,8,13,6,5,12,7,5,11,12,14,15,14,15,9,8,9,14,5,6,8,6,5,12,9,15,5,11,6,8,13,12,5,12,13,14,11,8,5,6]),N=oe.create([8,9,9,11,13,15,15,5,7,7,8,11,14,14,12,6,9,13,15,7,12,8,9,11,7,7,12,7,6,15,13,11,9,7,15,11,8,6,6,14,12,13,5,14,13,13,7,5,15,5,8,11,14,14,6,14,6,9,12,9,12,5,15,8,8,5,12,9,12,5,14,6,8,13,6,5,15,13,11,11]),k=oe.create([0,1518500249,1859775393,2400959708,2840853838]),T=oe.create([1352829926,1548603684,1836072691,2053994217,0]),F=ne.RIPEMD160=Y.extend({_doReset:function(){this._hash=oe.create([1732584193,4023233417,2562383102,271733878,3285377520])},_doProcessBlock:function(ce,ye){for(var me=0;me<16;me++){var le=ye+me,Ne=ce[le];ce[le]=16711935&(Ne<<8|Ne>>>24)|4278255360&(Ne<<24|Ne>>>8)}var De,We,rt,Me,ze,Pe,ke,kt,ft,ut,Je,Re=this._hash.words,pe=k.words,ee=T.words,se=H.words,ve=O.words,ie=V.words,ue=N.words;for(Pe=De=Re[0],ke=We=Re[1],kt=rt=Re[2],ft=Me=Re[3],ut=ze=Re[4],me=0;me<80;me+=1)Je=De+ce[ye+se[me]]|0,Je+=me<16?K(We,rt,Me)+pe[0]:me<32?J(We,rt,Me)+pe[1]:me<48?Q(We,rt,Me)+pe[2]:me<64?G(We,rt,Me)+pe[3]:Z(We,rt,Me)+pe[4],Je=(Je=ae(Je|=0,ie[me]))+ze|0,De=ze,ze=Me,Me=ae(rt,10),rt=We,We=Je,Je=Pe+ce[ye+ve[me]]|0,Je+=me<16?Z(ke,kt,ft)+ee[0]:me<32?G(ke,kt,ft)+ee[1]:me<48?Q(ke,kt,ft)+ee[2]:me<64?J(ke,kt,ft)+ee[3]:K(ke,kt,ft)+ee[4],Je=(Je=ae(Je|=0,ue[me]))+ut|0,Pe=ut,ut=ft,ft=ae(kt,10),kt=ke,ke=Je;Je=Re[1]+rt+ft|0,Re[1]=Re[2]+Me+ut|0,Re[2]=Re[3]+ze+Pe|0,Re[3]=Re[4]+De+ke|0,Re[4]=Re[0]+We+kt|0,Re[0]=Je},_doFinalize:function(){var ce=this._data,ye=ce.words,me=8*this._nDataBytes,le=8*ce.sigBytes;ye[le>>>5]|=128<<24-le%32,ye[14+(le+64>>>9<<4)]=16711935&(me<<8|me>>>24)|4278255360&(me<<24|me>>>8),ce.sigBytes=4*(ye.length+1),this._process();for(var Ne=this._hash,Re=Ne.words,pe=0;pe<5;pe++){var ee=Re[pe];Re[pe]=16711935&(ee<<8|ee>>>24)|4278255360&(ee<<24|ee>>>8)}return Ne},clone:function(){var ce=Y.clone.call(this);return ce._hash=this._hash.clone(),ce}});function K(ce,ye,me){return ce^ye^me}function J(ce,ye,me){return ce&ye|~ce&me}function Q(ce,ye,me){return(ce|~ye)^me}function G(ce,ye,me){return ce&me|ye&~me}function Z(ce,ye,me){return ce^(ye|~me)}function ae(ce,ye){return ce<<ye|ce>>>32-ye}B.RIPEMD160=Y._createHelper(F),B.HmacRIPEMD160=Y._createHmacHelper(F)}(Math),m.RIPEMD160)},6496:function(Ve,Ce,R){var U,B,X,oe,ne,H,m;Ve.exports=(m=R(1823),X=(B=(U=m).lib).WordArray,ne=[],H=U.algo.SHA1=(oe=B.Hasher).extend({_doReset:function(){this._hash=new X.init([1732584193,4023233417,2562383102,271733878,3285377520])},_doProcessBlock:function(O,V){for(var N=this._hash.words,k=N[0],T=N[1],F=N[2],K=N[3],J=N[4],Q=0;Q<80;Q++){if(Q<16)ne[Q]=0|O[V+Q];else{var G=ne[Q-3]^ne[Q-8]^ne[Q-14]^ne[Q-16];ne[Q]=G<<1|G>>>31}var Z=(k<<5|k>>>27)+J+ne[Q];Z+=Q<20?1518500249+(T&F|~T&K):Q<40?1859775393+(T^F^K):Q<60?(T&F|T&K|F&K)-1894007588:(T^F^K)-899497514,J=K,K=F,F=T<<30|T>>>2,T=k,k=Z}N[0]=N[0]+k|0,N[1]=N[1]+T|0,N[2]=N[2]+F|0,N[3]=N[3]+K|0,N[4]=N[4]+J|0},_doFinalize:function(){var O=this._data,V=O.words,N=8*this._nDataBytes,k=8*O.sigBytes;return V[k>>>5]|=128<<24-k%32,V[14+(k+64>>>9<<4)]=Math.floor(N/4294967296),V[15+(k+64>>>9<<4)]=N,O.sigBytes=4*V.length,this._process(),this._hash},clone:function(){var O=oe.clone.call(this);return O._hash=this._hash.clone(),O}}),U.SHA1=oe._createHelper(H),U.HmacSHA1=oe._createHmacHelper(H),m.SHA1)},6538:function(Ve,Ce,R){var U,X,oe,Y,ne,m;Ve.exports=(m=R(1823),R(6946),X=(U=m).lib.WordArray,ne=(oe=U.algo).SHA224=(Y=oe.SHA256).extend({_doReset:function(){this._hash=new X.init([3238371032,914150663,812702999,4144912697,4290775857,1750603025,1694076839,3204075428])},_doFinalize:function(){var H=Y._doFinalize.call(this);return H.sigBytes-=4,H}}),U.SHA224=Y._createHelper(ne),U.HmacSHA224=Y._createHmacHelper(ne),m.SHA224)},6946:function(Ve,Ce,R){var m;Ve.exports=(m=R(1823),function(U){var B=m,X=B.lib,oe=X.WordArray,Y=X.Hasher,ne=B.algo,H=[],O=[];!function(){function k(J){for(var Q=U.sqrt(J),G=2;G<=Q;G++)if(!(J%G))return!1;return!0}function T(J){return 4294967296*(J-(0|J))|0}for(var F=2,K=0;K<64;)k(F)&&(K<8&&(H[K]=T(U.pow(F,.5))),O[K]=T(U.pow(F,1/3)),K++),F++}();var V=[],N=ne.SHA256=Y.extend({_doReset:function(){this._hash=new oe.init(H.slice(0))},_doProcessBlock:function(k,T){for(var F=this._hash.words,K=F[0],J=F[1],Q=F[2],G=F[3],Z=F[4],ae=F[5],ce=F[6],ye=F[7],me=0;me<64;me++){if(me<16)V[me]=0|k[T+me];else{var le=V[me-15],Re=V[me-2];V[me]=((le<<25|le>>>7)^(le<<14|le>>>18)^le>>>3)+V[me-7]+((Re<<15|Re>>>17)^(Re<<13|Re>>>19)^Re>>>10)+V[me-16]}var se=K&J^K&Q^J&Q,ue=ye+((Z<<26|Z>>>6)^(Z<<21|Z>>>11)^(Z<<7|Z>>>25))+(Z&ae^~Z&ce)+O[me]+V[me];ye=ce,ce=ae,ae=Z,Z=G+ue|0,G=Q,Q=J,J=K,K=ue+(((K<<30|K>>>2)^(K<<19|K>>>13)^(K<<10|K>>>22))+se)|0}F[0]=F[0]+K|0,F[1]=F[1]+J|0,F[2]=F[2]+Q|0,F[3]=F[3]+G|0,F[4]=F[4]+Z|0,F[5]=F[5]+ae|0,F[6]=F[6]+ce|0,F[7]=F[7]+ye|0},_doFinalize:function(){var k=this._data,T=k.words,F=8*this._nDataBytes,K=8*k.sigBytes;return T[K>>>5]|=128<<24-K%32,T[14+(K+64>>>9<<4)]=U.floor(F/4294967296),T[15+(K+64>>>9<<4)]=F,k.sigBytes=4*T.length,this._process(),this._hash},clone:function(){var k=Y.clone.call(this);return k._hash=this._hash.clone(),k}});B.SHA256=Y._createHelper(N),B.HmacSHA256=Y._createHmacHelper(N)}(Math),m.SHA256)},2633:function(Ve,Ce,R){var m;Ve.exports=(m=R(1823),R(4615),function(U){var B=m,X=B.lib,oe=X.WordArray,Y=X.Hasher,H=B.x64.Word,O=B.algo,V=[],N=[],k=[];!function(){for(var K=1,J=0,Q=0;Q<24;Q++){V[K+5*J]=(Q+1)*(Q+2)/2%64;var Z=(2*K+3*J)%5;K=J%5,J=Z}for(K=0;K<5;K++)for(J=0;J<5;J++)N[K+5*J]=J+(2*K+3*J)%5*5;for(var ae=1,ce=0;ce<24;ce++){for(var ye=0,me=0,le=0;le<7;le++){if(1&ae){var Ne=(1<<le)-1;Ne<32?me^=1<<Ne:ye^=1<<Ne-32}128&ae?ae=ae<<1^113:ae<<=1}k[ce]=H.create(ye,me)}}();var T=[];!function(){for(var K=0;K<25;K++)T[K]=H.create()}();var F=O.SHA3=Y.extend({cfg:Y.cfg.extend({outputLength:512}),_doReset:function(){for(var K=this._state=[],J=0;J<25;J++)K[J]=new H.init;this.blockSize=(1600-2*this.cfg.outputLength)/32},_doProcessBlock:function(K,J){for(var Q=this._state,G=this.blockSize/2,Z=0;Z<G;Z++){var ae=K[J+2*Z],ce=K[J+2*Z+1];ae=16711935&(ae<<8|ae>>>24)|4278255360&(ae<<24|ae>>>8),(ye=Q[Z]).high^=ce=16711935&(ce<<8|ce>>>24)|4278255360&(ce<<24|ce>>>8),ye.low^=ae}for(var me=0;me<24;me++){for(var le=0;le<5;le++){for(var Ne=0,Re=0,pe=0;pe<5;pe++)Ne^=(ye=Q[le+5*pe]).high,Re^=ye.low;var ee=T[le];ee.high=Ne,ee.low=Re}for(le=0;le<5;le++){var se=T[(le+4)%5],ve=T[(le+1)%5],ie=ve.high,ue=ve.low;for(Ne=se.high^(ie<<1|ue>>>31),Re=se.low^(ue<<1|ie>>>31),pe=0;pe<5;pe++)(ye=Q[le+5*pe]).high^=Ne,ye.low^=Re}for(var De=1;De<25;De++){var We=(ye=Q[De]).high,rt=ye.low,Me=V[De];Me<32?(Ne=We<<Me|rt>>>32-Me,Re=rt<<Me|We>>>32-Me):(Ne=rt<<Me-32|We>>>64-Me,Re=We<<Me-32|rt>>>64-Me);var ze=T[N[De]];ze.high=Ne,ze.low=Re}var Pe=T[0],ke=Q[0];for(Pe.high=ke.high,Pe.low=ke.low,le=0;le<5;le++)for(pe=0;pe<5;pe++){var kt=T[De=le+5*pe],ft=T[(le+1)%5+5*pe],ut=T[(le+2)%5+5*pe];(ye=Q[De]).high=kt.high^~ft.high&ut.high,ye.low=kt.low^~ft.low&ut.low}var ye,Je=k[me];(ye=Q[0]).high^=Je.high,ye.low^=Je.low}},_doFinalize:function(){var K=this._data,J=K.words,G=8*K.sigBytes,Z=32*this.blockSize;J[G>>>5]|=1<<24-G%32,J[(U.ceil((G+1)/Z)*Z>>>5)-1]|=128,K.sigBytes=4*J.length,this._process();for(var ae=this._state,ce=this.cfg.outputLength/8,ye=ce/8,me=[],le=0;le<ye;le++){var Ne=ae[le],Re=Ne.high,pe=Ne.low;Re=16711935&(Re<<8|Re>>>24)|4278255360&(Re<<24|Re>>>8),me.push(pe=16711935&(pe<<8|pe>>>24)|4278255360&(pe<<24|pe>>>8)),me.push(Re)}return new oe.init(me,ce)},clone:function(){for(var K=Y.clone.call(this),J=K._state=this._state.slice(0),Q=0;Q<25;Q++)J[Q]=J[Q].clone();return K}});B.SHA3=Y._createHelper(F),B.HmacSHA3=Y._createHmacHelper(F)}(Math),m.SHA3)},7098:function(Ve,Ce,R){var U,B,X,oe,Y,ne,H,m;Ve.exports=(m=R(1823),R(4615),R(1206),X=(B=(U=m).x64).Word,oe=B.WordArray,H=(Y=U.algo).SHA384=(ne=Y.SHA512).extend({_doReset:function(){this._hash=new oe.init([new X.init(3418070365,3238371032),new X.init(1654270250,914150663),new X.init(2438529370,812702999),new X.init(355462360,4144912697),new X.init(1731405415,4290775857),new X.init(2394180231,1750603025),new X.init(3675008525,1694076839),new X.init(1203062813,3204075428)])},_doFinalize:function(){var O=ne._doFinalize.call(this);return O.sigBytes-=16,O}}),U.SHA384=ne._createHelper(H),U.HmacSHA384=ne._createHmacHelper(H),m.SHA384)},1206:function(Ve,Ce,R){var m;Ve.exports=(m=R(1823),R(4615),function(){var U=m,X=U.lib.Hasher,oe=U.x64,Y=oe.Word,ne=oe.WordArray,H=U.algo;function O(){return Y.create.apply(Y,arguments)}var V=[O(1116352408,3609767458),O(1899447441,602891725),O(3049323471,3964484399),O(3921009573,2173295548),O(961987163,4081628472),O(1508970993,3053834265),O(2453635748,2937671579),O(2870763221,3664609560),O(3624381080,2734883394),O(310598401,1164996542),O(607225278,1323610764),O(1426881987,3590304994),O(1925078388,4068182383),O(2162078206,991336113),O(2614888103,633803317),O(3248222580,3479774868),O(3835390401,2666613458),O(4022224774,944711139),O(264347078,2341262773),O(604807628,2007800933),O(770255983,1495990901),O(1249150122,1856431235),O(1555081692,3175218132),O(1996064986,2198950837),O(2554220882,3999719339),O(2821834349,766784016),O(2952996808,2566594879),O(3210313671,3203337956),O(3336571891,1034457026),O(3584528711,2466948901),O(113926993,3758326383),O(338241895,168717936),O(666307205,1188179964),O(773529912,1546045734),O(1294757372,1522805485),O(1396182291,2643833823),O(1695183700,2343527390),O(1986661051,1014477480),O(2177026350,1206759142),O(2456956037,344077627),O(2730485921,1290863460),O(2820302411,3158454273),O(3259730800,3505952657),O(3345764771,106217008),O(3516065817,3606008344),O(3600352804,1432725776),O(4094571909,1467031594),O(275423344,851169720),O(430227734,3100823752),O(506948616,1363258195),O(659060556,3750685593),O(883997877,3785050280),O(958139571,3318307427),O(1322822218,3812723403),O(1537002063,2003034995),O(1747873779,3602036899),O(1955562222,1575990012),O(2024104815,1125592928),O(2227730452,2716904306),O(2361852424,442776044),O(2428436474,593698344),O(2756734187,3733110249),O(3204031479,2999351573),O(3329325298,3815920427),O(3391569614,3928383900),O(3515267271,566280711),O(3940187606,3454069534),O(4118630271,4000239992),O(116418474,1914138554),O(174292421,2731055270),O(289380356,3203993006),O(460393269,320620315),O(685471733,587496836),O(852142971,1086792851),O(1017036298,365543100),O(1126000580,2618297676),O(1288033470,3409855158),O(1501505948,4234509866),O(1607167915,987167468),O(1816402316,1246189591)],N=[];!function(){for(var T=0;T<80;T++)N[T]=O()}();var k=H.SHA512=X.extend({_doReset:function(){this._hash=new ne.init([new Y.init(1779033703,4089235720),new Y.init(3144134277,2227873595),new Y.init(1013904242,4271175723),new Y.init(2773480762,1595750129),new Y.init(1359893119,2917565137),new Y.init(2600822924,725511199),new Y.init(528734635,4215389547),new Y.init(1541459225,327033209)])},_doProcessBlock:function(T,F){for(var K=this._hash.words,J=K[0],Q=K[1],G=K[2],Z=K[3],ae=K[4],ce=K[5],ye=K[6],me=K[7],le=J.high,Ne=J.low,Re=Q.high,pe=Q.low,ee=G.high,se=G.low,ve=Z.high,ie=Z.low,ue=ae.high,De=ae.low,We=ce.high,rt=ce.low,Me=ye.high,ze=ye.low,Pe=me.high,ke=me.low,kt=le,ft=Ne,ut=Re,Je=pe,Sn=ee,w1=se,Zn=ve,Qt=ie,e1=ue,vn=De,In=We,J1=rt,Rr=Me,X1=ze,er=Pe,un=ke,yn=0;yn<80;yn++){var on,gt,Fe=N[yn];if(yn<16)gt=Fe.high=0|T[F+2*yn],on=Fe.low=0|T[F+2*yn+1];else{var Ft=N[yn-15],Ut=Ft.high,qt=Ft.low,et=(qt>>>1|Ut<<31)^(qt>>>8|Ut<<24)^(qt>>>7|Ut<<25),it=N[yn-2],Dn=it.high,kr=it.low,Jt=(kr>>>19|Dn<<13)^(kr<<3|Dn>>>29)^(kr>>>6|Dn<<26),t1=N[yn-7],de=N[yn-16],we=de.low;Fe.high=gt=(gt=(gt=((Ut>>>1|qt<<31)^(Ut>>>8|qt<<24)^Ut>>>7)+t1.high+((on=et+t1.low)>>>0<et>>>0?1:0))+((Dn>>>19|kr<<13)^(Dn<<3|kr>>>29)^Dn>>>6)+((on+=Jt)>>>0<Jt>>>0?1:0))+de.high+((on+=we)>>>0<we>>>0?1:0),Fe.low=on}var kn,Ie=e1&In^~e1&Rr,xe=vn&J1^~vn&X1,He=kt&ut^kt&Sn^ut&Sn,zt=(ft>>>28|kt<<4)^(ft<<30|kt>>>2)^(ft<<25|kt>>>7),an=V[yn],Or=an.low,gr=er+((e1>>>14|vn<<18)^(e1>>>18|vn<<14)^(e1<<23|vn>>>9))+((kn=un+((vn>>>14|e1<<18)^(vn>>>18|e1<<14)^(vn<<23|e1>>>9)))>>>0<un>>>0?1:0),Ci=zt+(ft&Je^ft&w1^Je&w1);er=Rr,un=X1,Rr=In,X1=J1,In=e1,J1=vn,e1=Zn+(gr=(gr=(gr=gr+Ie+((kn+=xe)>>>0<xe>>>0?1:0))+an.high+((kn+=Or)>>>0<Or>>>0?1:0))+gt+((kn+=on)>>>0<on>>>0?1:0))+((vn=Qt+kn|0)>>>0<Qt>>>0?1:0)|0,Zn=Sn,Qt=w1,Sn=ut,w1=Je,ut=kt,Je=ft,kt=gr+(((kt>>>28|ft<<4)^(kt<<30|ft>>>2)^(kt<<25|ft>>>7))+He+(Ci>>>0<zt>>>0?1:0))+((ft=kn+Ci|0)>>>0<kn>>>0?1:0)|0}Ne=J.low=Ne+ft,J.high=le+kt+(Ne>>>0<ft>>>0?1:0),pe=Q.low=pe+Je,Q.high=Re+ut+(pe>>>0<Je>>>0?1:0),se=G.low=se+w1,G.high=ee+Sn+(se>>>0<w1>>>0?1:0),ie=Z.low=ie+Qt,Z.high=ve+Zn+(ie>>>0<Qt>>>0?1:0),De=ae.low=De+vn,ae.high=ue+e1+(De>>>0<vn>>>0?1:0),rt=ce.low=rt+J1,ce.high=We+In+(rt>>>0<J1>>>0?1:0),ze=ye.low=ze+X1,ye.high=Me+Rr+(ze>>>0<X1>>>0?1:0),ke=me.low=ke+un,me.high=Pe+er+(ke>>>0<un>>>0?1:0)},_doFinalize:function(){var T=this._data,F=T.words,K=8*this._nDataBytes,J=8*T.sigBytes;return F[J>>>5]|=128<<24-J%32,F[30+(J+128>>>10<<5)]=Math.floor(K/4294967296),F[31+(J+128>>>10<<5)]=K,T.sigBytes=4*F.length,this._process(),this._hash.toX32()},clone:function(){var T=X.clone.call(this);return T._hash=this._hash.clone(),T},blockSize:32});U.SHA512=X._createHelper(k),U.HmacSHA512=X._createHmacHelper(k)}(),m.SHA512)},4994:function(Ve,Ce,R){var m;Ve.exports=(m=R(1823),R(8341),R(916),R(4369),R(8822),function(){var U=m,B=U.lib,X=B.WordArray,oe=B.BlockCipher,Y=U.algo,ne=[57,49,41,33,25,17,9,1,58,50,42,34,26,18,10,2,59,51,43,35,27,19,11,3,60,52,44,36,63,55,47,39,31,23,15,7,62,54,46,38,30,22,14,6,61,53,45,37,29,21,13,5,28,20,12,4],H=[14,17,11,24,1,5,3,28,15,6,21,10,23,19,12,4,26,8,16,7,27,20,13,2,41,52,31,37,47,55,30,40,51,45,33,48,44,49,39,56,34,53,46,42,50,36,29,32],O=[1,2,4,6,8,10,12,14,15,17,19,21,23,25,27,28],V=[{0:8421888,268435456:32768,536870912:8421378,805306368:2,1073741824:512,1342177280:8421890,1610612736:8389122,1879048192:8388608,2147483648:514,2415919104:8389120,2684354560:33280,2952790016:8421376,3221225472:32770,3489660928:8388610,3758096384:0,4026531840:33282,134217728:0,402653184:8421890,671088640:33282,939524096:32768,1207959552:8421888,1476395008:512,1744830464:8421378,2013265920:2,2281701376:8389120,2550136832:33280,2818572288:8421376,3087007744:8389122,3355443200:8388610,3623878656:32770,3892314112:514,4160749568:8388608,1:32768,268435457:2,536870913:8421888,805306369:8388608,1073741825:8421378,1342177281:33280,1610612737:512,1879048193:8389122,2147483649:8421890,2415919105:8421376,2684354561:8388610,2952790017:33282,3221225473:514,3489660929:8389120,3758096385:32770,4026531841:0,134217729:8421890,402653185:8421376,671088641:8388608,939524097:512,1207959553:32768,1476395009:8388610,1744830465:2,2013265921:33282,2281701377:32770,2550136833:8389122,2818572289:514,3087007745:8421888,3355443201:8389120,3623878657:0,3892314113:33280,4160749569:8421378},{0:1074282512,16777216:16384,33554432:524288,50331648:1074266128,67108864:1073741840,83886080:1074282496,100663296:1073758208,117440512:16,134217728:540672,150994944:1073758224,167772160:1073741824,184549376:540688,201326592:524304,218103808:0,234881024:16400,251658240:1074266112,8388608:1073758208,25165824:540688,41943040:16,58720256:1073758224,75497472:1074282512,92274688:1073741824,109051904:524288,125829120:1074266128,142606336:524304,159383552:0,176160768:16384,192937984:1074266112,209715200:1073741840,226492416:540672,243269632:1074282496,260046848:16400,268435456:0,285212672:1074266128,301989888:1073758224,318767104:1074282496,335544320:1074266112,352321536:16,369098752:540688,385875968:16384,402653184:16400,419430400:524288,436207616:524304,452984832:1073741840,469762048:540672,486539264:1073758208,503316480:1073741824,520093696:1074282512,276824064:540688,293601280:524288,310378496:1074266112,327155712:16384,343932928:1073758208,360710144:1074282512,377487360:16,394264576:1073741824,411041792:1074282496,427819008:1073741840,444596224:1073758224,461373440:524304,478150656:0,494927872:16400,511705088:1074266128,528482304:540672},{0:260,1048576:0,2097152:67109120,3145728:65796,4194304:65540,5242880:67108868,6291456:67174660,7340032:67174400,8388608:67108864,9437184:67174656,10485760:65792,11534336:67174404,12582912:67109124,13631488:65536,14680064:4,15728640:256,524288:67174656,1572864:67174404,2621440:0,3670016:67109120,4718592:67108868,5767168:65536,6815744:65540,7864320:260,8912896:4,9961472:256,11010048:67174400,12058624:65796,13107200:65792,14155776:67109124,15204352:67174660,16252928:67108864,16777216:67174656,17825792:65540,18874368:65536,19922944:67109120,20971520:256,22020096:67174660,23068672:67108868,24117248:0,25165824:67109124,26214400:67108864,27262976:4,28311552:65792,29360128:67174400,30408704:260,31457280:65796,32505856:67174404,17301504:67108864,18350080:260,19398656:67174656,20447232:0,21495808:65540,22544384:67109120,23592960:256,24641536:67174404,25690112:65536,26738688:67174660,27787264:65796,28835840:67108868,29884416:67109124,30932992:67174400,31981568:4,33030144:65792},{0:2151682048,65536:2147487808,131072:4198464,196608:2151677952,262144:0,327680:4198400,393216:2147483712,458752:4194368,524288:2147483648,589824:4194304,655360:64,720896:2147487744,786432:2151678016,851968:4160,917504:4096,983040:2151682112,32768:2147487808,98304:64,163840:2151678016,229376:2147487744,294912:4198400,360448:2151682112,425984:0,491520:2151677952,557056:4096,622592:2151682048,688128:4194304,753664:4160,819200:2147483648,884736:4194368,950272:4198464,1015808:2147483712,1048576:4194368,1114112:4198400,1179648:2147483712,1245184:0,1310720:4160,1376256:2151678016,1441792:2151682048,1507328:2147487808,1572864:2151682112,1638400:2147483648,1703936:2151677952,1769472:4198464,1835008:2147487744,1900544:4194304,1966080:64,2031616:4096,1081344:2151677952,1146880:2151682112,1212416:0,1277952:4198400,1343488:4194368,1409024:2147483648,1474560:2147487808,1540096:64,1605632:2147483712,1671168:4096,1736704:2147487744,1802240:2151678016,1867776:4160,1933312:2151682048,1998848:4194304,2064384:4198464},{0:128,4096:17039360,8192:262144,12288:536870912,16384:537133184,20480:16777344,24576:553648256,28672:262272,32768:16777216,36864:537133056,40960:536871040,45056:553910400,49152:553910272,53248:0,57344:17039488,61440:553648128,2048:17039488,6144:553648256,10240:128,14336:17039360,18432:262144,22528:537133184,26624:553910272,30720:536870912,34816:537133056,38912:0,43008:553910400,47104:16777344,51200:536871040,55296:553648128,59392:16777216,63488:262272,65536:262144,69632:128,73728:536870912,77824:553648256,81920:16777344,86016:553910272,90112:537133184,94208:16777216,98304:553910400,102400:553648128,106496:17039360,110592:537133056,114688:262272,118784:536871040,122880:0,126976:17039488,67584:553648256,71680:16777216,75776:17039360,79872:537133184,83968:536870912,88064:17039488,92160:128,96256:553910272,100352:262272,104448:553910400,108544:0,112640:553648128,116736:16777344,120832:262144,124928:537133056,129024:536871040},{0:268435464,256:8192,512:270532608,768:270540808,1024:268443648,1280:2097152,1536:2097160,1792:268435456,2048:0,2304:268443656,2560:2105344,2816:8,3072:270532616,3328:2105352,3584:8200,3840:270540800,128:270532608,384:270540808,640:8,896:2097152,1152:2105352,1408:268435464,1664:268443648,1920:8200,2176:2097160,2432:8192,2688:268443656,2944:270532616,3200:0,3456:270540800,3712:2105344,3968:268435456,4096:268443648,4352:270532616,4608:270540808,4864:8200,5120:2097152,5376:268435456,5632:268435464,5888:2105344,6144:2105352,6400:0,6656:8,6912:270532608,7168:8192,7424:268443656,7680:270540800,7936:2097160,4224:8,4480:2105344,4736:2097152,4992:268435464,5248:268443648,5504:8200,5760:270540808,6016:270532608,6272:270540800,6528:270532616,6784:8192,7040:2105352,7296:2097160,7552:0,7808:268435456,8064:268443656},{0:1048576,16:33555457,32:1024,48:1049601,64:34604033,80:0,96:1,112:34603009,128:33555456,144:1048577,160:33554433,176:34604032,192:34603008,208:1025,224:1049600,240:33554432,8:34603009,24:0,40:33555457,56:34604032,72:1048576,88:33554433,104:33554432,120:1025,136:1049601,152:33555456,168:34603008,184:1048577,200:1024,216:34604033,232:1,248:1049600,256:33554432,272:1048576,288:33555457,304:34603009,320:1048577,336:33555456,352:34604032,368:1049601,384:1025,400:34604033,416:1049600,432:1,448:0,464:34603008,480:33554433,496:1024,264:1049600,280:33555457,296:34603009,312:1,328:33554432,344:1048576,360:1025,376:34604032,392:33554433,408:34603008,424:0,440:34604033,456:1049601,472:1024,488:33555456,504:1048577},{0:134219808,1:131072,2:134217728,3:32,4:131104,5:134350880,6:134350848,7:2048,8:134348800,9:134219776,10:133120,11:134348832,12:2080,13:0,14:134217760,15:133152,2147483648:2048,2147483649:134350880,2147483650:134219808,2147483651:134217728,2147483652:134348800,2147483653:133120,2147483654:133152,2147483655:32,2147483656:134217760,2147483657:2080,2147483658:131104,2147483659:134350848,2147483660:0,2147483661:134348832,2147483662:134219776,2147483663:131072,16:133152,17:134350848,18:32,19:2048,20:134219776,21:134217760,22:134348832,23:131072,24:0,25:131104,26:134348800,27:134219808,28:134350880,29:133120,30:2080,31:134217728,2147483664:131072,2147483665:2048,2147483666:134348832,2147483667:133152,2147483668:32,2147483669:134348800,2147483670:134217728,2147483671:134219808,2147483672:134350880,2147483673:134217760,2147483674:134219776,2147483675:0,2147483676:133120,2147483677:2080,2147483678:131104,2147483679:134350848}],N=[4160749569,528482304,33030144,2064384,129024,8064,504,2147483679],k=Y.DES=oe.extend({_doReset:function(){for(var Q=this._key.words,G=[],Z=0;Z<56;Z++){var ae=ne[Z]-1;G[Z]=Q[ae>>>5]>>>31-ae%32&1}for(var ce=this._subKeys=[],ye=0;ye<16;ye++){var me=ce[ye]=[],le=O[ye];for(Z=0;Z<24;Z++)me[Z/6|0]|=G[(H[Z]-1+le)%28]<<31-Z%6,me[4+(Z/6|0)]|=G[28+(H[Z+24]-1+le)%28]<<31-Z%6;for(me[0]=me[0]<<1|me[0]>>>31,Z=1;Z<7;Z++)me[Z]=me[Z]>>>4*(Z-1)+3;me[7]=me[7]<<5|me[7]>>>27}var Ne=this._invSubKeys=[];for(Z=0;Z<16;Z++)Ne[Z]=ce[15-Z]},encryptBlock:function(J,Q){this._doCryptBlock(J,Q,this._subKeys)},decryptBlock:function(J,Q){this._doCryptBlock(J,Q,this._invSubKeys)},_doCryptBlock:function(J,Q,G){this._lBlock=J[Q],this._rBlock=J[Q+1],T.call(this,4,252645135),T.call(this,16,65535),F.call(this,2,858993459),F.call(this,8,16711935),T.call(this,1,1431655765);for(var Z=0;Z<16;Z++){for(var ae=G[Z],ce=this._lBlock,ye=this._rBlock,me=0,le=0;le<8;le++)me|=V[le][((ye^ae[le])&N[le])>>>0];this._lBlock=ye,this._rBlock=ce^me}var Ne=this._lBlock;this._lBlock=this._rBlock,this._rBlock=Ne,T.call(this,1,1431655765),F.call(this,8,16711935),F.call(this,2,858993459),T.call(this,16,65535),T.call(this,4,252645135),J[Q]=this._lBlock,J[Q+1]=this._rBlock},keySize:2,ivSize:2,blockSize:2});function T(J,Q){var G=(this._lBlock>>>J^this._rBlock)&Q;this._rBlock^=G,this._lBlock^=G<<J}function F(J,Q){var G=(this._rBlock>>>J^this._lBlock)&Q;this._lBlock^=G,this._rBlock^=G<<J}U.DES=oe._createHelper(k);var K=Y.TripleDES=oe.extend({_doReset:function(){var Q=this._key.words;if(2!==Q.length&&4!==Q.length&&Q.length<6)throw new Error("Invalid key length - 3DES requires the key length to be 64, 128, 192 or >192.");var G=Q.slice(0,2),Z=Q.length<4?Q.slice(0,2):Q.slice(2,4),ae=Q.length<6?Q.slice(0,2):Q.slice(4,6);this._des1=k.createEncryptor(X.create(G)),this._des2=k.createEncryptor(X.create(Z)),this._des3=k.createEncryptor(X.create(ae))},encryptBlock:function(J,Q){this._des1.encryptBlock(J,Q),this._des2.decryptBlock(J,Q),this._des3.encryptBlock(J,Q)},decryptBlock:function(J,Q){this._des3.decryptBlock(J,Q),this._des2.encryptBlock(J,Q),this._des1.decryptBlock(J,Q)},keySize:6,ivSize:2,blockSize:2});U.TripleDES=oe._createHelper(K)}(),m.TripleDES)},4615:function(Ve,Ce,R){var X,oe,Y,ne,m;Ve.exports=(m=R(1823),oe=(X=m.lib).Base,Y=X.WordArray,(ne=m.x64={}).Word=oe.extend({init:function(V,N){this.high=V,this.low=N}}),ne.WordArray=oe.extend({init:function(V,N){V=this.words=V||[],this.sigBytes=null!=N?N:8*V.length},toX32:function(){for(var V=this.words,N=V.length,k=[],T=0;T<N;T++){var F=V[T];k.push(F.high),k.push(F.low)}return Y.create(k,this.sigBytes)},clone:function(){for(var V=oe.clone.call(this),N=V.words=this.words.slice(0),k=N.length,T=0;T<k;T++)N[T]=N[T].clone();return V}}),m)},6300:(Ve,Ce,R)=>{"use strict";R.r(Ce);var m=R(8239),U=R(4486),B=R(4685),X=R(5452),oe=R(4762),Y=R(300),ne=R(6034);const K=function(){return{"admin-restricted-operation":"This operation is restricted to administrators only.","argument-error":"","app-not-authorized":"This app, identified by the domain where it's hosted, is not authorized to use Firebase Authentication with the provided API key. Review your key configuration in the Google API console.","app-not-installed":"The requested mobile application corresponding to the identifier (Android package name or iOS bundle ID) provided is not installed on this device.","captcha-check-failed":"The reCAPTCHA response token provided is either invalid, expired, already used or the domain associated with it does not match the list of whitelisted domains.","code-expired":"The SMS code has expired. Please re-send the verification code to try again.","cordova-not-ready":"Cordova framework is not ready.","cors-unsupported":"This browser is not supported.","credential-already-in-use":"This credential is already associated with a different user account.","custom-token-mismatch":"The custom token corresponds to a different audience.","requires-recent-login":"This operation is sensitive and requires recent authentication. Log in again before retrying this request.","dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK.","dynamic-link-not-activated":"Please activate Dynamic Links in the Firebase Console and agree to the terms and conditions.","email-change-needs-verification":"Multi-factor users must always have a verified email.","email-already-in-use":"The email address is already in use by another account.","emulator-config-failed":'Auth instance has already been used to make a network call. Auth can no longer be configured to use the emulator. Try calling "connectAuthEmulator()" sooner.',"expired-action-code":"The action code has expired.","cancelled-popup-request":"This operation has been cancelled due to another conflicting popup being opened.","internal-error":"An internal AuthError has occurred.","invalid-app-credential":"The phone verification request contains an invalid application verifier. The reCAPTCHA token response is either invalid or expired.","invalid-app-id":"The mobile app identifier is not registed for the current project.","invalid-user-token":"This user's credential isn't valid for this project. This can happen if the user's token has been tampered with, or if the user isn't for the project associated with this API key.","invalid-auth-event":"An internal AuthError has occurred.","invalid-verification-code":"The SMS verification code used to create the phone auth credential is invalid. Please resend the verification code sms and be sure to use the verification code provided by the user.","invalid-continue-uri":"The continue URL provided in the request is invalid.","invalid-cordova-configuration":"The following Cordova plugins must be installed to enable OAuth sign-in: cordova-plugin-buildinfo, cordova-universal-links-plugin, cordova-plugin-browsertab, cordova-plugin-inappbrowser and cordova-plugin-customurlscheme.","invalid-custom-token":"The custom token format is incorrect. Please check the documentation.","invalid-dynamic-link-domain":"The provided dynamic link domain is not configured or authorized for the current project.","invalid-email":"The email address is badly formatted.","invalid-emulator-scheme":"Emulator URL must start with a valid scheme (http:// or https://).","invalid-api-key":"Your API key is invalid, please check you have copied it correctly.","invalid-cert-hash":"The SHA-1 certificate hash provided is invalid.","invalid-credential":"The supplied auth credential is malformed or has expired.","invalid-message-payload":"The email template corresponding to this action contains invalid characters in its message. Please fix by going to the Auth email templates section in the Firebase Console.","invalid-multi-factor-session":"The request does not contain a valid proof of first factor successful sign-in.","invalid-oauth-provider":"EmailAuthProvider is not supported for this operation. This operation only supports OAuth providers.","invalid-oauth-client-id":"The OAuth client ID provided is either invalid or does not match the specified API key.","unauthorized-domain":"This domain is not authorized for OAuth operations for your Firebase project. Edit the list of authorized domains from the Firebase console.","invalid-action-code":"The action code is invalid. This can happen if the code is malformed, expired, or has already been used.","wrong-password":"The password is invalid or the user does not have a password.","invalid-persistence-type":"The specified persistence type is invalid. It can only be local, session or none.","invalid-phone-number":"The format of the phone number provided is incorrect. Please enter the phone number in a format that can be parsed into E.164 format. E.164 phone numbers are written in the format [+][country code][subscriber number including area code].","invalid-provider-id":"The specified provider ID is invalid.","invalid-recipient-email":"The email corresponding to this action failed to send as the provided recipient email address is invalid.","invalid-sender":"The email template corresponding to this action contains an invalid sender email or name. Please fix by going to the Auth email templates section in the Firebase Console.","invalid-verification-id":"The verification ID used to create the phone auth credential is invalid.","invalid-tenant-id":"The Auth instance's tenant ID is invalid.","missing-android-pkg-name":"An Android Package Name must be provided if the Android App is required to be installed.","auth-domain-config-required":"Be sure to include authDomain when calling firebase.initializeApp(), by following the instructions in the Firebase console.","missing-app-credential":"The phone verification request is missing an application verifier assertion. A reCAPTCHA response token needs to be provided.","missing-verification-code":"The phone auth credential was created with an empty SMS verification code.","missing-continue-uri":"A continue URL must be provided in the request.","missing-iframe-start":"An internal AuthError has occurred.","missing-ios-bundle-id":"An iOS Bundle ID must be provided if an App Store ID is provided.","missing-or-invalid-nonce":"The request does not contain a valid nonce. This can occur if the SHA-256 hash of the provided raw nonce does not match the hashed nonce in the ID token payload.","missing-multi-factor-info":"No second factor identifier is provided.","missing-multi-factor-session":"The request is missing proof of first factor successful sign-in.","missing-phone-number":"To send verification codes, provide a phone number for the recipient.","missing-verification-id":"The phone auth credential was created with an empty verification ID.","app-deleted":"This instance of FirebaseApp has been deleted.","multi-factor-info-not-found":"The user does not have a second factor matching the identifier provided.","multi-factor-auth-required":"Proof of ownership of a second factor is required to complete sign-in.","account-exists-with-different-credential":"An account already exists with the same email address but different sign-in credentials. Sign in using a provider associated with this email address.","network-request-failed":"A network AuthError (such as timeout, interrupted connection or unreachable host) has occurred.","no-auth-event":"An internal AuthError has occurred.","no-such-provider":"User was not linked to an account with the given provider.","null-user":"A null user object was provided as the argument for an operation which requires a non-null user object.","operation-not-allowed":"The given sign-in provider is disabled for this Firebase project. Enable it in the Firebase console, under the sign-in method tab of the Auth section.","operation-not-supported-in-this-environment":'This operation is not supported in the environment this application is running on. "location.protocol" must be http, https or chrome-extension and web storage must be enabled.',"popup-blocked":"Unable to establish a connection with the popup. It may have been blocked by the browser.","popup-closed-by-user":"The popup has been closed by the user before finalizing the operation.","provider-already-linked":"User can only be linked to one identity for the given provider.","quota-exceeded":"The project's quota for this operation has been exceeded.","redirect-cancelled-by-user":"The redirect operation has been cancelled by the user before finalizing.","redirect-operation-pending":"A redirect sign-in operation is already pending.","rejected-credential":"The request contains malformed or mismatching credentials.","second-factor-already-in-use":"The second factor is already enrolled on this account.","maximum-second-factor-count-exceeded":"The maximum allowed number of second factors on a user has been exceeded.","tenant-id-mismatch":"The provided tenant ID does not match the Auth instance's tenant ID",timeout:"The operation has timed out.","user-token-expired":"The user's credential is no longer valid. The user must sign in again.","too-many-requests":"We have blocked all requests from this device due to unusual activity. Try again later.","unauthorized-continue-uri":"The domain of the continue URL is not whitelisted.  Please whitelist the domain in the Firebase console.","unsupported-first-factor":"Enrolling a second factor or signing in with a multi-factor account requires sign-in with a supported first factor.","unsupported-persistence-type":"The current environment does not support the specified persistence type.","unsupported-tenant-operation":"This operation is not supported in a multi-tenant context.","unverified-email":"The operation requires a verified email.","user-cancelled":"The user did not grant your application the permissions it requested.","user-not-found":"There is no user record corresponding to this identifier. The user may have been deleted.","user-disabled":"The user account has been disabled by an administrator.","user-mismatch":"The supplied credentials do not correspond to the previously signed in user.","user-signed-out":"","weak-password":"The password must be 6 characters long or more.","web-storage-unsupported":"This browser is not supported or 3rd party cookies and data may be disabled.","already-initialized":"initializeAuth() has already been called with different options. To avoid this error, call initializeAuth() with the same options as when it was originally called, or call getAuth() to return the already initialized instance."}},Q=new B.LL("auth","Firebase",{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}),Z=new Y.Yd("@firebase/auth");function ae(w,...y){Z.logLevel<=Y.in.ERROR&&Z.error(`Auth (${X.SDK_VERSION}): ${w}`,...y)}function ce(w,...y){throw me(w,...y)}function ye(w,...y){return me(w,...y)}function me(w,...y){if("string"!=typeof w){const C=y[0],E=[...y.slice(1)];return E[0]&&(E[0].appName=w.name),w._errorFactory.create(C,...E)}return Q.create(w,...y)}function le(w,y,...C){if(!w)throw me(y,...C)}function Ne(w){const y="INTERNAL ASSERTION FAILED: "+w;throw ae(y),new Error(y)}function Re(w,y){w||Ne(y)}const pe=new Map;function ee(w){Re(w instanceof Function,"Expected a class definition");let y=pe.get(w);return y?(Re(y instanceof w,"Instance stored in cache mismatched with class"),y):(y=new w,pe.set(w,y),y)}function ie(){var w;return"undefined"!=typeof self&&(null===(w=self.location)||void 0===w?void 0:w.href)||""}function ue(){return"http:"===De()||"https:"===De()}function De(){var w;return"undefined"!=typeof self&&(null===(w=self.location)||void 0===w?void 0:w.protocol)||null}class Me{constructor(y,C){this.shortDelay=y,this.longDelay=C,Re(C>y,"Short delay should be less than long delay!"),this.isMobile=(0,B.uI)()||(0,B.b$)()}get(){return"undefined"!=typeof navigator&&navigator&&"onLine"in navigator&&"boolean"==typeof navigator.onLine&&(ue()||(0,B.ru)()||"connection"in navigator)&&!navigator.onLine?Math.min(5e3,this.shortDelay):this.isMobile?this.longDelay:this.shortDelay}}function ze(w,y){Re(w.emulator,"Emulator should always be set here");const{url:C}=w.emulator;return y?`${C}${y.startsWith("/")?y.slice(1):y}`:C}class Pe{static initialize(y,C,E){this.fetchImpl=y,C&&(this.headersImpl=C),E&&(this.responseImpl=E)}static fetch(){return this.fetchImpl?this.fetchImpl:"undefined"!=typeof self&&"fetch"in self?self.fetch:void Ne("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){return this.headersImpl?this.headersImpl:"undefined"!=typeof self&&"Headers"in self?self.Headers:void Ne("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){return this.responseImpl?this.responseImpl:"undefined"!=typeof self&&"Response"in self?self.Response:void Ne("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}const ke={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"internal-error",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded"},kt=new Me(3e4,6e4);function ft(w,y){return w.tenantId&&!y.tenantId?Object.assign(Object.assign({},y),{tenantId:w.tenantId}):y}function ut(w,y,C,E){return Je.apply(this,arguments)}function Je(){return(Je=(0,m.Z)(function*(w,y,C,E,z={}){return Sn(w,z,()=>{let $={},_e={};E&&("GET"===y?_e=E:$={body:JSON.stringify(E)});const Le=(0,B.xO)(Object.assign({key:w.config.apiKey},_e)).slice(1),qe=new(Pe.headers());return qe.set("Content-Type","application/json"),qe.set("X-Client-Version",w._getSdkClientVersion()),w.languageCode&&qe.set("X-Firebase-Locale",w.languageCode),Pe.fetch()(e1(w,w.config.apiHost,C,Le),Object.assign({method:y,headers:qe,referrerPolicy:"no-referrer"},$))})})).apply(this,arguments)}function Sn(w,y,C){return w1.apply(this,arguments)}function w1(){return(w1=(0,m.Z)(function*(w,y,C){w._canInitEmulator=!1;const E=Object.assign(Object.assign({},ke),y);try{const z=new vn(w),$=yield Promise.race([C(),z.promise]);z.clearNetworkTimeout();const _e=yield $.json();if("needConfirmation"in _e)throw In(w,"account-exists-with-different-credential",_e);if($.ok&&!("errorMessage"in _e))return _e;{const qe=($.ok?_e.errorMessage:_e.error.message).split(" : ")[0];if("FEDERATED_USER_ID_ALREADY_LINKED"===qe)throw In(w,"credential-already-in-use",_e);if("EMAIL_EXISTS"===qe)throw In(w,"email-already-in-use",_e);ce(w,E[qe]||qe.toLowerCase().replace(/[_\s]+/g,"-"))}}catch(z){if(z instanceof B.ZR)throw z;ce(w,"network-request-failed")}})).apply(this,arguments)}function Zn(w,y,C,E){return Qt.apply(this,arguments)}function Qt(){return(Qt=(0,m.Z)(function*(w,y,C,E,z={}){const $=yield ut(w,y,C,E,z);return"mfaPendingCredential"in $&&ce(w,"multi-factor-auth-required",{serverResponse:$}),$})).apply(this,arguments)}function e1(w,y,C,E){const z=`${y}${C}?${E}`;return w.config.emulator?ze(w.config,z):`${w.config.apiScheme}://${z}`}class vn{constructor(y){this.auth=y,this.timer=null,this.promise=new Promise((C,E)=>{this.timer=setTimeout(()=>E(ye(this.auth,"timeout")),kt.get())})}clearNetworkTimeout(){clearTimeout(this.timer)}}function In(w,y,C){const E={appName:w.name};C.email&&(E.email=C.email),C.phoneNumber&&(E.phoneNumber=C.phoneNumber);const z=ye(w,y,E);return z.customData._tokenResponse=C,z}function Rr(){return(Rr=(0,m.Z)(function*(w,y){return ut(w,"POST","/v1/accounts:delete",y)})).apply(this,arguments)}function X1(w,y){return er.apply(this,arguments)}function er(){return(er=(0,m.Z)(function*(w,y){return ut(w,"POST","/v1/accounts:update",y)})).apply(this,arguments)}function un(w,y){return yn.apply(this,arguments)}function yn(){return(yn=(0,m.Z)(function*(w,y){return ut(w,"POST","/v1/accounts:lookup",y)})).apply(this,arguments)}function on(w){if(w)try{const y=new Date(Number(w));if(!isNaN(y.getTime()))return y.toUTCString()}catch(y){}}function Ft(){return(Ft=(0,m.Z)(function*(w,y=!1){const C=(0,B.m9)(w),E=yield C.getIdToken(y),z=qt(E);le(z&&z.exp&&z.auth_time&&z.iat,C.auth,"internal-error");const $="object"==typeof z.firebase?z.firebase:void 0,_e=null==$?void 0:$.sign_in_provider;return{claims:z,token:E,authTime:on(Ut(z.auth_time)),issuedAtTime:on(Ut(z.iat)),expirationTime:on(Ut(z.exp)),signInProvider:_e||null,signInSecondFactor:(null==$?void 0:$.sign_in_second_factor)||null}})).apply(this,arguments)}function Ut(w){return 1e3*Number(w)}function qt(w){const[y,C,E]=w.split(".");if(void 0===y||void 0===C||void 0===E)return ae("JWT malformed, contained fewer than 3 sections"),null;try{const z=(0,B.tV)(C);return z?JSON.parse(z):(ae("Failed to decode base64 JWT payload"),null)}catch(z){return ae("Caught error parsing JWT payload as JSON",z),null}}function et(w,y){return it.apply(this,arguments)}function it(){return(it=(0,m.Z)(function*(w,y,C=!1){if(C)return y;try{return yield y}catch(E){throw E instanceof B.ZR&&Dn(E)&&w.auth.currentUser===w&&(yield w.auth.signOut()),E}})).apply(this,arguments)}function Dn({code:w}){return"auth/user-disabled"===w||"auth/user-token-expired"===w}class kr{constructor(y){this.user=y,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){!this.isRunning||(this.isRunning=!1,null!==this.timerId&&clearTimeout(this.timerId))}getInterval(y){var C;if(y){const E=this.errorBackoff;return this.errorBackoff=Math.min(2*this.errorBackoff,96e4),E}{this.errorBackoff=3e4;const z=(null!==(C=this.user.stsTokenManager.expirationTime)&&void 0!==C?C:0)-Date.now()-3e5;return Math.max(0,z)}}schedule(y=!1){var C=this;if(!this.isRunning)return;const E=this.getInterval(y);this.timerId=setTimeout((0,m.Z)(function*(){yield C.iteration()}),E)}iteration(){var y=this;return(0,m.Z)(function*(){try{yield y.user.getIdToken(!0)}catch(C){return void("auth/network-request-failed"===C.code&&y.schedule(!0))}y.schedule()})()}}class tr{constructor(y,C){this.createdAt=y,this.lastLoginAt=C,this._initializeTime()}_initializeTime(){this.lastSignInTime=on(this.lastLoginAt),this.creationTime=on(this.createdAt)}_copy(y){this.createdAt=y.createdAt,this.lastLoginAt=y.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}function Jt(w){return t1.apply(this,arguments)}function t1(){return(t1=(0,m.Z)(function*(w){var y;const C=w.auth,E=yield w.getIdToken(),z=yield et(w,un(C,{idToken:E}));le(null==z?void 0:z.users.length,C,"internal-error");const $=z.users[0];w._notifyReloadListener($);const _e=(null===(y=$.providerUserInfo)||void 0===y?void 0:y.length)?te($.providerUserInfo):[],Le=de(w.providerData,_e),Mt=!!w.isAnonymous&&!(w.email&&$.passwordHash||(null==Le?void 0:Le.length)),pt={uid:$.localId,displayName:$.displayName||null,photoURL:$.photoUrl||null,email:$.email||null,emailVerified:$.emailVerified||!1,phoneNumber:$.phoneNumber||null,tenantId:$.tenantId||null,providerData:Le,metadata:new tr($.createdAt,$.lastLoginAt),isAnonymous:Mt};Object.assign(w,pt)})).apply(this,arguments)}function nn(){return(nn=(0,m.Z)(function*(w){const y=(0,B.m9)(w);yield Jt(y),yield y.auth._persistUserIfCurrent(y),y.auth._notifyListenersIfCurrent(y)})).apply(this,arguments)}function de(w,y){return[...w.filter(E=>!y.some(z=>z.providerId===E.providerId)),...y]}function te(w){return w.map(y=>{var{providerId:C}=y,E=(0,oe._T)(y,["providerId"]);return{providerId:C,uid:E.rawId||"",displayName:E.displayName||null,email:E.email||null,phoneNumber:E.phoneNumber||null,photoURL:E.photoUrl||null}})}function Ie(){return(Ie=(0,m.Z)(function*(w,y){const C=yield Sn(w,{},()=>{const E=(0,B.xO)({grant_type:"refresh_token",refresh_token:y}).slice(1),{tokenApiHost:z,apiKey:$}=w.config,_e=e1(w,z,"/v1/token",`key=${$}`);return Pe.fetch()(_e,{method:"POST",headers:{"X-Client-Version":w._getSdkClientVersion(),"Content-Type":"application/x-www-form-urlencoded"},body:E})});return{accessToken:C.access_token,expiresIn:C.expires_in,refreshToken:C.refresh_token}})).apply(this,arguments)}class xe{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(y){le(y.idToken,"internal-error"),le(void 0!==y.idToken,"internal-error"),le(void 0!==y.refreshToken,"internal-error");const C="expiresIn"in y&&void 0!==y.expiresIn?Number(y.expiresIn):function(w){const y=qt(w);return le(y,"internal-error"),le(void 0!==y.exp,"internal-error"),le(void 0!==y.iat,"internal-error"),Number(y.exp)-Number(y.iat)}(y.idToken);this.updateTokensAndExpiration(y.idToken,y.refreshToken,C)}getToken(y,C=!1){var E=this;return(0,m.Z)(function*(){return le(!E.accessToken||E.refreshToken,y,"user-token-expired"),C||!E.accessToken||E.isExpired?E.refreshToken?(yield E.refresh(y,E.refreshToken),E.accessToken):null:E.accessToken})()}clearRefreshToken(){this.refreshToken=null}refresh(y,C){var E=this;return(0,m.Z)(function*(){const{accessToken:z,refreshToken:$,expiresIn:_e}=yield function(w,y){return Ie.apply(this,arguments)}(y,C);E.updateTokensAndExpiration(z,$,Number(_e))})()}updateTokensAndExpiration(y,C,E){this.refreshToken=C||null,this.accessToken=y||null,this.expirationTime=Date.now()+1e3*E}static fromJSON(y,C){const{refreshToken:E,accessToken:z,expirationTime:$}=C,_e=new xe;return E&&(le("string"==typeof E,"internal-error",{appName:y}),_e.refreshToken=E),z&&(le("string"==typeof z,"internal-error",{appName:y}),_e.accessToken=z),$&&(le("number"==typeof $,"internal-error",{appName:y}),_e.expirationTime=$),_e}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(y){this.accessToken=y.accessToken,this.refreshToken=y.refreshToken,this.expirationTime=y.expirationTime}_clone(){return Object.assign(new xe,this.toJSON())}_performRefresh(){return Ne("not implemented")}}function He(w,y){le("string"==typeof w||void 0===w,"internal-error",{appName:y})}class ct{constructor(y){var{uid:C,auth:E,stsTokenManager:z}=y,$=(0,oe._T)(y,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.emailVerified=!1,this.isAnonymous=!1,this.tenantId=null,this.providerData=[],this.proactiveRefresh=new kr(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=C,this.auth=E,this.stsTokenManager=z,this.accessToken=z.accessToken,this.displayName=$.displayName||null,this.email=$.email||null,this.phoneNumber=$.phoneNumber||null,this.photoURL=$.photoURL||null,this.isAnonymous=$.isAnonymous||!1,this.metadata=new tr($.createdAt||void 0,$.lastLoginAt||void 0)}getIdToken(y){var C=this;return(0,m.Z)(function*(){const E=yield et(C,C.stsTokenManager.getToken(C.auth,y));return le(E,C.auth,"internal-error"),C.accessToken!==E&&(C.accessToken=E,yield C.auth._persistUserIfCurrent(C),C.auth._notifyListenersIfCurrent(C)),E})()}getIdTokenResult(y){return function(w){return Ft.apply(this,arguments)}(this,y)}reload(){return function(w){return nn.apply(this,arguments)}(this)}_assign(y){this!==y&&(le(this.uid===y.uid,this.auth,"internal-error"),this.displayName=y.displayName,this.photoURL=y.photoURL,this.email=y.email,this.emailVerified=y.emailVerified,this.phoneNumber=y.phoneNumber,this.isAnonymous=y.isAnonymous,this.tenantId=y.tenantId,this.providerData=y.providerData.map(C=>Object.assign({},C)),this.metadata._copy(y.metadata),this.stsTokenManager._assign(y.stsTokenManager))}_clone(y){return new ct(Object.assign(Object.assign({},this),{auth:y,stsTokenManager:this.stsTokenManager._clone()}))}_onReload(y){le(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=y,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(y){this.reloadListener?this.reloadListener(y):this.reloadUserInfo=y}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}_updateTokensIfNecessary(y,C=!1){var E=this;return(0,m.Z)(function*(){let z=!1;y.idToken&&y.idToken!==E.stsTokenManager.accessToken&&(E.stsTokenManager.updateFromServerResponse(y),z=!0),C&&(yield Jt(E)),yield E.auth._persistUserIfCurrent(E),z&&E.auth._notifyListenersIfCurrent(E)})()}delete(){var y=this;return(0,m.Z)(function*(){const C=yield y.getIdToken();return yield et(y,function(w,y){return Rr.apply(this,arguments)}(y.auth,{idToken:C})),y.stsTokenManager.clearRefreshToken(),y.auth.signOut()})()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(y=>Object.assign({},y)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(y,C){var E,z,$,_e,Le,qe,at,Mt;const pt=null!==(E=C.displayName)&&void 0!==E?E:void 0,Kn=null!==(z=C.email)&&void 0!==z?z:void 0,Zr=null!==($=C.phoneNumber)&&void 0!==$?$:void 0,Js=null!==(_e=C.photoURL)&&void 0!==_e?_e:void 0,$1=null!==(Le=C.tenantId)&&void 0!==Le?Le:void 0,ya=null!==(qe=C._redirectEventId)&&void 0!==qe?qe:void 0,m8=null!==(at=C.createdAt)&&void 0!==at?at:void 0,g8=null!==(Mt=C.lastLoginAt)&&void 0!==Mt?Mt:void 0,{uid:pc,emailVerified:bh,isAnonymous:_a,providerData:mc,stsTokenManager:T6}=C;le(pc&&T6,y,"internal-error");const wh=xe.fromJSON(this.name,T6);le("string"==typeof pc,y,"internal-error"),He(pt,y.name),He(Kn,y.name),le("boolean"==typeof bh,y,"internal-error"),le("boolean"==typeof _a,y,"internal-error"),He(Zr,y.name),He(Js,y.name),He($1,y.name),He(ya,y.name),He(m8,y.name),He(g8,y.name);const v2=new ct({uid:pc,auth:y,email:Kn,emailVerified:bh,displayName:pt,isAnonymous:_a,photoURL:Js,phoneNumber:Zr,tenantId:$1,stsTokenManager:wh,createdAt:m8,lastLoginAt:g8});return mc&&Array.isArray(mc)&&(v2.providerData=mc.map(Li=>Object.assign({},Li))),ya&&(v2._redirectEventId=ya),v2}static _fromIdTokenResponse(y,C,E=!1){return(0,m.Z)(function*(){const z=new xe;z.updateFromServerResponse(C);const $=new ct({uid:C.localId,auth:y,stsTokenManager:z,isAnonymous:E});return yield Jt($),$})()}}const zt=(()=>{class w{constructor(){this.type="NONE",this.storage={}}_isAvailable(){return(0,m.Z)(function*(){return!0})()}_set(C,E){var z=this;return(0,m.Z)(function*(){z.storage[C]=E})()}_get(C){var E=this;return(0,m.Z)(function*(){const z=E.storage[C];return void 0===z?null:z})()}_remove(C){var E=this;return(0,m.Z)(function*(){delete E.storage[C]})()}_addListener(C,E){}_removeListener(C,E){}}return w.type="NONE",w})();function Tt(w,y,C){return`firebase:${w}:${y}:${C}`}class _n{constructor(y,C,E){this.persistence=y,this.auth=C,this.userKey=E;const{config:z,name:$}=this.auth;this.fullUserKey=Tt(this.userKey,z.apiKey,$),this.fullPersistenceKey=Tt("persistence",z.apiKey,$),this.boundEventHandler=C._onStorageEvent.bind(C),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(y){return this.persistence._set(this.fullUserKey,y.toJSON())}getCurrentUser(){var y=this;return(0,m.Z)(function*(){const C=yield y.persistence._get(y.fullUserKey);return C?ct._fromJSON(y.auth,C):null})()}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}setPersistence(y){var C=this;return(0,m.Z)(function*(){if(C.persistence===y)return;const E=yield C.getCurrentUser();return yield C.removeCurrentUser(),C.persistence=y,E?C.setCurrentUser(E):void 0})()}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static create(y,C,E="authUser"){return(0,m.Z)(function*(){if(!C.length)return new _n(ee(zt),y,E);const z=(yield Promise.all(C.map(function(){var at=(0,m.Z)(function*(Mt){if(yield Mt._isAvailable())return Mt});return function(Mt){return at.apply(this,arguments)}}()))).filter(at=>at);let $=z[0]||ee(zt);const _e=Tt(E,y.config.apiKey,y.name);let Le=null;for(const at of C)try{const Mt=yield at._get(_e);if(Mt){const pt=ct._fromJSON(y,Mt);at!==$&&(Le=pt),$=at;break}}catch(Mt){}const qe=z.filter(at=>at._shouldAllowMigration);return $._shouldAllowMigration&&qe.length?($=qe[0],Le&&(yield $._set(_e,Le.toJSON())),yield Promise.all(C.map(function(){var at=(0,m.Z)(function*(Mt){if(Mt!==$)try{yield Mt._remove(_e)}catch(pt){}});return function(Mt){return at.apply(this,arguments)}}())),new _n($,y,E)):new _n($,y,E)})()}}function an(w){const y=w.toLowerCase();if(y.includes("opera/")||y.includes("opr/")||y.includes("opios/"))return"Opera";if(gr(y))return"IEMobile";if(y.includes("msie")||y.includes("trident/"))return"IE";if(y.includes("edge/"))return"Edge";if(Rn(y))return"Firefox";if(y.includes("silk/"))return"Silk";if(Ds(y))return"Blackberry";if(L4(y))return"Webos";if(Or(y))return"Safari";if((y.includes("chrome/")||kn(y))&&!y.includes("edge/"))return"Chrome";if(Ci(y))return"Android";{const E=w.match(/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/);if(2===(null==E?void 0:E.length))return E[1]}return"Other"}function Rn(w=(0,B.z$)()){return/firefox\//i.test(w)}function Or(w=(0,B.z$)()){const y=w.toLowerCase();return y.includes("safari/")&&!y.includes("chrome/")&&!y.includes("crios/")&&!y.includes("android")}function kn(w=(0,B.z$)()){return/crios\//i.test(w)}function gr(w=(0,B.z$)()){return/iemobile/i.test(w)}function Ci(w=(0,B.z$)()){return/android/i.test(w)}function Ds(w=(0,B.z$)()){return/blackberry/i.test(w)}function L4(w=(0,B.z$)()){return/webos/i.test(w)}function xi(w=(0,B.z$)()){return/iphone|ipad|ipod/i.test(w)}function V4(w=(0,B.z$)()){return xi(w)||Ci(w)||L4(w)||Ds(w)||/windows phone/i.test(w)||gr(w)}function ni(w,y=[]){let C;switch(w){case"Browser":C=an((0,B.z$)());break;case"Worker":C=`${an((0,B.z$)())}-${w}`;break;default:C=w}const E=y.length?y.join(","):"FirebaseCore-web";return`${C}/JsCore/${X.SDK_VERSION}/${E}`}class k2{constructor(y,C){this.app=y,this.config=C,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new wl(this),this.idTokenSubscription=new wl(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=Q,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=y.name,this.clientVersion=C.sdkClientVersion}_initializeWithPersistence(y,C){var E=this;return C&&(this._popupRedirectResolver=ee(C)),this._initializationPromise=this.queue((0,m.Z)(function*(){var z;E._deleted||(E.persistenceManager=yield _n.create(E,y),!E._deleted&&((null===(z=E._popupRedirectResolver)||void 0===z?void 0:z._shouldInitProactively)&&(yield E._popupRedirectResolver._initialize(E)),yield E.initializeCurrentUser(C),!E._deleted&&(E._isInitialized=!0)))})),this._initializationPromise}_onStorageEvent(){var y=this;return(0,m.Z)(function*(){if(y._deleted)return;const C=yield y.assertedPersistence.getCurrentUser();if(y.currentUser||C){if(y.currentUser&&C&&y.currentUser.uid===C.uid)return y._currentUser._assign(C),void(yield y.currentUser.getIdToken());yield y._updateCurrentUser(C)}})()}initializeCurrentUser(y){var C=this;return(0,m.Z)(function*(){var E;let z=yield C.assertedPersistence.getCurrentUser();if(y&&C.config.authDomain){yield C.getOrInitRedirectPersistenceManager();const $=null===(E=C.redirectUser)||void 0===E?void 0:E._redirectEventId,_e=null==z?void 0:z._redirectEventId,Le=yield C.tryRedirectSignIn(y);(!$||$===_e)&&(null==Le?void 0:Le.user)&&(z=Le.user)}return z?z._redirectEventId?(le(C._popupRedirectResolver,C,"argument-error"),yield C.getOrInitRedirectPersistenceManager(),C.redirectUser&&C.redirectUser._redirectEventId===z._redirectEventId?C.directlySetCurrentUser(z):C.reloadAndSetCurrentUserOrClear(z)):C.reloadAndSetCurrentUserOrClear(z):C.directlySetCurrentUser(null)})()}tryRedirectSignIn(y){var C=this;return(0,m.Z)(function*(){let E=null;try{E=yield C._popupRedirectResolver._completeRedirectFn(C,y,!0)}catch(z){yield C._setRedirectUser(null)}return E})()}reloadAndSetCurrentUserOrClear(y){var C=this;return(0,m.Z)(function*(){try{yield Jt(y)}catch(E){if("auth/network-request-failed"!==E.code)return C.directlySetCurrentUser(null)}return C.directlySetCurrentUser(y)})()}useDeviceLanguage(){this.languageCode=function(){if("undefined"==typeof navigator)return null;const w=navigator;return w.languages&&w.languages[0]||w.language||null}()}_delete(){var y=this;return(0,m.Z)(function*(){y._deleted=!0})()}updateCurrentUser(y){var C=this;return(0,m.Z)(function*(){const E=y?(0,B.m9)(y):null;return E&&le(E.auth.config.apiKey===C.config.apiKey,C,"invalid-user-token"),C._updateCurrentUser(E&&E._clone(C))})()}_updateCurrentUser(y){var C=this;return(0,m.Z)(function*(){if(!C._deleted)return y&&le(C.tenantId===y.tenantId,C,"tenant-id-mismatch"),C.queue((0,m.Z)(function*(){yield C.directlySetCurrentUser(y),C.notifyAuthListeners()}))})()}signOut(){var y=this;return(0,m.Z)(function*(){return(y.redirectPersistenceManager||y._popupRedirectResolver)&&(yield y._setRedirectUser(null)),y._updateCurrentUser(null)})()}setPersistence(y){var C=this;return this.queue((0,m.Z)(function*(){yield C.assertedPersistence.setPersistence(ee(y))}))}_getPersistence(){return this.assertedPersistence.persistence.type}_updateErrorMap(y){this._errorFactory=new B.LL("auth","Firebase",y())}onAuthStateChanged(y,C,E){return this.registerStateListener(this.authStateSubscription,y,C,E)}onIdTokenChanged(y,C,E){return this.registerStateListener(this.idTokenSubscription,y,C,E)}toJSON(){var y;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:null===(y=this._currentUser)||void 0===y?void 0:y.toJSON()}}_setRedirectUser(y,C){var E=this;return(0,m.Z)(function*(){const z=yield E.getOrInitRedirectPersistenceManager(C);return null===y?z.removeCurrentUser():z.setCurrentUser(y)})()}getOrInitRedirectPersistenceManager(y){var C=this;return(0,m.Z)(function*(){if(!C.redirectPersistenceManager){const E=y&&ee(y)||C._popupRedirectResolver;le(E,C,"argument-error"),C.redirectPersistenceManager=yield _n.create(C,[ee(E._redirectPersistence)],"redirectUser"),C.redirectUser=yield C.redirectPersistenceManager.getCurrentUser()}return C.redirectPersistenceManager})()}_redirectUserForId(y){var C=this;return(0,m.Z)(function*(){var E,z;return C._isInitialized&&(yield C.queue((0,m.Z)(function*(){}))),(null===(E=C._currentUser)||void 0===E?void 0:E._redirectEventId)===y?C._currentUser:(null===(z=C.redirectUser)||void 0===z?void 0:z._redirectEventId)===y?C.redirectUser:null})()}_persistUserIfCurrent(y){var C=this;return(0,m.Z)(function*(){if(y===C.currentUser)return C.queue((0,m.Z)(function*(){return C.directlySetCurrentUser(y)}))})()}_notifyListenersIfCurrent(y){y===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var y,C;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const E=null!==(C=null===(y=this.currentUser)||void 0===y?void 0:y.uid)&&void 0!==C?C:null;this.lastNotifiedUid!==E&&(this.lastNotifiedUid=E,this.authStateSubscription.next(this.currentUser))}registerStateListener(y,C,E,z){if(this._deleted)return()=>{};const $="function"==typeof C?C:C.next.bind(C),_e=this._isInitialized?Promise.resolve():this._initializationPromise;return le(_e,this,"internal-error"),_e.then(()=>$(this.currentUser)),"function"==typeof C?y.addObserver(C,E,z):y.addObserver(C)}directlySetCurrentUser(y){var C=this;return(0,m.Z)(function*(){C.currentUser&&C.currentUser!==y&&(C._currentUser._stopProactiveRefresh(),y&&C.isProactiveRefreshEnabled&&y._startProactiveRefresh()),C.currentUser=y,y?yield C.assertedPersistence.setCurrentUser(y):yield C.assertedPersistence.removeCurrentUser()})()}queue(y){return this.operations=this.operations.then(y,y),this.operations}get assertedPersistence(){return le(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(y){!y||this.frameworks.includes(y)||(this.frameworks.push(y),this.frameworks.sort(),this.clientVersion=ni(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}_getSdkClientVersion(){return this.clientVersion}}function jt(w){return(0,B.m9)(w)}class wl{constructor(y){this.auth=y,this.observer=null,this.addObserver=(0,B.ne)(C=>this.observer=C)}get next(){return le(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}function Qe(w){const y=w.indexOf(":");return y<0?"":w.substr(0,y+1)}function cn(w){if(!w)return null;const y=Number(w);return isNaN(y)?null:y}class yr{constructor(y,C){this.providerId=y,this.signInMethod=C}toJSON(){return Ne("not implemented")}_getIdTokenResponse(y){return Ne("not implemented")}_linkToIdToken(y,C){return Ne("not implemented")}_getReauthenticationResolver(y){return Ne("not implemented")}}function Tn(w,y){return _r.apply(this,arguments)}function _r(){return(_r=(0,m.Z)(function*(w,y){return ut(w,"POST","/v1/accounts:resetPassword",ft(w,y))})).apply(this,arguments)}function Cn(w,y){return O2.apply(this,arguments)}function O2(){return(O2=(0,m.Z)(function*(w,y){return ut(w,"POST","/v1/accounts:update",y)})).apply(this,arguments)}function ko(w,y){return wt.apply(this,arguments)}function wt(){return(wt=(0,m.Z)(function*(w,y){return ut(w,"POST","/v1/accounts:update",ft(w,y))})).apply(this,arguments)}function Ki(){return(Ki=(0,m.Z)(function*(w,y){return Zn(w,"POST","/v1/accounts:signInWithPassword",ft(w,y))})).apply(this,arguments)}function Ns(w,y){return Pr.apply(this,arguments)}function Pr(){return(Pr=(0,m.Z)(function*(w,y){return ut(w,"POST","/v1/accounts:sendOobCode",ft(w,y))})).apply(this,arguments)}function M1(w,y){return P2.apply(this,arguments)}function P2(){return(P2=(0,m.Z)(function*(w,y){return Ns(w,y)})).apply(this,arguments)}function rr(w,y){return ir.apply(this,arguments)}function ir(){return(ir=(0,m.Z)(function*(w,y){return Ns(w,y)})).apply(this,arguments)}function tn(w,y){return Po.apply(this,arguments)}function Po(){return(Po=(0,m.Z)(function*(w,y){return Ns(w,y)})).apply(this,arguments)}function R4(w,y){return zs.apply(this,arguments)}function zs(){return(zs=(0,m.Z)(function*(w,y){return Ns(w,y)})).apply(this,arguments)}function Ls(){return(Ls=(0,m.Z)(function*(w,y){return Zn(w,"POST","/v1/accounts:signInWithEmailLink",ft(w,y))})).apply(this,arguments)}function bi(){return(bi=(0,m.Z)(function*(w,y){return Zn(w,"POST","/v1/accounts:signInWithEmailLink",ft(w,y))})).apply(this,arguments)}class On extends yr{constructor(y,C,E,z=null){super("password",E),this._email=y,this._password=C,this._tenantId=z}static _fromEmailAndPassword(y,C){return new On(y,C,"password")}static _fromEmailAndCode(y,C,E=null){return new On(y,C,"emailLink",E)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(y){const C="string"==typeof y?JSON.parse(y):y;if((null==C?void 0:C.email)&&(null==C?void 0:C.password)){if("password"===C.signInMethod)return this._fromEmailAndPassword(C.email,C.password);if("emailLink"===C.signInMethod)return this._fromEmailAndCode(C.email,C.password,C.tenantId)}return null}_getIdTokenResponse(y){var C=this;return(0,m.Z)(function*(){switch(C.signInMethod){case"password":return function(w,y){return Ki.apply(this,arguments)}(y,{returnSecureToken:!0,email:C._email,password:C._password});case"emailLink":return function(w,y){return Ls.apply(this,arguments)}(y,{email:C._email,oobCode:C._password});default:ce(y,"internal-error")}})()}_linkToIdToken(y,C){var E=this;return(0,m.Z)(function*(){switch(E.signInMethod){case"password":return Cn(y,{idToken:C,returnSecureToken:!0,email:E._email,password:E._password});case"emailLink":return function(w,y){return bi.apply(this,arguments)}(y,{idToken:C,email:E._email,oobCode:E._password});default:ce(y,"internal-error")}})()}_getReauthenticationResolver(y){return this._getIdTokenResponse(y)}}function wi(w,y){return Hr.apply(this,arguments)}function Hr(){return(Hr=(0,m.Z)(function*(w,y){return Zn(w,"POST","/v1/accounts:signInWithIdp",ft(w,y))})).apply(this,arguments)}class Cr extends yr{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(y){const C=new Cr(y.providerId,y.signInMethod);return y.idToken||y.accessToken?(y.idToken&&(C.idToken=y.idToken),y.accessToken&&(C.accessToken=y.accessToken),y.nonce&&!y.pendingToken&&(C.nonce=y.nonce),y.pendingToken&&(C.pendingToken=y.pendingToken)):y.oauthToken&&y.oauthTokenSecret?(C.accessToken=y.oauthToken,C.secret=y.oauthTokenSecret):ce("argument-error"),C}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(y){const C="string"==typeof y?JSON.parse(y):y,{providerId:E,signInMethod:z}=C,$=(0,oe._T)(C,["providerId","signInMethod"]);if(!E||!z)return null;const _e=new Cr(E,z);return Object.assign(_e,$),_e}_getIdTokenResponse(y){return wi(y,this.buildRequest())}_linkToIdToken(y,C){const E=this.buildRequest();return E.idToken=C,wi(y,E)}_getReauthenticationResolver(y){const C=this.buildRequest();return C.autoCreate=!1,wi(y,C)}buildRequest(){const y={requestUri:"http://localhost",returnSecureToken:!0};if(this.pendingToken)y.pendingToken=this.pendingToken;else{const C={};this.idToken&&(C.id_token=this.idToken),this.accessToken&&(C.access_token=this.accessToken),this.secret&&(C.oauth_token_secret=this.secret),C.providerId=this.providerId,this.nonce&&!this.pendingToken&&(C.nonce=this.nonce),y.postBody=(0,B.xO)(C)}return y}}function C0(w,y){return Vs.apply(this,arguments)}function Vs(){return(Vs=(0,m.Z)(function*(w,y){return ut(w,"POST","/v1/accounts:sendVerificationCode",ft(w,y))})).apply(this,arguments)}function O4(){return(O4=(0,m.Z)(function*(w,y){return Zn(w,"POST","/v1/accounts:signInWithPhoneNumber",ft(w,y))})).apply(this,arguments)}function P4(){return(P4=(0,m.Z)(function*(w,y){const C=yield Zn(w,"POST","/v1/accounts:signInWithPhoneNumber",ft(w,y));if(C.temporaryProof)throw In(w,"account-exists-with-different-credential",C);return C})).apply(this,arguments)}const O5={USER_NOT_FOUND:"user-not-found"};function x0(){return(x0=(0,m.Z)(function*(w,y){return Zn(w,"POST","/v1/accounts:signInWithPhoneNumber",ft(w,Object.assign(Object.assign({},y),{operation:"REAUTH"})),O5)})).apply(this,arguments)}class Rs extends yr{constructor(y){super("phone","phone"),this.params=y}static _fromVerification(y,C){return new Rs({verificationId:y,verificationCode:C})}static _fromTokenResponse(y,C){return new Rs({phoneNumber:y,temporaryProof:C})}_getIdTokenResponse(y){return function(w,y){return O4.apply(this,arguments)}(y,this._makeVerificationRequest())}_linkToIdToken(y,C){return function(w,y){return P4.apply(this,arguments)}(y,Object.assign({idToken:C},this._makeVerificationRequest()))}_getReauthenticationResolver(y){return function(w,y){return x0.apply(this,arguments)}(y,this._makeVerificationRequest())}_makeVerificationRequest(){const{temporaryProof:y,phoneNumber:C,verificationId:E,verificationCode:z}=this.params;return y&&C?{temporaryProof:y,phoneNumber:C}:{sessionInfo:E,code:z}}toJSON(){const y={providerId:this.providerId};return this.params.phoneNumber&&(y.phoneNumber=this.params.phoneNumber),this.params.temporaryProof&&(y.temporaryProof=this.params.temporaryProof),this.params.verificationCode&&(y.verificationCode=this.params.verificationCode),this.params.verificationId&&(y.verificationId=this.params.verificationId),y}static fromJSON(y){"string"==typeof y&&(y=JSON.parse(y));const{verificationId:C,verificationCode:E,phoneNumber:z,temporaryProof:$}=y;return E||C||z||$?new Rs({verificationId:C,verificationCode:E,phoneNumber:z,temporaryProof:$}):null}}class b0{constructor(y){var C,E,z,$,_e,Le;const qe=(0,B.zd)((0,B.pd)(y)),at=null!==(C=qe.apiKey)&&void 0!==C?C:null,Mt=null!==(E=qe.oobCode)&&void 0!==E?E:null,pt=function(w){switch(w){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}(null!==(z=qe.mode)&&void 0!==z?z:null);le(at&&Mt&&pt,"argument-error"),this.apiKey=at,this.operation=pt,this.code=Mt,this.continueUrl=null!==($=qe.continueUrl)&&void 0!==$?$:null,this.languageCode=null!==(_e=qe.languageCode)&&void 0!==_e?_e:null,this.tenantId=null!==(Le=qe.tenantId)&&void 0!==Le?Le:null}static parseLink(y){const C=function(w){const y=(0,B.zd)((0,B.pd)(w)).link,C=y?(0,B.zd)((0,B.pd)(y)).deep_link_id:null,E=(0,B.zd)((0,B.pd)(w)).deep_link_id;return(E?(0,B.zd)((0,B.pd)(E)).link:null)||E||C||y||w}(y);try{return new b0(C)}catch(E){return null}}}let Ml=(()=>{class w{constructor(){this.providerId=w.PROVIDER_ID}static credential(C,E){return On._fromEmailAndPassword(C,E)}static credentialWithLink(C,E){const z=b0.parseLink(E);return le(z,"argument-error"),On._fromEmailAndCode(C,z.code,z.tenantId)}}return w.PROVIDER_ID="password",w.EMAIL_PASSWORD_SIGN_IN_METHOD="password",w.EMAIL_LINK_SIGN_IN_METHOD="emailLink",w})();class Yi{constructor(y){this.providerId=y,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(y){this.defaultLanguageCode=y}setCustomParameters(y){return this.customParameters=y,this}getCustomParameters(){return this.customParameters}}class Fo extends Yi{constructor(){super(...arguments),this.scopes=[]}addScope(y){return this.scopes.includes(y)||this.scopes.push(y),this}getScopes(){return[...this.scopes]}}class Uo extends Fo{static credentialFromJSON(y){const C="string"==typeof y?JSON.parse(y):y;return le("providerId"in C&&"signInMethod"in C,"argument-error"),Cr._fromParams(C)}credential(y){return this._credential(y)}_credential(y){return le(y.idToken||y.accessToken,"argument-error"),Cr._fromParams(Object.assign(Object.assign({},y),{providerId:this.providerId,signInMethod:this.providerId}))}static credentialFromResult(y){return Uo.oauthCredentialFromTaggedObject(y)}static credentialFromError(y){return Uo.oauthCredentialFromTaggedObject(y.customData||{})}static oauthCredentialFromTaggedObject({_tokenResponse:y}){if(!y)return null;const{oauthIdToken:C,oauthAccessToken:E,oauthTokenSecret:z,pendingToken:$,nonce:_e,providerId:Le}=y;if(!E&&!z&&!C&&!$||!Le)return null;try{return new Uo(Le)._credential({idToken:C,accessToken:E,rawNonce:_e,pendingToken:$})}catch(qe){return null}}}let P5=(()=>{class w extends Fo{constructor(){super("facebook.com")}static credential(C){return Cr._fromParams({providerId:w.PROVIDER_ID,signInMethod:w.FACEBOOK_SIGN_IN_METHOD,accessToken:C})}static credentialFromResult(C){return w.credentialFromTaggedObject(C)}static credentialFromError(C){return w.credentialFromTaggedObject(C.customData||{})}static credentialFromTaggedObject({_tokenResponse:C}){if(!C||!("oauthAccessToken"in C)||!C.oauthAccessToken)return null;try{return w.credential(C.oauthAccessToken)}catch(E){return null}}}return w.FACEBOOK_SIGN_IN_METHOD="facebook.com",w.PROVIDER_ID="facebook.com",w})(),H4=(()=>{class w extends Fo{constructor(){super("google.com"),this.addScope("profile")}static credential(C,E){return Cr._fromParams({providerId:w.PROVIDER_ID,signInMethod:w.GOOGLE_SIGN_IN_METHOD,idToken:C,accessToken:E})}static credentialFromResult(C){return w.credentialFromTaggedObject(C)}static credentialFromError(C){return w.credentialFromTaggedObject(C.customData||{})}static credentialFromTaggedObject({_tokenResponse:C}){if(!C)return null;const{oauthIdToken:E,oauthAccessToken:z}=C;if(!E&&!z)return null;try{return w.credential(E,z)}catch($){return null}}}return w.GOOGLE_SIGN_IN_METHOD="google.com",w.PROVIDER_ID="google.com",w})(),F4=(()=>{class w extends Fo{constructor(){super("github.com")}static credential(C){return Cr._fromParams({providerId:w.PROVIDER_ID,signInMethod:w.GITHUB_SIGN_IN_METHOD,accessToken:C})}static credentialFromResult(C){return w.credentialFromTaggedObject(C)}static credentialFromError(C){return w.credentialFromTaggedObject(C.customData||{})}static credentialFromTaggedObject({_tokenResponse:C}){if(!C||!("oauthAccessToken"in C)||!C.oauthAccessToken)return null;try{return w.credential(C.oauthAccessToken)}catch(E){return null}}}return w.GITHUB_SIGN_IN_METHOD="github.com",w.PROVIDER_ID="github.com",w})();class H2 extends yr{constructor(y,C){super(y,y),this.pendingToken=C}_getIdTokenResponse(y){return wi(y,this.buildRequest())}_linkToIdToken(y,C){const E=this.buildRequest();return E.idToken=C,wi(y,E)}_getReauthenticationResolver(y){const C=this.buildRequest();return C.autoCreate=!1,wi(y,C)}toJSON(){return{signInMethod:this.signInMethod,providerId:this.providerId,pendingToken:this.pendingToken}}static fromJSON(y){const C="string"==typeof y?JSON.parse(y):y,{providerId:E,signInMethod:z,pendingToken:$}=C;return E&&z&&$&&E===z?new H2(E,$):null}static _create(y,C){return new H2(y,C)}buildRequest(){return{requestUri:"http://localhost",returnSecureToken:!0,pendingToken:this.pendingToken}}}let F5=(()=>{class w extends Fo{constructor(){super("twitter.com")}static credential(C,E){return Cr._fromParams({providerId:w.PROVIDER_ID,signInMethod:w.TWITTER_SIGN_IN_METHOD,oauthToken:C,oauthTokenSecret:E})}static credentialFromResult(C){return w.credentialFromTaggedObject(C)}static credentialFromError(C){return w.credentialFromTaggedObject(C.customData||{})}static credentialFromTaggedObject({_tokenResponse:C}){if(!C)return null;const{oauthAccessToken:E,oauthTokenSecret:z}=C;if(!E||!z)return null;try{return w.credential(E,z)}catch($){return null}}}return w.TWITTER_SIGN_IN_METHOD="twitter.com",w.PROVIDER_ID="twitter.com",w})();function Qi(w,y){return w0.apply(this,arguments)}function w0(){return(w0=(0,m.Z)(function*(w,y){return Zn(w,"POST","/v1/accounts:signUp",ft(w,y))})).apply(this,arguments)}class d1{constructor(y){this.user=y.user,this.providerId=y.providerId,this._tokenResponse=y._tokenResponse,this.operationType=y.operationType}static _fromIdTokenResponse(y,C,E,z=!1){return(0,m.Z)(function*(){const $=yield ct._fromIdTokenResponse(y,E,z),_e=M0(E);return new d1({user:$,providerId:_e,_tokenResponse:E,operationType:C})})()}static _forOperation(y,C,E){return(0,m.Z)(function*(){yield y._updateTokensIfNecessary(E,!0);const z=M0(E);return new d1({user:y,providerId:z,_tokenResponse:E,operationType:C})})()}}function M0(w){return w.providerId?w.providerId:"phoneNumber"in w?"phone":null}function Al(){return(Al=(0,m.Z)(function*(w){var y;const C=jt(w);if(yield C._initializationPromise,null===(y=C.currentUser)||void 0===y?void 0:y.isAnonymous)return new d1({user:C.currentUser,providerId:null,operationType:"signIn"});const E=yield Qi(C,{returnSecureToken:!0}),z=yield d1._fromIdTokenResponse(C,"signIn",E,!0);return yield C._updateCurrentUser(z.user),z})).apply(this,arguments)}class E0 extends B.ZR{constructor(y,C,E,z){var $;super(C.code,C.message),this.operationType=E,this.user=z,this.name="FirebaseError",Object.setPrototypeOf(this,E0.prototype),this.appName=y.name,this.code=C.code,this.tenantId=null!==($=y.tenantId)&&void 0!==$?$:void 0,this.serverResponse=C.customData.serverResponse}static _fromErrorAndOperation(y,C,E,z){return new E0(y,C,E,z)}}function A0(w,y,C,E){return("reauthenticate"===y?C._getReauthenticationResolver(w):C._getIdTokenResponse(w)).catch($=>{throw"auth/multi-factor-auth-required"===$.code?E0._fromErrorAndOperation(w,$,y,E):$})}function Sl(w){return new Set(w.map(({providerId:y})=>y).filter(y=>!!y))}function B4(){return(B4=(0,m.Z)(function*(w,y){const C=(0,B.m9)(w);yield jo(!0,C,y);const{providerUserInfo:E}=yield X1(C.auth,{idToken:yield C.getIdToken(),deleteProvider:[y]}),z=Sl(E||[]);return C.providerData=C.providerData.filter($=>z.has($.providerId)),z.has("phone")||(C.phoneNumber=null),yield C.auth._persistUserIfCurrent(C),C})).apply(this,arguments)}function sr(w,y){return Bo.apply(this,arguments)}function Bo(){return(Bo=(0,m.Z)(function*(w,y,C=!1){const E=yield et(w,y._linkToIdToken(w.auth,yield w.getIdToken()),C);return d1._forOperation(w,"link",E)})).apply(this,arguments)}function jo(w,y,C){return F2.apply(this,arguments)}function F2(){return(F2=(0,m.Z)(function*(w,y,C){yield Jt(y);const z=!1===w?"provider-already-linked":"no-such-provider";le(Sl(y.providerData).has(C)===w,y.auth,z)})).apply(this,arguments)}function ks(w,y){return $o.apply(this,arguments)}function $o(){return($o=(0,m.Z)(function*(w,y,C=!1){const{auth:E}=w,z="reauthenticate";try{const $=yield et(w,A0(E,z,y,w),C);le($.idToken,E,"internal-error");const _e=qt($.idToken);le(_e,E,"internal-error");const{sub:Le}=_e;return le(w.uid===Le,E,"user-mismatch"),d1._forOperation(w,z,$)}catch($){throw"auth/user-not-found"===(null==$?void 0:$.code)&&ce(E,"user-mismatch"),$}})).apply(this,arguments)}function I0(w,y){return hn.apply(this,arguments)}function hn(){return(hn=(0,m.Z)(function*(w,y,C=!1){const E="signIn",z=yield A0(w,E,y),$=yield d1._fromIdTokenResponse(w,E,z);return C||(yield w._updateCurrentUser($.user)),$})).apply(this,arguments)}function D0(w,y){return T0.apply(this,arguments)}function T0(){return(T0=(0,m.Z)(function*(w,y){return I0(jt(w),y)})).apply(this,arguments)}function Il(w,y){return fn.apply(this,arguments)}function fn(){return(fn=(0,m.Z)(function*(w,y){const C=(0,B.m9)(w);return yield jo(!1,C,y.providerId),sr(C,y)})).apply(this,arguments)}function Dl(w,y){return Tl.apply(this,arguments)}function Tl(){return(Tl=(0,m.Z)(function*(w,y){return ks((0,B.m9)(w),y)})).apply(this,arguments)}function N0(w,y){return or.apply(this,arguments)}function or(){return(or=(0,m.Z)(function*(w,y){return Zn(w,"POST","/v1/accounts:signInWithCustomToken",ft(w,y))})).apply(this,arguments)}function Ji(){return(Ji=(0,m.Z)(function*(w,y){const C=jt(w),E=yield N0(C,{token:y,returnSecureToken:!0}),z=yield d1._fromIdTokenResponse(C,"signIn",E);return yield C._updateCurrentUser(z.user),z})).apply(this,arguments)}class Xi{constructor(y,C){this.factorId=y,this.uid=C.mfaEnrollmentId,this.enrollmentTime=new Date(C.enrolledAt).toUTCString(),this.displayName=C.displayName}static _fromServerResponse(y,C){return"phoneInfo"in C?E1._fromServerResponse(y,C):ce(y,"internal-error")}}class E1 extends Xi{constructor(y){super("phone",y),this.phoneNumber=y.phoneInfo}static _fromServerResponse(y,C){return new E1(C)}}function Go(w,y,C){var E;le((null===(E=C.url)||void 0===E?void 0:E.length)>0,w,"invalid-continue-uri"),le(void 0===C.dynamicLinkDomain||C.dynamicLinkDomain.length>0,w,"invalid-dynamic-link-domain"),y.continueUrl=C.url,y.dynamicLinkDomain=C.dynamicLinkDomain,y.canHandleCodeInApp=C.handleCodeInApp,C.iOS&&(le(C.iOS.bundleId.length>0,w,"missing-ios-bundle-id"),y.iosBundleId=C.iOS.bundleId),C.android&&(le(C.android.packageName.length>0,w,"missing-android-pkg-name"),y.androidInstallApp=C.android.installApp,y.androidMinimumVersionCode=C.android.minimumVersion,y.androidPackageName=C.android.packageName)}function z0(){return(z0=(0,m.Z)(function*(w,y,C){const E=(0,B.m9)(w),z={requestType:"PASSWORD_RESET",email:y};C&&Go(E,z,C),yield rr(E,z)})).apply(this,arguments)}function L0(){return(L0=(0,m.Z)(function*(w,y,C){yield Tn((0,B.m9)(w),{oobCode:y,newPassword:C})})).apply(this,arguments)}function Ct(){return(Ct=(0,m.Z)(function*(w,y){yield ko((0,B.m9)(w),{oobCode:y})})).apply(this,arguments)}function U5(w,y){return U2.apply(this,arguments)}function U2(){return(U2=(0,m.Z)(function*(w,y){const C=(0,B.m9)(w),E=yield Tn(C,{oobCode:y}),z=E.requestType;switch(le(z,C,"internal-error"),z){case"EMAIL_SIGNIN":break;case"VERIFY_AND_CHANGE_EMAIL":le(E.newEmail,C,"internal-error");break;case"REVERT_SECOND_FACTOR_ADDITION":le(E.mfaInfo,C,"internal-error");default:le(E.email,C,"internal-error")}let $=null;return E.mfaInfo&&($=Xi._fromServerResponse(jt(C),E.mfaInfo)),{data:{email:("VERIFY_AND_CHANGE_EMAIL"===E.requestType?E.newEmail:E.email)||null,previousEmail:("VERIFY_AND_CHANGE_EMAIL"===E.requestType?E.email:E.newEmail)||null,multiFactorInfo:$},operation:z}})).apply(this,arguments)}function Wo(){return(Wo=(0,m.Z)(function*(w,y){const{data:C}=yield U5((0,B.m9)(w),y);return C.email})).apply(this,arguments)}function B2(){return(B2=(0,m.Z)(function*(w,y,C){const E=jt(w),z=yield Qi(E,{returnSecureToken:!0,email:y,password:C}),$=yield d1._fromIdTokenResponse(E,"signIn",z);return yield E._updateCurrentUser($.user),$})).apply(this,arguments)}function Lt(){return(Lt=(0,m.Z)(function*(w,y,C){const E=(0,B.m9)(w),z={requestType:"EMAIL_SIGNIN",email:y};le(C.handleCodeInApp,E,"argument-error"),C&&Go(E,z,C),yield tn(E,z)})).apply(this,arguments)}function R0(){return(R0=(0,m.Z)(function*(w,y,C){const E=(0,B.m9)(w),z=Ml.credentialWithLink(y,C||ie());return le(z._tenantId===(E.tenantId||null),E,"tenant-id-mismatch"),D0(E,z)})).apply(this,arguments)}function Zo(w,y){return xr.apply(this,arguments)}function xr(){return(xr=(0,m.Z)(function*(w,y){return ut(w,"POST","/v1/accounts:createAuthUri",ft(w,y))})).apply(this,arguments)}function t2(){return(t2=(0,m.Z)(function*(w,y){const E={identifier:y,continueUri:ue()?ie():"http://localhost"},{signinMethods:z}=yield Zo((0,B.m9)(w),E);return z||[]})).apply(this,arguments)}function zl(){return(zl=(0,m.Z)(function*(w,y){const C=(0,B.m9)(w),z={requestType:"VERIFY_EMAIL",idToken:yield w.getIdToken()};y&&Go(C.auth,z,y);const{email:$}=yield M1(C.auth,z);$!==w.email&&(yield w.reload())})).apply(this,arguments)}function n2(){return(n2=(0,m.Z)(function*(w,y,C){const E=(0,B.m9)(w),$={requestType:"VERIFY_AND_CHANGE_EMAIL",idToken:yield w.getIdToken(),newEmail:y};C&&Go(E.auth,$,C);const{email:_e}=yield R4(E.auth,$);_e!==w.email&&(yield w.reload())})).apply(this,arguments)}function F1(w,y){return br.apply(this,arguments)}function br(){return(br=(0,m.Z)(function*(w,y){return ut(w,"POST","/v1/accounts:update",y)})).apply(this,arguments)}function r2(){return(r2=(0,m.Z)(function*(w,{displayName:y,photoURL:C}){if(void 0===y&&void 0===C)return;const E=(0,B.m9)(w),$={idToken:yield E.getIdToken(),displayName:y,photoUrl:C,returnSecureToken:!0},_e=yield et(E,F1(E.auth,$));E.displayName=_e.displayName||null,E.photoURL=_e.photoUrl||null;const Le=E.providerData.find(({providerId:qe})=>"password"===qe);Le&&(Le.displayName=E.displayName,Le.photoURL=E.photoURL),yield E._updateTokensIfNecessary(_e)})).apply(this,arguments)}function K4(w,y,C){return qo.apply(this,arguments)}function qo(){return(qo=(0,m.Z)(function*(w,y,C){const{auth:E}=w,$={idToken:yield w.getIdToken(),returnSecureToken:!0};y&&($.email=y),C&&($.password=C);const _e=yield et(w,Cn(E,$));yield w._updateTokensIfNecessary(_e,!0)})).apply(this,arguments)}class i2{constructor(y,C,E={}){this.isNewUser=y,this.providerId=C,this.profile=E}}class k0 extends i2{constructor(y,C,E,z){super(y,C,E),this.username=z}}class Vl extends i2{constructor(y,C){super(y,"facebook.com",C)}}class Rl extends k0{constructor(y,C){super(y,"github.com",C,"string"==typeof(null==C?void 0:C.login)?null==C?void 0:C.login:null)}}class $5 extends i2{constructor(y,C){super(y,"google.com",C)}}class G5 extends k0{constructor(y,C,E){super(y,"twitter.com",C,E)}}function Ko(w){const{user:y,_tokenResponse:C}=w;return y.isAnonymous&&!C?{providerId:null,isNewUser:!1,profile:null}:function(w){var y,C;if(!w)return null;const{providerId:E}=w,z=w.rawUserInfo?JSON.parse(w.rawUserInfo):{},$=w.isNewUser||"identitytoolkit#SignupNewUserResponse"===w.kind;if(!E&&(null==w?void 0:w.idToken)){const _e=null===(C=null===(y=qt(w.idToken))||void 0===y?void 0:y.firebase)||void 0===C?void 0:C.sign_in_provider;if(_e)return new i2($,"anonymous"!==_e&&"custom"!==_e?_e:null)}if(!E)return null;switch(E){case"facebook.com":return new Vl($,z);case"github.com":return new Rl($,z);case"google.com":return new $5($,z);case"twitter.com":return new G5($,z,w.screenName||null);case"custom":case"anonymous":return new i2($,null);default:return new i2($,E,z)}}(C)}class U1{constructor(y,C){this.type=y,this.credential=C}static _fromIdtoken(y){return new U1("enroll",y)}static _fromMfaPendingCredential(y){return new U1("signin",y)}toJSON(){return{multiFactorSession:{["enroll"===this.type?"idToken":"pendingCredential"]:this.credential}}}static fromJSON(y){var C,E;if(null==y?void 0:y.multiFactorSession){if(null===(C=y.multiFactorSession)||void 0===C?void 0:C.pendingCredential)return U1._fromMfaPendingCredential(y.multiFactorSession.pendingCredential);if(null===(E=y.multiFactorSession)||void 0===E?void 0:E.idToken)return U1._fromIdtoken(y.multiFactorSession.idToken)}return null}}class dn{constructor(y,C,E){this.session=y,this.hints=C,this.signInResolver=E}static _fromError(y,C){const E=jt(y),z=(C.serverResponse.mfaInfo||[]).map(_e=>Xi._fromServerResponse(E,_e));le(C.serverResponse.mfaPendingCredential,E,"internal-error");const $=U1._fromMfaPendingCredential(C.serverResponse.mfaPendingCredential);return new dn($,z,function(){var _e=(0,m.Z)(function*(Le){const qe=yield Le._process(E,$);delete C.serverResponse.mfaInfo,delete C.serverResponse.mfaPendingCredential;const at=Object.assign(Object.assign({},C.serverResponse),{idToken:qe.idToken,refreshToken:qe.refreshToken});switch(C.operationType){case"signIn":const Mt=yield d1._fromIdTokenResponse(E,C.operationType,at);return yield E._updateCurrentUser(Mt.user),Mt;case"reauthenticate":return le(C.user,E,"internal-error"),d1._forOperation(C.user,C.operationType,at);default:ce(E,"internal-error")}});return function(Le){return _e.apply(this,arguments)}}())}resolveSignIn(y){var C=this;return(0,m.Z)(function*(){return C.signInResolver(y)})()}}function q5(w,y){return ut(w,"POST","/v2/accounts/mfaEnrollment:start",Object.assign({tenantId:w.tenantId},y))}class Q4{constructor(y){this.user=y,this.enrolledFactors=[],y._onReload(C=>{C.mfaInfo&&(this.enrolledFactors=C.mfaInfo.map(E=>Xi._fromServerResponse(y.auth,E)))})}static _fromUser(y){return new Q4(y)}getSession(){var y=this;return(0,m.Z)(function*(){return U1._fromIdtoken(yield y.user.getIdToken())})()}enroll(y,C){var E=this;return(0,m.Z)(function*(){const z=y,$=yield E.getSession(),_e=yield et(E.user,z._process(E.user.auth,$,C));return yield E.user._updateTokensIfNecessary(_e),E.user.reload()})()}unenroll(y){var C=this;return(0,m.Z)(function*(){const E="string"==typeof y?y:y.uid,z=yield C.user.getIdToken(),$=yield et(C.user,function(w,y){return ut(w,"POST","/v2/accounts/mfaEnrollment:withdraw",Object.assign({tenantId:w.tenantId},y))}(C.user.auth,{idToken:z,mfaEnrollmentId:E}));C.enrolledFactors=C.enrolledFactors.filter(({uid:_e})=>_e!==E),yield C.user._updateTokensIfNecessary($);try{yield C.user.reload()}catch(_e){if("auth/user-token-expired"!==_e.code)throw _e}})()}}const J4=new WeakMap,$2="__sak";class P0{constructor(y,C){this.storage=y,this.type=C}_isAvailable(){try{return this.storage?(this.storage.setItem($2,"1"),this.storage.removeItem($2),Promise.resolve(!0)):Promise.resolve(!1)}catch(y){return Promise.resolve(!1)}}_set(y,C){return this.storage.setItem(y,JSON.stringify(C)),Promise.resolve()}_get(y){const C=this.storage.getItem(y);return Promise.resolve(C?JSON.parse(C):null)}_remove(y){return this.storage.removeItem(y),Promise.resolve()}}const s2=(()=>{class w extends P0{constructor(){super(window.localStorage,"LOCAL"),this.listeners={},this.localCache={},this.pollTimer=null,this.safariLocalStorageNotSynced=function(){const w=(0,B.z$)();return Or(w)||xi(w)}()&&function(){try{return!(!window||window===window.top)}catch(w){return!1}}(),this.fallbackToPolling=V4(),this._shouldAllowMigration=!0,this.boundEventHandler=this.onStorageEvent.bind(this)}forAllChangedKeys(C){for(const E of Object.keys(this.listeners)){const z=this.storage.getItem(E),$=this.localCache[E];z!==$&&C(E,$,z)}}onStorageEvent(C,E=!1){if(!C.key)return void this.forAllChangedKeys((Le,qe,at)=>{this.notifyListeners(Le,at)});const z=C.key;if(E?this.detachListener():this.stopPolling(),this.safariLocalStorageNotSynced){const Le=this.storage.getItem(z);if(C.newValue!==Le)null!==C.newValue?this.storage.setItem(z,C.newValue):this.storage.removeItem(z);else if(this.localCache[z]===C.newValue&&!E)return}const $=()=>{const Le=this.storage.getItem(z);!E&&this.localCache[z]===Le||this.notifyListeners(z,Le)},_e=this.storage.getItem(z);(0,B.w1)()&&10===document.documentMode&&_e!==C.newValue&&C.newValue!==C.oldValue?setTimeout($,10):$()}notifyListeners(C,E){this.localCache[C]=E;const z=this.listeners[C];if(z)for(const $ of Array.from(z))$(E&&JSON.parse(E))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((C,E,z)=>{this.onStorageEvent(new StorageEvent("storage",{key:C,oldValue:E,newValue:z}),!0)})},1e3)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(C,E){0===Object.keys(this.listeners).length&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[C]||(this.listeners[C]=new Set,this.localCache[C]=this.storage.getItem(C)),this.listeners[C].add(E)}_removeListener(C,E){this.listeners[C]&&(this.listeners[C].delete(E),0===this.listeners[C].size&&delete this.listeners[C]),0===Object.keys(this.listeners).length&&(this.detachListener(),this.stopPolling())}_set(C,E){var z=()=>super._set,$=this;return(0,m.Z)(function*(){yield z().call($,C,E),$.localCache[C]=JSON.stringify(E)})()}_get(C){var E=()=>super._get,z=this;return(0,m.Z)(function*(){const $=yield E().call(z,C);return z.localCache[C]=JSON.stringify($),$})()}_remove(C){var E=()=>super._remove,z=this;return(0,m.Z)(function*(){yield E().call(z,C),delete z.localCache[C]})()}}return w.type="LOCAL",w})(),o2=(()=>{class w extends P0{constructor(){super(window.sessionStorage,"SESSION")}_addListener(C,E){}_removeListener(C,E){}}return w.type="SESSION",w})();let Fl=(()=>{class w{constructor(C){this.eventTarget=C,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(C){const E=this.receivers.find($=>$.isListeningto(C));if(E)return E;const z=new w(C);return this.receivers.push(z),z}isListeningto(C){return this.eventTarget===C}handleEvent(C){var E=this;return(0,m.Z)(function*(){const z=C,{eventId:$,eventType:_e,data:Le}=z.data,qe=E.handlersMap[_e];if(!(null==qe?void 0:qe.size))return;z.ports[0].postMessage({status:"ack",eventId:$,eventType:_e});const at=Array.from(qe).map(function(){var pt=(0,m.Z)(function*(Kn){return Kn(z.origin,Le)});return function(Kn){return pt.apply(this,arguments)}}()),Mt=yield function(w){return Promise.all(w.map(function(){var y=(0,m.Z)(function*(C){try{return{fulfilled:!0,value:yield C}}catch(E){return{fulfilled:!1,reason:E}}});return function(C){return y.apply(this,arguments)}}()))}(at);z.ports[0].postMessage({status:"done",eventId:$,eventType:_e,response:Mt})})()}_subscribe(C,E){0===Object.keys(this.handlersMap).length&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[C]||(this.handlersMap[C]=new Set),this.handlersMap[C].add(E)}_unsubscribe(C,E){this.handlersMap[C]&&E&&this.handlersMap[C].delete(E),(!E||0===this.handlersMap[C].size)&&delete this.handlersMap[C],0===Object.keys(this.handlersMap).length&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}return w.receivers=[],w})();function Yo(w="",y=10){let C="";for(let E=0;E<y;E++)C+=Math.floor(10*Math.random());return w+C}class a2{constructor(y){this.target=y,this.handlers=new Set}removeMessageHandler(y){y.messageChannel&&(y.messageChannel.port1.removeEventListener("message",y.onMessage),y.messageChannel.port1.close()),this.handlers.delete(y)}_send(y,C,E=50){var z=this;return(0,m.Z)(function*(){const $="undefined"!=typeof MessageChannel?new MessageChannel:null;if(!$)throw new Error("connection_unavailable");let _e,Le;return new Promise((qe,at)=>{const Mt=Yo("",20);$.port1.start();const pt=setTimeout(()=>{at(new Error("unsupported_event"))},E);Le={messageChannel:$,onMessage(Kn){const Zr=Kn;if(Zr.data.eventId===Mt)switch(Zr.data.status){case"ack":clearTimeout(pt),_e=setTimeout(()=>{at(new Error("timeout"))},3e3);break;case"done":clearTimeout(_e),qe(Zr.data.response);break;default:clearTimeout(pt),clearTimeout(_e),at(new Error("invalid_response"))}}},z.handlers.add(Le),$.port1.addEventListener("message",Le.onMessage),z.target.postMessage({eventType:y,eventId:Mt,data:C},[$.port2])}).finally(()=>{Le&&z.removeMessageHandler(Le)})})()}}function qn(){return window}function c2(){return void 0!==qn().WorkerGlobalScope&&"function"==typeof qn().importScripts}function F0(){return(F0=(0,m.Z)(function*(){if(!(null==navigator?void 0:navigator.serviceWorker))return null;try{return(yield navigator.serviceWorker.ready).active}catch(w){return null}})).apply(this,arguments)}const t6="firebaseLocalStorageDb",U0="firebaseLocalStorage",Ps="fbase_key";class Hs{constructor(y){this.request=y}toPromise(){return new Promise((y,C)=>{this.request.addEventListener("success",()=>{y(this.request.result)}),this.request.addEventListener("error",()=>{C(this.request.error)})})}}function Fs(w,y){return w.transaction([U0],y?"readwrite":"readonly").objectStore(U0)}function n6(){const w=indexedDB.open(t6,1);return new Promise((y,C)=>{w.addEventListener("error",()=>{C(w.error)}),w.addEventListener("upgradeneeded",()=>{const E=w.result;try{E.createObjectStore(U0,{keyPath:Ps})}catch(z){C(z)}}),w.addEventListener("success",(0,m.Z)(function*(){const E=w.result;E.objectStoreNames.contains(U0)?y(E):(E.close(),yield function(){const w=indexedDB.deleteDatabase(t6);return new Hs(w).toPromise()}(),y(yield n6()))}))})}function dt(w,y,C){return A1.apply(this,arguments)}function A1(){return(A1=(0,m.Z)(function*(w,y,C){const E=Fs(w,!0).put({[Ps]:y,value:C});return new Hs(E).toPromise()})).apply(this,arguments)}function wr(){return(wr=(0,m.Z)(function*(w,y){const C=Fs(w,!1).get(y),E=yield new Hs(C).toPromise();return void 0===E?null:E.value})).apply(this,arguments)}function B1(w,y){const C=Fs(w,!0).delete(y);return new Hs(C).toPromise()}const vt=(()=>{class w{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}_openDb(){var C=this;return(0,m.Z)(function*(){return C.db||(C.db=yield n6()),C.db})()}_withRetries(C){var E=this;return(0,m.Z)(function*(){let z=0;for(;;)try{const $=yield E._openDb();return yield C($)}catch($){if(z++>3)throw $;E.db&&(E.db.close(),E.db=void 0)}})()}initializeServiceWorkerMessaging(){var C=this;return(0,m.Z)(function*(){return c2()?C.initializeReceiver():C.initializeSender()})()}initializeReceiver(){var C=this;return(0,m.Z)(function*(){C.receiver=Fl._getInstance(c2()?self:null),C.receiver._subscribe("keyChanged",function(){var E=(0,m.Z)(function*(z,$){return{keyProcessed:(yield C._poll()).includes($.key)}});return function(z,$){return E.apply(this,arguments)}}()),C.receiver._subscribe("ping",function(){var E=(0,m.Z)(function*(z,$){return["keyChanged"]});return function(z,$){return E.apply(this,arguments)}}())})()}initializeSender(){var C=this;return(0,m.Z)(function*(){var E,z;if(C.activeServiceWorker=yield function(){return F0.apply(this,arguments)}(),!C.activeServiceWorker)return;C.sender=new a2(C.activeServiceWorker);const $=yield C.sender._send("ping",{},800);!$||(null===(E=$[0])||void 0===E?void 0:E.fulfilled)&&(null===(z=$[0])||void 0===z?void 0:z.value.includes("keyChanged"))&&(C.serviceWorkerReceiverAvailable=!0)})()}notifyServiceWorker(C){var E=this;return(0,m.Z)(function*(){if(E.sender&&E.activeServiceWorker&&function(){var w;return(null===(w=null==navigator?void 0:navigator.serviceWorker)||void 0===w?void 0:w.controller)||null}()===E.activeServiceWorker)try{yield E.sender._send("keyChanged",{key:C},E.serviceWorkerReceiverAvailable?800:50)}catch(z){}})()}_isAvailable(){return(0,m.Z)(function*(){try{if(!indexedDB)return!1;const C=yield n6();return yield dt(C,$2,"1"),yield B1(C,$2),!0}catch(C){}return!1})()}_withPendingWrite(C){var E=this;return(0,m.Z)(function*(){E.pendingWrites++;try{yield C()}finally{E.pendingWrites--}})()}_set(C,E){var z=this;return(0,m.Z)(function*(){return z._withPendingWrite((0,m.Z)(function*(){return yield z._withRetries($=>dt($,C,E)),z.localCache[C]=E,z.notifyServiceWorker(C)}))})()}_get(C){var E=this;return(0,m.Z)(function*(){const z=yield E._withRetries($=>function(w,y){return wr.apply(this,arguments)}($,C));return E.localCache[C]=z,z})()}_remove(C){var E=this;return(0,m.Z)(function*(){return E._withPendingWrite((0,m.Z)(function*(){return yield E._withRetries(z=>B1(z,C)),delete E.localCache[C],E.notifyServiceWorker(C)}))})()}_poll(){var C=this;return(0,m.Z)(function*(){const E=yield C._withRetries(_e=>{const Le=Fs(_e,!1).getAll();return new Hs(Le).toPromise()});if(!E)return[];if(0!==C.pendingWrites)return[];const z=[],$=new Set;for(const{fbase_key:_e,value:Le}of E)$.add(_e),JSON.stringify(C.localCache[_e])!==JSON.stringify(Le)&&(C.notifyListeners(_e,Le),z.push(_e));for(const _e of Object.keys(C.localCache))C.localCache[_e]&&!$.has(_e)&&(C.notifyListeners(_e,null),z.push(_e));return z})()}notifyListeners(C,E){this.localCache[C]=E;const z=this.listeners[C];if(z)for(const $ of Array.from(z))$(E)}startPolling(){var C=this;this.stopPolling(),this.pollTimer=setInterval((0,m.Z)(function*(){return C._poll()}),800)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(C,E){0===Object.keys(this.listeners).length&&this.startPolling(),this.listeners[C]||(this.listeners[C]=new Set,this._get(C)),this.listeners[C].add(E)}_removeListener(C,E){this.listeners[C]&&(this.listeners[C].delete(E),0===this.listeners[C].size&&delete this.listeners[C]),0===Object.keys(this.listeners).length&&this.stopPolling()}}return w.type="LOCAL",w})();function i6(w,y){return ut(w,"POST","/v2/accounts/mfaSignIn:start",Object.assign({tenantId:w.tenantId},y))}function j0(){return(j0=(0,m.Z)(function*(w){return(yield ut(w,"GET","/v1/recaptchaParams")).recaptchaSiteKey||""})).apply(this,arguments)}function Ul(w){return new Promise((y,C)=>{const E=document.createElement("script");E.setAttribute("src",w),E.onload=y,E.onerror=z=>{const $=ye("internal-error");$.customData=z,C($)},E.type="text/javascript",E.charset="UTF-8",function(){var w,y;return null!==(y=null===(w=document.getElementsByTagName("head"))||void 0===w?void 0:w[0])&&void 0!==y?y:document}().appendChild(E)})}function Jo(w){return`__${w}${Math.floor(1e6*Math.random())}`}const Er=1e12;class X5{constructor(y){this.auth=y,this.counter=Er,this._widgets=new Map}render(y,C){const E=this.counter;return this._widgets.set(E,new Bs(y,this.auth.name,C||{})),this.counter++,E}reset(y){var C;const E=y||Er;null===(C=this._widgets.get(E))||void 0===C||C.delete(),this._widgets.delete(E)}getResponse(y){var C;return(null===(C=this._widgets.get(y||Er))||void 0===C?void 0:C.getResponse())||""}execute(y){var C=this;return(0,m.Z)(function*(){var E;return null===(E=C._widgets.get(y||Er))||void 0===E||E.execute(),""})()}}class Bs{constructor(y,C,E){this.params=E,this.timerId=null,this.deleted=!1,this.responseToken=null,this.clickHandler=()=>{this.execute()};const z="string"==typeof y?document.getElementById(y):y;le(z,"argument-error",{appName:C}),this.container=z,this.isVisible="invisible"!==this.params.size,this.isVisible?this.execute():this.container.addEventListener("click",this.clickHandler)}getResponse(){return this.checkIfDeleted(),this.responseToken}delete(){this.checkIfDeleted(),this.deleted=!0,this.timerId&&(clearTimeout(this.timerId),this.timerId=null),this.container.removeEventListener("click",this.clickHandler)}execute(){this.checkIfDeleted(),!this.timerId&&(this.timerId=window.setTimeout(()=>{this.responseToken=function(w){const y=[],C="1234567890abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ";for(let E=0;E<50;E++)y.push(C.charAt(Math.floor(Math.random()*C.length)));return y.join("")}();const{callback:y,"expired-callback":C}=this.params;if(y)try{y(this.responseToken)}catch(E){}this.timerId=window.setTimeout(()=>{if(this.timerId=null,this.responseToken=null,C)try{C()}catch(E){}this.isVisible&&this.execute()},6e4)},500))}checkIfDeleted(){if(this.deleted)throw new Error("reCAPTCHA mock was already deleted!")}}const js=Jo("rcb"),$0=new Me(3e4,6e4);class $s{constructor(){this.hostLanguage="",this.counter=0,this.librarySeparatelyLoaded=!!qn().grecaptcha}load(y,C=""){return le((w=C).length<=6&&/^\s*[a-zA-Z0-9\-]*\s*$/.test(w),y,"argument-error"),this.shouldResolveImmediately(C)?Promise.resolve(qn().grecaptcha):new Promise((E,z)=>{const $=qn().setTimeout(()=>{z(ye(y,"network-request-failed"))},$0.get());qn()[js]=()=>{qn().clearTimeout($),delete qn()[js];const Le=qn().grecaptcha;if(!Le)return void z(ye(y,"internal-error"));const qe=Le.render;Le.render=(at,Mt)=>{const pt=qe(at,Mt);return this.counter++,pt},this.hostLanguage=C,E(Le)},Ul(`https://www.google.com/recaptcha/api.js??${(0,B.xO)({onload:js,render:"explicit",hl:C})}`).catch(()=>{clearTimeout($),z(ye(y,"internal-error"))})});var w}clearedOneInstance(){this.counter--}shouldResolveImmediately(y){return!!qn().grecaptcha&&(y===this.hostLanguage||this.counter>0||this.librarySeparatelyLoaded)}}class pn{load(y){return(0,m.Z)(function*(){return new X5(y)})()}clearedOneInstance(){}}const Gs="recaptcha",Ei={theme:"light",type:"image"};class o6{constructor(y,C=Object.assign({},Ei),E){this.parameters=C,this.type=Gs,this.destroyed=!1,this.widgetId=null,this.tokenChangeListeners=new Set,this.renderPromise=null,this.recaptcha=null,this.auth=jt(E),this.isInvisible="invisible"===this.parameters.size,le("undefined"!=typeof document,this.auth,"operation-not-supported-in-this-environment");const z="string"==typeof y?document.getElementById(y):y;le(z,this.auth,"argument-error"),this.container=z,this.parameters.callback=this.makeTokenCallback(this.parameters.callback),this._recaptchaLoader=this.auth.settings.appVerificationDisabledForTesting?new pn:new $s,this.validateStartingState()}verify(){var y=this;return(0,m.Z)(function*(){y.assertNotDestroyed();const C=yield y.render(),E=y.getAssertedRecaptcha();return E.getResponse(C)||new Promise($=>{const _e=Le=>{!Le||(y.tokenChangeListeners.delete(_e),$(Le))};y.tokenChangeListeners.add(_e),y.isInvisible&&E.execute(C)})})()}render(){try{this.assertNotDestroyed()}catch(y){return Promise.reject(y)}return this.renderPromise||(this.renderPromise=this.makeRenderPromise().catch(y=>{throw this.renderPromise=null,y})),this.renderPromise}_reset(){this.assertNotDestroyed(),null!==this.widgetId&&this.getAssertedRecaptcha().reset(this.widgetId)}clear(){this.assertNotDestroyed(),this.destroyed=!0,this._recaptchaLoader.clearedOneInstance(),this.isInvisible||this.container.childNodes.forEach(y=>{this.container.removeChild(y)})}validateStartingState(){le(!this.parameters.sitekey,this.auth,"argument-error"),le(this.isInvisible||!this.container.hasChildNodes(),this.auth,"argument-error"),le("undefined"!=typeof document,this.auth,"operation-not-supported-in-this-environment")}makeTokenCallback(y){return C=>{if(this.tokenChangeListeners.forEach(E=>E(C)),"function"==typeof y)y(C);else if("string"==typeof y){const E=qn()[y];"function"==typeof E&&E(C)}}}assertNotDestroyed(){le(!this.destroyed,this.auth,"internal-error")}makeRenderPromise(){var y=this;return(0,m.Z)(function*(){if(yield y.init(),!y.widgetId){let C=y.container;if(!y.isInvisible){const E=document.createElement("div");C.appendChild(E),C=E}y.widgetId=y.getAssertedRecaptcha().render(C,y.parameters)}return y.widgetId})()}init(){var y=this;return(0,m.Z)(function*(){le(ue()&&!c2(),y.auth,"internal-error"),yield function(){let w=null;return new Promise(y=>{"complete"!==document.readyState?(w=()=>y(),window.addEventListener("load",w)):y()}).catch(y=>{throw w&&window.removeEventListener("load",w),y})}(),y.recaptcha=yield y._recaptchaLoader.load(y.auth,y.auth.languageCode||void 0);const C=yield function(w){return j0.apply(this,arguments)}(y.auth);le(C,y.auth,"internal-error"),y.parameters.sitekey=C})()}getAssertedRecaptcha(){return le(this.recaptcha,this.auth,"internal-error"),this.recaptcha}}class Xo{constructor(y,C){this.verificationId=y,this.onConfirmation=C}confirm(y){const C=Rs._fromVerification(this.verificationId,y);return this.onConfirmation(C)}}function G0(){return(G0=(0,m.Z)(function*(w,y,C){const E=jt(w),z=yield $l(E,y,(0,B.m9)(C));return new Xo(z,$=>D0(E,$))})).apply(this,arguments)}function a6(){return(a6=(0,m.Z)(function*(w,y,C){const E=(0,B.m9)(w);yield jo(!1,E,"phone");const z=yield $l(E.auth,y,(0,B.m9)(C));return new Xo(z,$=>Il(E,$))})).apply(this,arguments)}function rh(){return(rh=(0,m.Z)(function*(w,y,C){const E=(0,B.m9)(w),z=yield $l(E.auth,y,(0,B.m9)(C));return new Xo(z,$=>Dl(E,$))})).apply(this,arguments)}function $l(w,y,C){return ih.apply(this,arguments)}function ih(){return(ih=(0,m.Z)(function*(w,y,C){var E;const z=yield C.verify();try{let $;if(le("string"==typeof z,w,"argument-error"),le(C.type===Gs,w,"argument-error"),$="string"==typeof y?{phoneNumber:y}:y,"session"in $){const _e=$.session;if("phoneNumber"in $)return le("enroll"===_e.type,w,"internal-error"),(yield q5(w,{idToken:_e.credential,phoneEnrollmentInfo:{phoneNumber:$.phoneNumber,recaptchaToken:z}})).phoneSessionInfo.sessionInfo;{le("signin"===_e.type,w,"internal-error");const Le=(null===(E=$.multiFactorHint)||void 0===E?void 0:E.uid)||$.multiFactorUid;return le(Le,w,"missing-multi-factor-info"),(yield i6(w,{mfaPendingCredential:_e.credential,mfaEnrollmentId:Le,phoneSignInInfo:{recaptchaToken:z}})).phoneResponseInfo.sessionInfo}}{const{sessionInfo:_e}=yield C0(w,{phoneNumber:$.phoneNumber,recaptchaToken:z});return _e}}finally{C._reset()}})).apply(this,arguments)}function sh(){return(sh=(0,m.Z)(function*(w,y){yield sr((0,B.m9)(w),y)})).apply(this,arguments)}let c6=(()=>{class w{constructor(C){this.providerId=w.PROVIDER_ID,this.auth=jt(C)}verifyPhoneNumber(C,E){return $l(this.auth,C,(0,B.m9)(E))}static credential(C,E){return Rs._fromVerification(C,E)}static credentialFromResult(C){return w.credentialFromTaggedObject(C)}static credentialFromError(C){return w.credentialFromTaggedObject(C.customData||{})}static credentialFromTaggedObject({_tokenResponse:C}){if(!C)return null;const{phoneNumber:E,temporaryProof:z}=C;return E&&z?Rs._fromTokenResponse(E,z):null}}return w.PROVIDER_ID="phone",w.PHONE_SIGN_IN_METHOD="phone",w})();function Ws(w,y){return y?ee(y):(le(w._popupRedirectResolver,w,"argument-error"),w._popupRedirectResolver)}class Gl extends yr{constructor(y){super("custom","custom"),this.params=y}_getIdTokenResponse(y){return wi(y,this._buildIdpRequest())}_linkToIdToken(y,C){return wi(y,this._buildIdpRequest(C))}_getReauthenticationResolver(y){return wi(y,this._buildIdpRequest())}_buildIdpRequest(y){const C={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return y&&(C.idToken=y),C}}function oh(w){return I0(w.auth,new Gl(w),w.bypassAuthState)}function Z2(w){const{auth:y,user:C}=w;return le(C,y,"internal-error"),ks(C,new Gl(w),w.bypassAuthState)}function Wl(w){return Mn.apply(this,arguments)}function Mn(){return(Mn=(0,m.Z)(function*(w){const{auth:y,user:C}=w;return le(C,y,"internal-error"),sr(C,new Gl(w),w.bypassAuthState)})).apply(this,arguments)}class ea{constructor(y,C,E,z,$=!1){this.auth=y,this.resolver=E,this.user=z,this.bypassAuthState=$,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(C)?C:[C]}execute(){var y=this;return new Promise(function(){var C=(0,m.Z)(function*(E,z){y.pendingPromise={resolve:E,reject:z};try{y.eventManager=yield y.resolver._initialize(y.auth),yield y.onExecution(),y.eventManager.registerConsumer(y)}catch($){y.reject($)}});return function(E,z){return C.apply(this,arguments)}}())}onAuthEvent(y){var C=this;return(0,m.Z)(function*(){const{urlResponse:E,sessionId:z,postBody:$,tenantId:_e,error:Le,type:qe}=y;if(Le)return void C.reject(Le);const at={auth:C.auth,requestUri:E,sessionId:z,tenantId:_e||void 0,postBody:$||void 0,user:C.user,bypassAuthState:C.bypassAuthState};try{C.resolve(yield C.getIdpTask(qe)(at))}catch(Mt){C.reject(Mt)}})()}onError(y){this.reject(y)}getIdpTask(y){switch(y){case"signInViaPopup":case"signInViaRedirect":return oh;case"linkViaPopup":case"linkViaRedirect":return Wl;case"reauthViaPopup":case"reauthViaRedirect":return Z2;default:ce(this.auth,"internal-error")}}resolve(y){Re(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(y),this.unregisterAndCleanUp()}reject(y){Re(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(y),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}const Zs=new Me(2e3,1e4);function Zl(){return(Zl=(0,m.Z)(function*(w,y,C){const E=jt(w);le(y instanceof Yi,w,"argument-error");const z=Ws(E,C);return new Ai(E,"signInViaPopup",y,z).executeNotNull()})).apply(this,arguments)}function Ar(){return(Ar=(0,m.Z)(function*(w,y,C){const E=(0,B.m9)(w);le(y instanceof Yi,E.auth,"argument-error");const z=Ws(E.auth,C);return new Ai(E.auth,"reauthViaPopup",y,z,E).executeNotNull()})).apply(this,arguments)}function l2(){return(l2=(0,m.Z)(function*(w,y,C){const E=(0,B.m9)(w);le(y instanceof Yi,E.auth,"argument-error");const z=Ws(E.auth,C);return new Ai(E.auth,"linkViaPopup",y,z,E).executeNotNull()})).apply(this,arguments)}let Ai=(()=>{class w extends ea{constructor(C,E,z,$,_e){super(C,E,$,_e),this.provider=z,this.authWindow=null,this.pollId=null,w.currentPopupAction&&w.currentPopupAction.cancel(),w.currentPopupAction=this}executeNotNull(){var C=this;return(0,m.Z)(function*(){const E=yield C.execute();return le(E,C.auth,"internal-error"),E})()}onExecution(){var C=this;return(0,m.Z)(function*(){Re(1===C.filter.length,"Popup operations only handle one event");const E=Yo();C.authWindow=yield C.resolver._openPopup(C.auth,C.provider,C.filter[0],E),C.authWindow.associatedEvent=E,C.resolver._originValidation(C.auth).catch(z=>{C.reject(z)}),C.resolver._isIframeWebStorageSupported(C.auth,z=>{z||C.reject(ye(C.auth,"web-storage-unsupported"))}),C.pollUserCancellation()})()}get eventId(){var C;return(null===(C=this.authWindow)||void 0===C?void 0:C.associatedEvent)||null}cancel(){this.reject(ye(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,w.currentPopupAction=null}pollUserCancellation(){const C=()=>{var E,z;this.pollId=(null===(z=null===(E=this.authWindow)||void 0===E?void 0:E.window)||void 0===z?void 0:z.closed)?window.setTimeout(()=>{this.pollId=null,this.reject(ye(this.auth,"popup-closed-by-user"))},2e3):window.setTimeout(C,Zs.get())};C()}}return w.currentPopupAction=null,w})();const qs=new Map;class ah extends ea{constructor(y,C,E=!1){super(y,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],C,void 0,E),this.eventId=null}execute(){var y=()=>super.execute,C=this;return(0,m.Z)(function*(){let E=qs.get(C.auth._key());if(!E){try{const $=(yield function(w,y){return ta.apply(this,arguments)}(C.resolver,C.auth))?yield y().call(C):null;E=()=>Promise.resolve($)}catch(z){E=()=>Promise.reject(z)}qs.set(C.auth._key(),E)}return E()})()}onAuthEvent(y){var C=()=>super.onAuthEvent,E=this;return(0,m.Z)(function*(){if("signInViaRedirect"===y.type)return C().call(E,y);if("unknown"!==y.type){if(y.eventId){const z=yield E.auth._redirectUserForId(y.eventId);if(z)return E.user=z,C().call(E,y);E.resolve(null)}}else E.resolve(null)})()}onExecution(){return(0,m.Z)(function*(){})()}cleanUp(){}}function ta(){return(ta=(0,m.Z)(function*(w,y){const C=ql(y),E="true"===(yield u2(w)._get(C));return yield u2(w)._remove(C),E})).apply(this,arguments)}function na(w,y){return zn.apply(this,arguments)}function zn(){return(zn=(0,m.Z)(function*(w,y){return u2(w)._set(ql(y),"true")})).apply(this,arguments)}function u2(w){return ee(w._redirectPersistence)}function ql(w){return Tt("pendingRedirect",w.config.apiKey,w.name)}function l6(){return(l6=(0,m.Z)(function*(w,y,C){const E=jt(w);le(y instanceof Yi,w,"argument-error");const z=Ws(E,C);return yield na(z,E),z._openRedirect(E,y,"signInViaRedirect")})).apply(this,arguments)}function Z0(){return(Z0=(0,m.Z)(function*(w,y,C){const E=(0,B.m9)(w);le(y instanceof Yi,E.auth,"argument-error");const z=Ws(E.auth,C);yield na(z,E.auth);const $=yield u6(E);return z._openRedirect(E.auth,y,"reauthViaRedirect",$)})).apply(this,arguments)}function Ks(){return(Ks=(0,m.Z)(function*(w,y,C){const E=(0,B.m9)(w);le(y instanceof Yi,E.auth,"argument-error");const z=Ws(E.auth,C);yield jo(!1,E,y.providerId),yield na(z,E.auth);const $=yield u6(E);return z._openRedirect(E.auth,y,"linkViaRedirect",$)})).apply(this,arguments)}function f2(){return(f2=(0,m.Z)(function*(w,y){return yield jt(w)._initializationPromise,K2(w,y,!1)})).apply(this,arguments)}function K2(w,y){return Si.apply(this,arguments)}function Si(){return(Si=(0,m.Z)(function*(w,y,C=!1){const E=jt(w),z=Ws(E,y),_e=yield new ah(E,z,C).execute();return _e&&!C&&(delete _e.user._redirectEventId,yield E._persistUserIfCurrent(_e.user),yield E._setRedirectUser(null,y)),_e})).apply(this,arguments)}function u6(w){return q0.apply(this,arguments)}function q0(){return(q0=(0,m.Z)(function*(w){const y=Yo(`${w.uid}:::`);return w._redirectEventId=y,yield w.auth._setRedirectUser(w),yield w.auth._persistUserIfCurrent(w),y})).apply(this,arguments)}class ia{constructor(y){this.auth=y,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(y){this.consumers.add(y),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,y)&&(this.sendToConsumer(this.queuedRedirectEvent,y),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(y){this.consumers.delete(y)}onEvent(y){if(this.hasEventBeenHandled(y))return!1;let C=!1;return this.consumers.forEach(E=>{this.isEventForConsumer(y,E)&&(C=!0,this.sendToConsumer(y,E),this.saveEventToCache(y))}),this.hasHandledPotentialRedirect||!function(w){switch(w.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return Br(w);default:return!1}}(y)||(this.hasHandledPotentialRedirect=!0,C||(this.queuedRedirectEvent=y,C=!0)),C}sendToConsumer(y,C){var E;if(y.error&&!Br(y)){const z=(null===(E=y.error.code)||void 0===E?void 0:E.split("auth/")[1])||"internal-error";C.onError(ye(this.auth,z))}else C.onAuthEvent(y)}isEventForConsumer(y,C){const E=null===C.eventId||!!y.eventId&&y.eventId===C.eventId;return C.filter.includes(y.type)&&E}hasEventBeenHandled(y){return Date.now()-this.lastProcessedEventTime>=6e5&&this.cachedEventUids.clear(),this.cachedEventUids.has(Ql(y))}saveEventToCache(y){this.cachedEventUids.add(Ql(y)),this.lastProcessedEventTime=Date.now()}}function Ql(w){return[w.type,w.eventId,w.sessionId,w.tenantId].filter(y=>y).join("-")}function Br({type:w,error:y}){return"unknown"===w&&"auth/no-auth-event"===(null==y?void 0:y.code)}function d2(w){return K0.apply(this,arguments)}function K0(){return(K0=(0,m.Z)(function*(w,y={}){return ut(w,"GET","/v1/projects",y)})).apply(this,arguments)}const Ln=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,Jl=/^https?/;function oi(){return(oi=(0,m.Z)(function*(w){if(w.config.emulator)return;const{authorizedDomains:y}=yield d2(w);for(const C of y)try{if(Y2(C))return}catch(E){}ce(w,"unauthorized-domain")})).apply(this,arguments)}function Y2(w){const y=ie(),{protocol:C,hostname:E}=new URL(y);if(w.startsWith("chrome-extension://")){const _e=new URL(w);return""===_e.hostname&&""===E?"chrome-extension:"===C&&w.replace("chrome-extension://","")===y.replace("chrome-extension://",""):"chrome-extension:"===C&&_e.hostname===E}if(!Jl.test(C))return!1;if(Ln.test(w))return E===w;const z=w.replace(/\./g,"\\.");return new RegExp("^(.+\\."+z+"|"+z+")$","i").test(E)}const Xl=new Me(3e4,6e4);function sa(){const w=qn().___jsl;if(null==w?void 0:w.H)for(const y of Object.keys(w.H))if(w.H[y].r=w.H[y].r||[],w.H[y].L=w.H[y].L||[],w.H[y].r=[...w.H[y].L],w.CP)for(let C=0;C<w.CP.length;C++)w.CP[C]=null}let Y0=null;function Q2(w){return Y0=Y0||function(w){return new Promise((y,C)=>{var E,z,$;function _e(){sa(),gapi.load("gapi.iframes",{callback:()=>{y(gapi.iframes.getContext())},ontimeout:()=>{sa(),C(ye(w,"network-request-failed"))},timeout:Xl.get()})}if(null===(z=null===(E=qn().gapi)||void 0===E?void 0:E.iframes)||void 0===z?void 0:z.Iframe)y(gapi.iframes.getContext());else{if(!(null===($=qn().gapi)||void 0===$?void 0:$.load)){const Le=Jo("iframefcb");return qn()[Le]=()=>{gapi.load?_e():C(ye(w,"network-request-failed"))},Ul(`https://apis.google.com/js/api.js?onload=${Le}`)}_e()}}).catch(y=>{throw Y0=null,y})}(w),Y0}const jr=new Me(5e3,15e3),e8={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"}},f6=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function i1(w){const y=w.config;le(y.authDomain,w,"auth-domain-config-required");const C=y.emulator?ze(y,"emulator/auth/iframe"):`https://${w.config.authDomain}/__/auth/iframe`,E={apiKey:y.apiKey,appName:w.name,v:X.SDK_VERSION},z=f6.get(w.config.apiHost);z&&(E.eid=z);const $=w._getFrameworks();return $.length&&(E.fw=$.join(",")),`${C}?${(0,B.xO)(E).slice(1)}`}function oa(){return(oa=(0,m.Z)(function*(w){const y=yield Q2(w),C=qn().gapi;return le(C,w,"internal-error"),y.open({where:document.body,url:i1(w),messageHandlersFilter:C.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:e8,dontclear:!0},E=>new Promise(function(){var z=(0,m.Z)(function*($,_e){yield E.restyle({setHideOnLeave:!1});const Le=ye(w,"network-request-failed"),qe=qn().setTimeout(()=>{_e(Le)},jr.get());function at(){qn().clearTimeout(qe),$(E)}E.ping(at).then(at,()=>{_e(Le)})});return function($,_e){return z.apply(this,arguments)}}()))})).apply(this,arguments)}const L9={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"};class uh{constructor(y){this.window=y,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch(y){}}}function p6(w,y,C,E,z,$){le(w.config.authDomain,w,"auth-domain-config-required"),le(w.config.apiKey,w,"invalid-api-key");const _e={apiKey:w.config.apiKey,appName:w.name,authType:C,redirectUrl:E,v:X.SDK_VERSION,eventId:z};if(y instanceof Yi){y.setDefaultLanguage(w.languageCode),_e.providerId=y.providerId||"",(0,B.xb)(y.getCustomParameters())||(_e.customParameters=JSON.stringify(y.getCustomParameters()));for(const[qe,at]of Object.entries($||{}))_e[qe]=at}if(y instanceof Fo){const qe=y.getScopes().filter(at=>""!==at);qe.length>0&&(_e.scopes=qe.join(","))}w.tenantId&&(_e.tid=w.tenantId);const Le=_e;for(const qe of Object.keys(Le))void 0===Le[qe]&&delete Le[qe];return`${function({config:w}){return w.emulator?ze(w,"emulator/auth/handler"):`https://${w.authDomain}/__/auth/handler`}(w)}?${(0,B.xO)(Le).slice(1)}`}const Ti="webStorageSupport";class v6 extends class{constructor(y){this.factorId=y}_process(y,C,E){switch(C.type){case"enroll":return this._finalizeEnroll(y,C.credential,E);case"signin":return this._finalizeSignIn(y,C.credential);default:return Ne("unexpected MultiFactorSessionType")}}}{constructor(y){super("phone"),this.credential=y}static _fromCredential(y){return new v6(y)}_finalizeEnroll(y,C,E){return function(w,y){return ut(w,"POST","/v2/accounts/mfaEnrollment:finalize",Object.assign({tenantId:w.tenantId},y))}(y,{idToken:C,displayName:E,phoneVerificationInfo:this.credential._makeVerificationRequest()})}_finalizeSignIn(y,C){return function(w,y){return ut(w,"POST","/v2/accounts/mfaSignIn:finalize",Object.assign({tenantId:w.tenantId},y))}(y,{mfaPendingCredential:C,phoneVerificationInfo:this.credential._makeVerificationRequest()})}}class hh{constructor(){}static assertion(y){return v6._fromCredential(y)}}var w;class r8{constructor(y){this.auth=y,this.internalListeners=new Map}getUid(){var y;return this.assertAuthConfigured(),(null===(y=this.auth.currentUser)||void 0===y?void 0:y.uid)||null}getToken(y){var C=this;return(0,m.Z)(function*(){return C.assertAuthConfigured(),yield C.auth._initializationPromise,C.auth.currentUser?{accessToken:yield C.auth.currentUser.getIdToken(y)}:null})()}addAuthTokenListener(y){if(this.assertAuthConfigured(),this.internalListeners.has(y))return;const C=this.auth.onIdTokenChanged(E=>{var z;y((null===(z=E)||void 0===z?void 0:z.stsTokenManager.accessToken)||null)});this.internalListeners.set(y,C),this.updateProactiveRefresh()}removeAuthTokenListener(y){this.assertAuthConfigured();const C=this.internalListeners.get(y);!C||(this.internalListeners.delete(y),C(),this.updateProactiveRefresh())}assertAuthConfigured(){le(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}function Ni(){return window}function ns(){return(ns=(0,m.Z)(function*(w,y,C){var E;const{BuildInfo:z}=Ni();Re(y.sessionId,"AuthEvent did not contain a session ID");const $=yield y6(y.sessionId),_e={};return xi()?_e.ibi=z.packageName:Ci()?_e.apn=z.packageName:ce(w,"operation-not-supported-in-this-environment"),z.displayName&&(_e.appDisplayName=z.displayName),_e.sessionId=$,p6(w,C,y.type,void 0,null!==(E=y.eventId)&&void 0!==E?E:void 0,_e)})).apply(this,arguments)}function p1(){return(p1=(0,m.Z)(function*(w){const{BuildInfo:y}=Ni(),C={};xi()?C.iosBundleId=y.packageName:Ci()?C.androidPackageName=y.packageName:ce(w,"operation-not-supported-in-this-environment"),yield d2(w,C)})).apply(this,arguments)}function la(){return(la=(0,m.Z)(function*(w,y,C){const{cordova:E}=Ni();let z=()=>{};try{yield new Promise(($,_e)=>{let Le=null;function qe(){var pt;$();const Kn=null===(pt=E.plugins.browsertab)||void 0===pt?void 0:pt.close;"function"==typeof Kn&&Kn(),"function"==typeof(null==C?void 0:C.close)&&C.close()}function at(){Le||(Le=window.setTimeout(()=>{_e(ye(w,"redirect-cancelled-by-user"))},2e3))}function Mt(){"visible"===(null==document?void 0:document.visibilityState)&&at()}y.addPassiveListener(qe),document.addEventListener("resume",at,!1),Ci()&&document.addEventListener("visibilitychange",Mt,!1),z=()=>{y.removePassiveListener(qe),document.removeEventListener("resume",at,!1),document.removeEventListener("visibilitychange",Mt,!1),Le&&window.clearTimeout(Le)}})}finally{z()}})).apply(this,arguments)}function y6(w){return nc.apply(this,arguments)}function nc(){return(nc=(0,m.Z)(function*(w){const y=_6(w),C=yield crypto.subtle.digest("SHA-256",y);return Array.from(new Uint8Array(C)).map(z=>z.toString(16).padStart(2,"0")).join("")})).apply(this,arguments)}function _6(w){if(Re(/[0-9a-zA-Z]+/.test(w),"Can only convert alpha-numeric strings"),"undefined"!=typeof TextEncoder)return(new TextEncoder).encode(w);const y=new ArrayBuffer(w.length),C=new Uint8Array(y);for(let E=0;E<w.length;E++)C[E]=w.charCodeAt(E);return C}w="Browser",(0,X._registerComponent)(new ne.wA("auth",(y,{options:C})=>{const E=y.getProvider("app").getImmediate(),{apiKey:z,authDomain:$}=E.options;return(_e=>{le(z&&!z.includes(":"),"invalid-api-key",{appName:_e.name}),le(!(null==$?void 0:$.includes(":")),"argument-error",{appName:_e.name});const Le={apiKey:z,authDomain:$,clientPlatform:w,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:ni(w)},qe=new k2(_e,Le);return function(w,y){const C=(null==y?void 0:y.persistence)||[],E=(Array.isArray(C)?C:[C]).map(ee);(null==y?void 0:y.errorMap)&&w._updateErrorMap(y.errorMap),w._initializeWithPersistence(E,null==y?void 0:y.popupRedirectResolver)}(qe,C),qe})(E)},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((y,C,E)=>{y.getProvider("auth-internal").initialize()})),(0,X._registerComponent)(new ne.wA("auth-internal",y=>{const C=jt(y.getProvider("auth").getImmediate());return new r8(C)},"PRIVATE").setInstantiationMode("EXPLICIT")),(0,X.registerVersion)("@firebase/auth","0.17.0",void 0);class p2 extends ia{constructor(){super(...arguments),this.passiveListeners=new Set,this.initPromise=new Promise(y=>{this.resolveInialized=y})}addPassiveListener(y){this.passiveListeners.add(y)}removePassiveListener(y){this.passiveListeners.delete(y)}resetRedirect(){this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1}onEvent(y){return this.resolveInialized(),this.passiveListeners.forEach(C=>C(y)),super.onEvent(y)}initialized(){var y=this;return(0,m.Z)(function*(){yield y.initPromise})()}}function a8(w){return dh.apply(this,arguments)}function dh(){return(dh=(0,m.Z)(function*(w){const y=yield fa()._get(Gr(w));return y&&(yield fa()._remove(Gr(w))),y})).apply(this,arguments)}function rs(){const w=[],y="1234567890abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ";for(let C=0;C<20;C++){const E=Math.floor(Math.random()*y.length);w.push(y.charAt(E))}return w.join("")}function fa(){return ee(s2)}function Gr(w){return Tt("authEvent",w.config.apiKey,w.name)}function pa(w){if(!(null==w?void 0:w.includes("?")))return{};const[y,...C]=w.split("?");return(0,B.zd)(C.join("?"))}function gh(){return{type:"unknown",eventId:null,sessionId:null,urlResponse:null,postBody:null,tenantId:null,error:ye("no-auth-event")}}function sc(){var w;return(null===(w=null==self?void 0:self.location)||void 0===w?void 0:w.protocol)||null}function w6(w=(0,B.z$)()){return!("file:"!==sc()&&"ionic:"!==sc()||!w.toLowerCase().match(/iphone|ipad|ipod|android/))}function Qs(){try{const w=self.localStorage,y=Yo();if(w)return w.setItem(y,"1"),w.removeItem(y),!function(w=(0,B.z$)()){return(0,B.w1)()&&11===(null==document?void 0:document.documentMode)||function(w=(0,B.z$)()){return/Edge\/\d+/.test(w)}(w)}()||(0,B.hl)()}catch(w){return oc()&&(0,B.hl)()}return!1}function oc(){return"undefined"!=typeof global&&"WorkerGlobalScope"in global&&"importScripts"in global}function zi(){return("http:"===sc()||"https:"===sc()||(0,B.ru)()||w6())&&!((0,B.b$)()||(0,B.UG)())&&Qs()&&!oc()}function f8(){return w6()&&"undefined"!=typeof document}function ac(){return(ac=(0,m.Z)(function*(){return!!f8()&&new Promise(w=>{const y=setTimeout(()=>{w(!1)},1e3);document.addEventListener("deviceready",()=>{clearTimeout(y),w(!0)})})})).apply(this,arguments)}const I1={LOCAL:"local",NONE:"none",SESSION:"session"},m2=le,E6="persistence";function A6(w){return lc.apply(this,arguments)}function lc(){return(lc=(0,m.Z)(function*(w){yield w._initializationPromise;const y=uc(),C=Tt(E6,w.config.apiKey,w.name);(null==y?void 0:y.sessionStorage)&&y.sessionStorage.setItem(C,w._getPersistence())})).apply(this,arguments)}function uc(){return"undefined"!=typeof window?window:null}const k9=le;class is{constructor(){this.browserResolver=ee(class{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=o2,this._completeRedirectFn=K2}_openPopup(y,C,E,z){var $=this;return(0,m.Z)(function*(){var _e;Re(null===(_e=$.eventManagers[y._key()])||void 0===_e?void 0:_e.manager,"_initialize() not called before _openPopup()");const Le=p6(y,C,E,ie(),z);return function(w,y,C,E=500,z=600){const $=Math.max((window.screen.availHeight-z)/2,0).toString(),_e=Math.max((window.screen.availWidth-E)/2,0).toString();let Le="";const qe=Object.assign(Object.assign({},L9),{width:E.toString(),height:z.toString(),top:$,left:_e}),at=(0,B.z$)().toLowerCase();C&&(Le=kn(at)?"_blank":C),Rn(at)&&(y=y||"http://localhost",qe.scrollbars="yes");const Mt=Object.entries(qe).reduce((Kn,[Zr,Js])=>`${Kn}${Zr}=${Js},`,"");if(function(w=(0,B.z$)()){var y;return xi(w)&&!!(null===(y=window.navigator)||void 0===y?void 0:y.standalone)}(at)&&"_self"!==Le)return function(w,y){const C=document.createElement("a");C.href=w,C.target=y;const E=document.createEvent("MouseEvent");E.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),C.dispatchEvent(E)}(y||"",Le),new uh(null);const pt=window.open(y||"",Le,Mt);le(pt,w,"popup-blocked");try{pt.focus()}catch(Kn){}return new uh(pt)}(y,Le,Yo())})()}_openRedirect(y,C,E,z){var $=this;return(0,m.Z)(function*(){return yield $._originValidation(y),w=p6(y,C,E,ie(),z),qn().location.href=w,new Promise(()=>{});var w})()}_initialize(y){const C=y._key();if(this.eventManagers[C]){const{manager:z,promise:$}=this.eventManagers[C];return z?Promise.resolve(z):(Re($,"If manager is not set, promise should be"),$)}const E=this.initAndGetManager(y);return this.eventManagers[C]={promise:E},E}initAndGetManager(y){var C=this;return(0,m.Z)(function*(){const E=yield function(w){return oa.apply(this,arguments)}(y),z=new ia(y);return E.register("authEvent",$=>(le(null==$?void 0:$.authEvent,y,"invalid-auth-event"),{status:z.onEvent($.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),C.eventManagers[y._key()]={manager:z},C.iframes[y._key()]=E,z})()}_isIframeWebStorageSupported(y,C){this.iframes[y._key()].send(Ti,{type:Ti},z=>{var $;const _e=null===($=null==z?void 0:z[0])||void 0===$?void 0:$[Ti];void 0!==_e&&C(!!_e),ce(y,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(y){const C=y._key();return this.originValidationPromises[C]||(this.originValidationPromises[C]=function(w){return oi.apply(this,arguments)}(y)),this.originValidationPromises[C]}get _shouldInitProactively(){return V4()||Or()||xi()}}),this.cordovaResolver=ee(class{constructor(){this._redirectPersistence=o2,this._shouldInitProactively=!0,this.eventManagers=new Map,this.originValidationPromises={},this._completeRedirectFn=K2}_initialize(y){var C=this;return(0,m.Z)(function*(){const E=y._key();let z=C.eventManagers.get(E);return z||(z=new p2(y),C.eventManagers.set(E,z),C.attachCallbackListeners(y,z)),z})()}_openPopup(y){ce(y,"operation-not-supported-in-this-environment")}_openRedirect(y,C,E,z){var $=this;return(0,m.Z)(function*(){!function(w){var y,C,E,z,$,_e,Le,qe,at,Mt;const pt=Ni();le("function"==typeof(null===(y=null==pt?void 0:pt.universalLinks)||void 0===y?void 0:y.subscribe),w,"invalid-cordova-configuration",{missingPlugin:"cordova-universal-links-plugin-fix"}),le(void 0!==(null===(C=null==pt?void 0:pt.BuildInfo)||void 0===C?void 0:C.packageName),w,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-buildInfo"}),le("function"==typeof(null===($=null===(z=null===(E=null==pt?void 0:pt.cordova)||void 0===E?void 0:E.plugins)||void 0===z?void 0:z.browsertab)||void 0===$?void 0:$.openUrl),w,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-browsertab"}),le("function"==typeof(null===(qe=null===(Le=null===(_e=null==pt?void 0:pt.cordova)||void 0===_e?void 0:_e.plugins)||void 0===Le?void 0:Le.browsertab)||void 0===qe?void 0:qe.isAvailable),w,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-browsertab"}),le("function"==typeof(null===(Mt=null===(at=null==pt?void 0:pt.cordova)||void 0===at?void 0:at.InAppBrowser)||void 0===Mt?void 0:Mt.open),w,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-inappbrowser"})}(y);const _e=yield $._initialize(y);yield _e.initialized(),_e.resetRedirect(),qs.clear(),yield $._originValidation(y);const Le=function(w,y,C=null){return{type:y,eventId:C,urlResponse:null,sessionId:rs(),postBody:null,tenantId:w.tenantId,error:ye(w,"no-auth-event")}}(y,E,z);yield function(w,y){return fa()._set(Gr(w),y)}(y,Le);const qe=yield function(w,y,C){return ns.apply(this,arguments)}(y,Le,C),at=yield function(w){const{cordova:y}=Ni();return new Promise(C=>{y.plugins.browsertab.isAvailable(E=>{let z=null;E?y.plugins.browsertab.openUrl(w):z=y.InAppBrowser.open(w,function(w=(0,B.z$)()){return/(iPad|iPhone|iPod).*OS 7_\d/i.test(w)||/(iPad|iPhone|iPod).*OS 8_\d/i.test(w)}()?"_blank":"_system","location=yes"),C(z)})})}(qe);return function(w,y,C){return la.apply(this,arguments)}(y,_e,at)})()}_isIframeWebStorageSupported(y,C){throw new Error("Method not implemented.")}_originValidation(y){const C=y._key();return this.originValidationPromises[C]||(this.originValidationPromises[C]=function(w){return p1.apply(this,arguments)}(y)),this.originValidationPromises[C]}attachCallbackListeners(y,C){const{universalLinks:E,handleOpenURL:z,BuildInfo:$}=Ni(),_e=setTimeout((0,m.Z)(function*(){yield a8(y),C.onEvent(gh())}),500),Le=function(){var Mt=(0,m.Z)(function*(pt){clearTimeout(_e);const Kn=yield a8(y);let Zr=null;Kn&&(null==pt?void 0:pt.url)&&(Zr=function(w,y){var C,E;const z=function(w){const y=pa(w),C=y.link?decodeURIComponent(y.link):void 0,E=pa(C).link,z=y.deep_link_id?decodeURIComponent(y.deep_link_id):void 0;return pa(z).link||z||E||C||w}(y);if(z.includes("/__/auth/callback")){const $=pa(z),_e=$.firebaseError?function(w){try{return JSON.parse(w)}catch(y){return null}}(decodeURIComponent($.firebaseError)):null,Le=null===(E=null===(C=null==_e?void 0:_e.code)||void 0===C?void 0:C.split("auth/"))||void 0===E?void 0:E[1],qe=Le?ye(Le):null;return qe?{type:w.type,eventId:w.eventId,tenantId:w.tenantId,error:qe,urlResponse:null,sessionId:null,postBody:null}:{type:w.type,eventId:w.eventId,tenantId:w.tenantId,sessionId:w.sessionId,urlResponse:z,postBody:null}}return null}(Kn,pt.url)),C.onEvent(Zr||gh())});return function(Kn){return Mt.apply(this,arguments)}}();void 0!==E&&"function"==typeof E.subscribe&&E.subscribe(null,Le);const qe=z,at=`${$.packageName.toLowerCase()}://`;Ni().handleOpenURL=function(){var Mt=(0,m.Z)(function*(pt){if(pt.toLowerCase().startsWith(at)&&Le({url:pt}),"function"==typeof qe)try{qe(pt)}catch(Kn){console.error(Kn)}});return function(pt){return Mt.apply(this,arguments)}}()}}),this.underlyingResolver=null,this._redirectPersistence=o2,this._completeRedirectFn=K2}_initialize(y){var C=this;return(0,m.Z)(function*(){return yield C.selectUnderlyingResolver(),C.assertedUnderlyingResolver._initialize(y)})()}_openPopup(y,C,E,z){var $=this;return(0,m.Z)(function*(){return yield $.selectUnderlyingResolver(),$.assertedUnderlyingResolver._openPopup(y,C,E,z)})()}_openRedirect(y,C,E,z){var $=this;return(0,m.Z)(function*(){return yield $.selectUnderlyingResolver(),$.assertedUnderlyingResolver._openRedirect(y,C,E,z)})()}_isIframeWebStorageSupported(y,C){this.assertedUnderlyingResolver._isIframeWebStorageSupported(y,C)}_originValidation(y){return this.assertedUnderlyingResolver._originValidation(y)}get _shouldInitProactively(){return f8()||this.browserResolver._shouldInitProactively}get assertedUnderlyingResolver(){return k9(this.underlyingResolver,"internal-error"),this.underlyingResolver}selectUnderlyingResolver(){var y=this;return(0,m.Z)(function*(){if(y.underlyingResolver)return;const C=yield function(){return ac.apply(this,arguments)}();y.underlyingResolver=C?y.cordovaResolver:y.browserResolver})()}}function ss(w){return w.unwrap()}function d8(w){return S6(w)}function hc(w,y){var C;const E=null===(C=y.customData)||void 0===C?void 0:C._tokenResponse;if("auth/multi-factor-auth-required"===y.code)y.resolver=new _h(w,function(w,y){var C;const E=(0,B.m9)(w),z=y;return le(y.operationType,E,"argument-error"),le(null===(C=z.serverResponse)||void 0===C?void 0:C.mfaPendingCredential,E,"argument-error"),dn._fromError(E,z)}(w,y));else if(E){const z=S6(y),$=y;z&&($.credential=z,$.tenantId=E.tenantId||void 0,$.email=E.email||void 0,$.phoneNumber=E.phoneNumber||void 0)}}function S6(w){const{_tokenResponse:y}=w instanceof B.ZR?w.customData:w;if(!y)return null;if(!(w instanceof B.ZR)&&"temporaryProof"in y&&"phoneNumber"in y)return c6.credentialFromResult(w);const C=y.providerId;if(!C||"password"===C)return null;let E;switch(C){case"google.com":E=H4;break;case"facebook.com":E=P5;break;case"github.com":E=F4;break;case"twitter.com":E=F5;break;default:const{oauthIdToken:z,oauthAccessToken:$,oauthTokenSecret:_e,pendingToken:Le,nonce:qe}=y;return $||_e||z||Le?Le?C.startsWith("saml.")?H2._create(C,Le):Cr._fromParams({providerId:C,signInMethod:C,pendingToken:Le,idToken:z,accessToken:$}):new Uo(C).credential({idToken:z,accessToken:$,rawNonce:qe}):null}return w instanceof B.ZR?E.credentialFromError(w):E.credentialFromResult(w)}function Yt(w,y){return g2.apply(this,arguments)}function g2(){return(g2=(0,m.Z)(function*(w,y){let C;try{C=yield y}catch($){throw $ instanceof B.ZR&&hc(w,$),$}const{operationType:E,user:z}=C;return{operationType:E,credential:d8(C),additionalUserInfo:Ko(C),user:Wr.getOrCreate(z)}})).apply(this,arguments)}function ma(w,y){return fc.apply(this,arguments)}function fc(){return(fc=(0,m.Z)(function*(w,y){const C=yield y;return{verificationId:C.verificationId,confirm:E=>Yt(w,C.confirm(E))}})).apply(this,arguments)}class _h{constructor(y,C){this.resolver=C,this.auth=function(w){return w.wrapped()}(y)}get session(){return this.resolver.session}get hints(){return this.resolver.hints}resolveSignIn(y){return Yt(ss(this.auth),this.resolver.resolveSignIn(y))}}class Wr{constructor(y){this._delegate=y,this.multiFactor=function(w){const y=(0,B.m9)(w);return J4.has(y)||J4.set(y,Q4._fromUser(y)),J4.get(y)}(y)}static getOrCreate(y){return Wr.USER_MAP.has(y)||Wr.USER_MAP.set(y,new Wr(y)),Wr.USER_MAP.get(y)}delete(){return this._delegate.delete()}reload(){return this._delegate.reload()}toJSON(){return this._delegate.toJSON()}getIdTokenResult(y){return this._delegate.getIdTokenResult(y)}getIdToken(y){return this._delegate.getIdToken(y)}linkAndRetrieveDataWithCredential(y){return this.linkWithCredential(y)}linkWithCredential(y){var C=this;return(0,m.Z)(function*(){return Yt(C.auth,Il(C._delegate,y))})()}linkWithPhoneNumber(y,C){var E=this;return(0,m.Z)(function*(){return ma(E.auth,function(w,y,C){return a6.apply(this,arguments)}(E._delegate,y,C))})()}linkWithPopup(y){var C=this;return(0,m.Z)(function*(){return Yt(C.auth,function(w,y,C){return l2.apply(this,arguments)}(C._delegate,y,is))})()}linkWithRedirect(y){var C=this;return(0,m.Z)(function*(){return yield A6(jt(C.auth)),function(w,y,C){return function(w,y,C){return Ks.apply(this,arguments)}(w,y,C)}(C._delegate,y,is)})()}reauthenticateAndRetrieveDataWithCredential(y){return this.reauthenticateWithCredential(y)}reauthenticateWithCredential(y){var C=this;return(0,m.Z)(function*(){return Yt(C.auth,Dl(C._delegate,y))})()}reauthenticateWithPhoneNumber(y,C){return ma(this.auth,function(w,y,C){return rh.apply(this,arguments)}(this._delegate,y,C))}reauthenticateWithPopup(y){return Yt(this.auth,function(w,y,C){return Ar.apply(this,arguments)}(this._delegate,y,is))}reauthenticateWithRedirect(y){var C=this;return(0,m.Z)(function*(){return yield A6(jt(C.auth)),function(w,y,C){return function(w,y,C){return Z0.apply(this,arguments)}(w,y,C)}(C._delegate,y,is)})()}sendEmailVerification(y){return function(w,y){return zl.apply(this,arguments)}(this._delegate,y)}unlink(y){var C=this;return(0,m.Z)(function*(){return yield function(w,y){return B4.apply(this,arguments)}(C._delegate,y),C})()}updateEmail(y){return function(w,y){return K4((0,B.m9)(w),y,null)}(this._delegate,y)}updatePassword(y){return function(w,y){return K4((0,B.m9)(w),null,y)}(this._delegate,y)}updatePhoneNumber(y){return function(w,y){return sh.apply(this,arguments)}(this._delegate,y)}updateProfile(y){return function(w,y){return r2.apply(this,arguments)}(this._delegate,y)}verifyBeforeUpdateEmail(y,C){return function(w,y,C){return n2.apply(this,arguments)}(this._delegate,y,C)}get emailVerified(){return this._delegate.emailVerified}get isAnonymous(){return this._delegate.isAnonymous}get metadata(){return this._delegate.metadata}get phoneNumber(){return this._delegate.phoneNumber}get providerData(){return this._delegate.providerData}get refreshToken(){return this._delegate.refreshToken}get tenantId(){return this._delegate.tenantId}get displayName(){return this._delegate.displayName}get email(){return this._delegate.email}get photoURL(){return this._delegate.photoURL}get providerId(){return this._delegate.providerId}get uid(){return this._delegate.uid}get auth(){return this._delegate.auth}}Wr.USER_MAP=new WeakMap;const ga=le;let I6=(()=>{class w{constructor(C,E){if(this.app=C,E.isInitialized())return this._delegate=E.getImmediate(),void this.linkUnderlyingAuth();const{apiKey:z}=C.options;ga(z,"invalid-api-key",{appName:C.name});let $=[zt];if("undefined"!=typeof window){$=function(w,y){const C=uc();if(!(null==C?void 0:C.sessionStorage))return[];const E=Tt(E6,w,y);switch(C.sessionStorage.getItem(E)){case I1.NONE:return[zt];case I1.LOCAL:return[vt,o2];case I1.SESSION:return[o2];default:return[]}}(z,C.name);for(const Le of[vt,s2,o2])$.includes(Le)||$.push(Le)}ga(z,"invalid-api-key",{appName:C.name});const _e="undefined"!=typeof window?is:void 0;this._delegate=E.initialize({options:{persistence:$,popupRedirectResolver:_e}}),this._delegate._updateErrorMap(K),this.linkUnderlyingAuth()}get emulatorConfig(){return this._delegate.emulatorConfig}get currentUser(){return this._delegate.currentUser?Wr.getOrCreate(this._delegate.currentUser):null}get languageCode(){return this._delegate.languageCode}set languageCode(C){this._delegate.languageCode=C}get settings(){return this._delegate.settings}get tenantId(){return this._delegate.tenantId}set tenantId(C){this._delegate.tenantId=C}useDeviceLanguage(){this._delegate.useDeviceLanguage()}signOut(){return this._delegate.signOut()}useEmulator(C,E){!function(w,y,C){const E=jt(w);le(E._canInitEmulator,E,"emulator-config-failed"),le(/^https?:\/\//.test(y),E,"invalid-emulator-scheme");const z=!!(null==C?void 0:C.disableWarnings),$=Qe(y),{host:_e,port:Le}=function(w){const y=Qe(w),C=/(\/\/)?([^?#/]+)/.exec(w.substr(y.length));if(!C)return{host:"",port:null};const E=C[2].split("@").pop()||"",z=/^(\[[^\]]+\])(:|$)/.exec(E);if(z){const $=z[1];return{host:$,port:cn(E.substr($.length+1))}}{const[$,_e]=E.split(":");return{host:$,port:cn(_e)}}}(y);E.config.emulator={url:`${$}//${_e}${null===Le?"":`:${Le}`}/`},E.settings.appVerificationDisabledForTesting=!0,E.emulatorConfig=Object.freeze({host:_e,port:Le,protocol:$.replace(":",""),options:Object.freeze({disableWarnings:z})}),function(w){function y(){const C=document.createElement("p"),E=C.style;C.innerText="Running in emulator mode. Do not use with production credentials.",E.position="fixed",E.width="100%",E.backgroundColor="#ffffff",E.border=".1em solid #000000",E.color="#b50000",E.bottom="0px",E.left="0px",E.margin="0px",E.zIndex="10000",E.textAlign="center",C.classList.add("firebase-emulator-warning"),document.body.appendChild(C)}"undefined"!=typeof console&&"function"==typeof console.info&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),"undefined"!=typeof window&&"undefined"!=typeof document&&!w&&("loading"===document.readyState?window.addEventListener("DOMContentLoaded",y):y())}(z)}(this._delegate,C,E)}applyActionCode(C){return function(w,y){return Ct.apply(this,arguments)}(this._delegate,C)}checkActionCode(C){return U5(this._delegate,C)}confirmPasswordReset(C,E){return function(w,y,C){return L0.apply(this,arguments)}(this._delegate,C,E)}createUserWithEmailAndPassword(C,E){var z=this;return(0,m.Z)(function*(){return Yt(z._delegate,function(w,y,C){return B2.apply(this,arguments)}(z._delegate,C,E))})()}fetchProvidersForEmail(C){return this.fetchSignInMethodsForEmail(C)}fetchSignInMethodsForEmail(C){return function(w,y){return t2.apply(this,arguments)}(this._delegate,C)}isSignInWithEmailLink(C){return function(w,y){const C=b0.parseLink(y);return"EMAIL_SIGNIN"===(null==C?void 0:C.operation)}(0,C)}getRedirectResult(){var C=this;return(0,m.Z)(function*(){ga(zi(),C._delegate,"operation-not-supported-in-this-environment");const E=yield function(w,y){return f2.apply(this,arguments)}(C._delegate,is);return E?Yt(C._delegate,Promise.resolve(E)):{credential:null,user:null}})()}addFrameworkForLogging(C){!function(w,y){jt(w)._logFramework(y)}(this._delegate,C)}onAuthStateChanged(C,E,z){const{next:$,error:_e,complete:Le}=dc(C,E,z);return this._delegate.onAuthStateChanged($,_e,Le)}onIdTokenChanged(C,E,z){const{next:$,error:_e,complete:Le}=dc(C,E,z);return this._delegate.onIdTokenChanged($,_e,Le)}sendSignInLinkToEmail(C,E){return function(w,y,C){return Lt.apply(this,arguments)}(this._delegate,C,E)}sendPasswordResetEmail(C,E){return function(w,y,C){return z0.apply(this,arguments)}(this._delegate,C,E||void 0)}setPersistence(C){var E=this;return(0,m.Z)(function*(){let z;switch(function(w,y){m2(Object.values(I1).includes(y),w,"invalid-persistence-type"),(0,B.b$)()?m2(y!==I1.SESSION,w,"unsupported-persistence-type"):(0,B.UG)()?m2(y===I1.NONE,w,"unsupported-persistence-type"):oc()?m2(y===I1.NONE||y===I1.LOCAL&&(0,B.hl)(),w,"unsupported-persistence-type"):m2(y===I1.NONE||Qs(),w,"unsupported-persistence-type")}(E._delegate,C),C){case I1.SESSION:z=o2;break;case I1.LOCAL:z=(yield ee(vt)._isAvailable())?vt:s2;break;case I1.NONE:z=zt;break;default:return ce("argument-error",{appName:E._delegate.name})}return E._delegate.setPersistence(z)})()}signInAndRetrieveDataWithCredential(C){return this.signInWithCredential(C)}signInAnonymously(){return Yt(this._delegate,function(w){return Al.apply(this,arguments)}(this._delegate))}signInWithCredential(C){return Yt(this._delegate,D0(this._delegate,C))}signInWithCustomToken(C){return Yt(this._delegate,function(w,y){return Ji.apply(this,arguments)}(this._delegate,C))}signInWithEmailAndPassword(C,E){return Yt(this._delegate,function(w,y,C){return D0((0,B.m9)(w),Ml.credential(y,C))}(this._delegate,C,E))}signInWithEmailLink(C,E){return Yt(this._delegate,function(w,y,C){return R0.apply(this,arguments)}(this._delegate,C,E))}signInWithPhoneNumber(C,E){return ma(this._delegate,function(w,y,C){return G0.apply(this,arguments)}(this._delegate,C,E))}signInWithPopup(C){var E=this;return(0,m.Z)(function*(){return ga(zi(),E._delegate,"operation-not-supported-in-this-environment"),Yt(E._delegate,function(w,y,C){return Zl.apply(this,arguments)}(E._delegate,C,is))})()}signInWithRedirect(C){var E=this;return(0,m.Z)(function*(){return ga(zi(),E._delegate,"operation-not-supported-in-this-environment"),yield A6(E._delegate),function(w,y,C){return function(w,y,C){return l6.apply(this,arguments)}(w,y,C)}(E._delegate,C,is)})()}updateCurrentUser(C){return this._delegate.updateCurrentUser(C)}verifyPasswordResetCode(C){return function(w,y){return Wo.apply(this,arguments)}(this._delegate,C)}unwrap(){return this._delegate}_delete(){return this._delegate._delete()}linkUnderlyingAuth(){this._delegate.wrapped=()=>this}}return w.Persistence=I1,w})();function dc(w,y,C){let E=w;"function"!=typeof w&&({next:E,error:y,complete:C}=w);const z=E;return{next:_e=>z(_e&&Wr.getOrCreate(_e)),error:y,complete:C}}class va{constructor(){this.providerId="phone",this._delegate=new c6(ss(U.Z.auth()))}static credential(y,C){return c6.credential(y,C)}verifyPhoneNumber(y,C){return this._delegate.verifyPhoneNumber(y,C)}unwrap(){return this._delegate}}va.PHONE_SIGN_IN_METHOD=c6.PHONE_SIGN_IN_METHOD,va.PROVIDER_ID=c6.PROVIDER_ID;const Ch=le;class p8{constructor(y,C,E=U.Z.app()){var z;Ch(null===(z=E.options)||void 0===z?void 0:z.apiKey,"invalid-api-key",{appName:E.name}),this._delegate=new o6(y,C,E.auth()),this.type=this._delegate.type}clear(){this._delegate.clear()}render(){return this._delegate.render()}verify(){return this._delegate.verify()}}!function(w){w.INTERNAL.registerComponent(new ne.wA("auth-compat",y=>{const C=y.getProvider("app-compat").getImmediate(),E=y.getProvider("auth");return new I6(C,E)},"PUBLIC").setServiceProps({ActionCodeInfo:{Operation:{EMAIL_SIGNIN:"EMAIL_SIGNIN",PASSWORD_RESET:"PASSWORD_RESET",RECOVER_EMAIL:"RECOVER_EMAIL",REVERT_SECOND_FACTOR_ADDITION:"REVERT_SECOND_FACTOR_ADDITION",VERIFY_AND_CHANGE_EMAIL:"VERIFY_AND_CHANGE_EMAIL",VERIFY_EMAIL:"VERIFY_EMAIL"}},EmailAuthProvider:Ml,FacebookAuthProvider:P5,GithubAuthProvider:F4,GoogleAuthProvider:H4,OAuthProvider:Uo,PhoneAuthProvider:va,PhoneMultiFactorGenerator:hh,RecaptchaVerifier:p8,TwitterAuthProvider:F5,Auth:I6,AuthCredential:yr,Error:B.ZR}).setInstantiationMode("LAZY").setMultipleInstances(!1)),w.registerVersion("@firebase/auth-compat","0.1.0")}(U.Z)},7574:(Ve,Ce,R)=>{"use strict";R.d(Ce,{y:()=>N});var m=R(7393),B=R(9181),X=R(6490),Y=R(6554),ne=R(4487);var V=R(2494);let N=(()=>{class T{constructor(K){this._isScalar=!1,K&&(this._subscribe=K)}lift(K){const J=new T;return J.source=this,J.operator=K,J}subscribe(K,J,Q){const{operator:G}=this,Z=function(T,F,K){if(T){if(T instanceof m.L)return T;if(T[B.b])return T[B.b]()}return T||F||K?new m.L(T,F,K):new m.L(X.c)}(K,J,Q);if(Z.add(G?G.call(Z,this.source):this.source||V.v.useDeprecatedSynchronousErrorHandling&&!Z.syncErrorThrowable?this._subscribe(Z):this._trySubscribe(Z)),V.v.useDeprecatedSynchronousErrorHandling&&Z.syncErrorThrowable&&(Z.syncErrorThrowable=!1,Z.syncErrorThrown))throw Z.syncErrorValue;return Z}_trySubscribe(K){try{return this._subscribe(K)}catch(J){V.v.useDeprecatedSynchronousErrorHandling&&(K.syncErrorThrown=!0,K.syncErrorValue=J),function(T){for(;T;){const{closed:F,destination:K,isStopped:J}=T;if(F||J)return!1;T=K&&K instanceof m.L?K:null}return!0}(K)?K.error(J):console.warn(J)}}forEach(K,J){return new(J=k(J))((Q,G)=>{let Z;Z=this.subscribe(ae=>{try{K(ae)}catch(ce){G(ce),Z&&Z.unsubscribe()}},G,Q)})}_subscribe(K){const{source:J}=this;return J&&J.subscribe(K)}[Y.L](){return this}pipe(...K){return 0===K.length?this:function(T){return 0===T.length?ne.y:1===T.length?T[0]:function(K){return T.reduce((J,Q)=>Q(J),K)}}(K)(this)}toPromise(K){return new(K=k(K))((J,Q)=>{let G;this.subscribe(Z=>G=Z,Z=>Q(Z),()=>J(G))})}}return T.create=F=>new T(F),T})();function k(T){if(T||(T=V.v.Promise||Promise),!T)throw new Error("no Promise impl found");return T}},6490:(Ve,Ce,R)=>{"use strict";R.d(Ce,{c:()=>B});var m=R(2494),U=R(4449);const B={closed:!0,next(X){},error(X){if(m.v.useDeprecatedSynchronousErrorHandling)throw X;(0,U.z)(X)},complete(){}}},9765:(Ve,Ce,R)=>{"use strict";R.d(Ce,{Yc:()=>ne,xQ:()=>H});var m=R(7574),U=R(7393),B=R(5319),X=R(7971),oe=R(8858),Y=R(9181);class ne extends U.L{constructor(N){super(N),this.destination=N}}let H=(()=>{class V extends m.y{constructor(){super(),this.observers=[],this.closed=!1,this.isStopped=!1,this.hasError=!1,this.thrownError=null}[Y.b](){return new ne(this)}lift(k){const T=new O(this,this);return T.operator=k,T}next(k){if(this.closed)throw new X.N;if(!this.isStopped){const{observers:T}=this,F=T.length,K=T.slice();for(let J=0;J<F;J++)K[J].next(k)}}error(k){if(this.closed)throw new X.N;this.hasError=!0,this.thrownError=k,this.isStopped=!0;const{observers:T}=this,F=T.length,K=T.slice();for(let J=0;J<F;J++)K[J].error(k);this.observers.length=0}complete(){if(this.closed)throw new X.N;this.isStopped=!0;const{observers:k}=this,T=k.length,F=k.slice();for(let K=0;K<T;K++)F[K].complete();this.observers.length=0}unsubscribe(){this.isStopped=!0,this.closed=!0,this.observers=null}_trySubscribe(k){if(this.closed)throw new X.N;return super._trySubscribe(k)}_subscribe(k){if(this.closed)throw new X.N;return this.hasError?(k.error(this.thrownError),B.w.EMPTY):this.isStopped?(k.complete(),B.w.EMPTY):(this.observers.push(k),new oe.W(this,k))}asObservable(){const k=new m.y;return k.source=this,k}}return V.create=(N,k)=>new O(N,k),V})();class O extends H{constructor(N,k){super(),this.destination=N,this.source=k}next(N){const{destination:k}=this;k&&k.next&&k.next(N)}error(N){const{destination:k}=this;k&&k.error&&this.destination.error(N)}complete(){const{destination:N}=this;N&&N.complete&&this.destination.complete()}_subscribe(N){const{source:k}=this;return k?this.source.subscribe(N):B.w.EMPTY}}},8858:(Ve,Ce,R)=>{"use strict";R.d(Ce,{W:()=>U});var m=R(5319);class U extends m.w{constructor(X,oe){super(),this.subject=X,this.subscriber=oe,this.closed=!1}unsubscribe(){if(this.closed)return;this.closed=!0;const X=this.subject,oe=X.observers;if(this.subject=null,!oe||0===oe.length||X.isStopped||X.closed)return;const Y=oe.indexOf(this.subscriber);-1!==Y&&oe.splice(Y,1)}}},7393:(Ve,Ce,R)=>{"use strict";R.d(Ce,{L:()=>ne});var m=R(9105),U=R(6490),B=R(5319),X=R(9181),oe=R(2494),Y=R(4449);class ne extends B.w{constructor(V,N,k){switch(super(),this.syncErrorValue=null,this.syncErrorThrown=!1,this.syncErrorThrowable=!1,this.isStopped=!1,arguments.length){case 0:this.destination=U.c;break;case 1:if(!V){this.destination=U.c;break}if("object"==typeof V){V instanceof ne?(this.syncErrorThrowable=V.syncErrorThrowable,this.destination=V,V.add(this)):(this.syncErrorThrowable=!0,this.destination=new H(this,V));break}default:this.syncErrorThrowable=!0,this.destination=new H(this,V,N,k)}}[X.b](){return this}static create(V,N,k){const T=new ne(V,N,k);return T.syncErrorThrowable=!1,T}next(V){this.isStopped||this._next(V)}error(V){this.isStopped||(this.isStopped=!0,this._error(V))}complete(){this.isStopped||(this.isStopped=!0,this._complete())}unsubscribe(){this.closed||(this.isStopped=!0,super.unsubscribe())}_next(V){this.destination.next(V)}_error(V){this.destination.error(V),this.unsubscribe()}_complete(){this.destination.complete(),this.unsubscribe()}_unsubscribeAndRecycle(){const{_parentOrParents:V}=this;return this._parentOrParents=null,this.unsubscribe(),this.closed=!1,this.isStopped=!1,this._parentOrParents=V,this}}class H extends ne{constructor(V,N,k,T){super(),this._parentSubscriber=V;let F,K=this;(0,m.m)(N)?F=N:N&&(F=N.next,k=N.error,T=N.complete,N!==U.c&&(K=Object.create(N),(0,m.m)(K.unsubscribe)&&this.add(K.unsubscribe.bind(K)),K.unsubscribe=this.unsubscribe.bind(this))),this._context=K,this._next=F,this._error=k,this._complete=T}next(V){if(!this.isStopped&&this._next){const{_parentSubscriber:N}=this;oe.v.useDeprecatedSynchronousErrorHandling&&N.syncErrorThrowable?this.__tryOrSetError(N,this._next,V)&&this.unsubscribe():this.__tryOrUnsub(this._next,V)}}error(V){if(!this.isStopped){const{_parentSubscriber:N}=this,{useDeprecatedSynchronousErrorHandling:k}=oe.v;if(this._error)k&&N.syncErrorThrowable?(this.__tryOrSetError(N,this._error,V),this.unsubscribe()):(this.__tryOrUnsub(this._error,V),this.unsubscribe());else if(N.syncErrorThrowable)k?(N.syncErrorValue=V,N.syncErrorThrown=!0):(0,Y.z)(V),this.unsubscribe();else{if(this.unsubscribe(),k)throw V;(0,Y.z)(V)}}}complete(){if(!this.isStopped){const{_parentSubscriber:V}=this;if(this._complete){const N=()=>this._complete.call(this._context);oe.v.useDeprecatedSynchronousErrorHandling&&V.syncErrorThrowable?(this.__tryOrSetError(V,N),this.unsubscribe()):(this.__tryOrUnsub(N),this.unsubscribe())}else this.unsubscribe()}}__tryOrUnsub(V,N){try{V.call(this._context,N)}catch(k){if(this.unsubscribe(),oe.v.useDeprecatedSynchronousErrorHandling)throw k;(0,Y.z)(k)}}__tryOrSetError(V,N,k){if(!oe.v.useDeprecatedSynchronousErrorHandling)throw new Error("bad call");try{N.call(this._context,k)}catch(T){return oe.v.useDeprecatedSynchronousErrorHandling?(V.syncErrorValue=T,V.syncErrorThrown=!0,!0):((0,Y.z)(T),!0)}return!1}_unsubscribe(){const{_parentSubscriber:V}=this;this._context=null,this._parentSubscriber=null,V.unsubscribe()}}},5319:(Ve,Ce,R)=>{"use strict";R.d(Ce,{w:()=>Y});var m=R(9796),U=R(1555),B=R(9105);const oe=(()=>{function H(O){return Error.call(this),this.message=O?`${O.length} errors occurred during unsubscription:\n${O.map((V,N)=>`${N+1}) ${V.toString()}`).join("\n  ")}`:"",this.name="UnsubscriptionError",this.errors=O,this}return H.prototype=Object.create(Error.prototype),H})();class Y{constructor(O){this.closed=!1,this._parentOrParents=null,this._subscriptions=null,O&&(this._ctorUnsubscribe=!0,this._unsubscribe=O)}unsubscribe(){let O;if(this.closed)return;let{_parentOrParents:V,_ctorUnsubscribe:N,_unsubscribe:k,_subscriptions:T}=this;if(this.closed=!0,this._parentOrParents=null,this._subscriptions=null,V instanceof Y)V.remove(this);else if(null!==V)for(let F=0;F<V.length;++F)V[F].remove(this);if((0,B.m)(k)){N&&(this._unsubscribe=void 0);try{k.call(this)}catch(F){O=F instanceof oe?ne(F.errors):[F]}}if((0,m.k)(T)){let F=-1,K=T.length;for(;++F<K;){const J=T[F];if((0,U.K)(J))try{J.unsubscribe()}catch(Q){O=O||[],Q instanceof oe?O=O.concat(ne(Q.errors)):O.push(Q)}}}if(O)throw new oe(O)}add(O){let V=O;if(!O)return Y.EMPTY;switch(typeof O){case"function":V=new Y(O);case"object":if(V===this||V.closed||"function"!=typeof V.unsubscribe)return V;if(this.closed)return V.unsubscribe(),V;if(!(V instanceof Y)){const T=V;V=new Y,V._subscriptions=[T]}break;default:throw new Error("unrecognized teardown "+O+" added to Subscription.")}let{_parentOrParents:N}=V;if(null===N)V._parentOrParents=this;else if(N instanceof Y){if(N===this)return V;V._parentOrParents=[N,this]}else{if(-1!==N.indexOf(this))return V;N.push(this)}const k=this._subscriptions;return null===k?this._subscriptions=[V]:k.push(V),V}remove(O){const V=this._subscriptions;if(V){const N=V.indexOf(O);-1!==N&&V.splice(N,1)}}}var H;function ne(H){return H.reduce((O,V)=>O.concat(V instanceof oe?V.errors:V),[])}Y.EMPTY=((H=new Y).closed=!0,H)},2494:(Ve,Ce,R)=>{"use strict";R.d(Ce,{v:()=>U});let m=!1;const U={Promise:void 0,set useDeprecatedSynchronousErrorHandling(B){if(B){const X=new Error;console.warn("DEPRECATED! RxJS was set to use deprecated synchronous error handling behavior by code at: \n"+X.stack)}else m&&console.log("RxJS: Back to a better error behavior. Thank you. <3");m=B},get useDeprecatedSynchronousErrorHandling(){return m}}},5345:(Ve,Ce,R)=>{"use strict";R.d(Ce,{IY:()=>X,Ds:()=>Y,ft:()=>H});var m=R(7393),U=R(7574),B=R(7444);class X extends m.L{constructor(V){super(),this.parent=V}_next(V){this.parent.notifyNext(V)}_error(V){this.parent.notifyError(V),this.unsubscribe()}_complete(){this.parent.notifyComplete(),this.unsubscribe()}}class Y extends m.L{notifyNext(V){this.destination.next(V)}notifyError(V){this.destination.error(V)}notifyComplete(){this.destination.complete()}}function H(O,V){if(V.closed)return;if(O instanceof U.y)return O.subscribe(V);let N;try{N=(0,B.s)(O)(V)}catch(k){V.error(k)}return N}},2441:(Ve,Ce,R)=>{"use strict";R.d(Ce,{c:()=>oe,N:()=>Y});var m=R(9765),U=R(7574),B=R(5319),X=R(1307);class oe extends U.y{constructor(N,k){super(),this.source=N,this.subjectFactory=k,this._refCount=0,this._isComplete=!1}_subscribe(N){return this.getSubject().subscribe(N)}getSubject(){const N=this._subject;return(!N||N.isStopped)&&(this._subject=this.subjectFactory()),this._subject}connect(){let N=this._connection;return N||(this._isComplete=!1,N=this._connection=new B.w,N.add(this.source.subscribe(new ne(this.getSubject(),this))),N.closed&&(this._connection=null,N=B.w.EMPTY)),N}refCount(){return(0,X.x)()(this)}}const Y=(()=>{const V=oe.prototype;return{operator:{value:null},_refCount:{value:0,writable:!0},_subject:{value:null,writable:!0},_connection:{value:null,writable:!0},_subscribe:{value:V._subscribe},_isComplete:{value:V._isComplete,writable:!0},getSubject:{value:V.getSubject},connect:{value:V.connect},refCount:{value:V.refCount}}})();class ne extends m.Yc{constructor(N,k){super(N),this.connectable=k}_error(N){this._unsubscribe(),super._error(N)}_complete(){this.connectable._isComplete=!0,this._unsubscribe(),super._complete()}_unsubscribe(){const N=this.connectable;if(N){this.connectable=null;const k=N._connection;N._refCount=0,N._subject=null,N._connection=null,k&&k.unsubscribe()}}}},9193:(Ve,Ce,R)=>{"use strict";R.d(Ce,{E:()=>U,c:()=>B});var m=R(7574);const U=new m.y(oe=>oe.complete());function B(oe){return oe?function(oe){return new m.y(Y=>oe.schedule(()=>Y.complete()))}(oe):U}},4402:(Ve,Ce,R)=>{"use strict";R.d(Ce,{D:()=>K});var m=R(7574),U=R(7444),B=R(5319),X=R(6554),ne=R(4087),H=R(377),N=R(4072),k=R(9489);function K(J,Q){return Q?function(J,Q){if(null!=J){if(function(J){return J&&"function"==typeof J[X.L]}(J))return function(J,Q){return new m.y(G=>{const Z=new B.w;return Z.add(Q.schedule(()=>{const ae=J[X.L]();Z.add(ae.subscribe({next(ce){Z.add(Q.schedule(()=>G.next(ce)))},error(ce){Z.add(Q.schedule(()=>G.error(ce)))},complete(){Z.add(Q.schedule(()=>G.complete()))}}))})),Z})}(J,Q);if((0,N.t)(J))return function(J,Q){return new m.y(G=>{const Z=new B.w;return Z.add(Q.schedule(()=>J.then(ae=>{Z.add(Q.schedule(()=>{G.next(ae),Z.add(Q.schedule(()=>G.complete()))}))},ae=>{Z.add(Q.schedule(()=>G.error(ae)))}))),Z})}(J,Q);if((0,k.z)(J))return(0,ne.r)(J,Q);if(function(J){return J&&"function"==typeof J[H.hZ]}(J)||"string"==typeof J)return function(J,Q){if(!J)throw new Error("Iterable cannot be null");return new m.y(G=>{const Z=new B.w;let ae;return Z.add(()=>{ae&&"function"==typeof ae.return&&ae.return()}),Z.add(Q.schedule(()=>{ae=J[H.hZ](),Z.add(Q.schedule(function(){if(G.closed)return;let ce,ye;try{const me=ae.next();ce=me.value,ye=me.done}catch(me){return void G.error(me)}ye?G.complete():(G.next(ce),this.schedule())}))})),Z})}(J,Q)}throw new TypeError((null!==J&&typeof J||J)+" is not observable")}(J,Q):J instanceof m.y?J:new m.y((0,U.s)(J))}},6693:(Ve,Ce,R)=>{"use strict";R.d(Ce,{n:()=>X});var m=R(7574),U=R(5015),B=R(4087);function X(oe,Y){return Y?(0,B.r)(oe,Y):new m.y((0,U.V)(oe))}},6682:(Ve,Ce,R)=>{"use strict";R.d(Ce,{T:()=>oe});var m=R(7574),U=R(4869),B=R(3282),X=R(6693);function oe(...Y){let ne=Number.POSITIVE_INFINITY,H=null,O=Y[Y.length-1];return(0,U.K)(O)?(H=Y.pop(),Y.length>1&&"number"==typeof Y[Y.length-1]&&(ne=Y.pop())):"number"==typeof O&&(ne=Y.pop()),null===H&&1===Y.length&&Y[0]instanceof m.y?Y[0]:(0,B.J)(ne)((0,X.n)(Y,H))}},5917:(Ve,Ce,R)=>{"use strict";R.d(Ce,{of:()=>X});var m=R(4869),U=R(6693),B=R(4087);function X(...oe){let Y=oe[oe.length-1];return(0,m.K)(Y)?(oe.pop(),(0,B.r)(oe,Y)):(0,U.n)(oe)}},8002:(Ve,Ce,R)=>{"use strict";R.d(Ce,{U:()=>U});var m=R(7393);function U(oe,Y){return function(H){if("function"!=typeof oe)throw new TypeError("argument is not a function. Are you looking for `mapTo()`?");return H.lift(new B(oe,Y))}}class B{constructor(Y,ne){this.project=Y,this.thisArg=ne}call(Y,ne){return ne.subscribe(new X(Y,this.project,this.thisArg))}}class X extends m.L{constructor(Y,ne,H){super(Y),this.project=ne,this.count=0,this.thisArg=H||this}_next(Y){let ne;try{ne=this.project.call(this.thisArg,Y,this.count++)}catch(H){return void this.destination.error(H)}this.destination.next(ne)}}},3282:(Ve,Ce,R)=>{"use strict";R.d(Ce,{J:()=>B});var m=R(9773),U=R(4487);function B(X=Number.POSITIVE_INFINITY){return(0,m.zg)(U.y,X)}},9773:(Ve,Ce,R)=>{"use strict";R.d(Ce,{zg:()=>X});var m=R(8002),U=R(4402),B=R(5345);function X(H,O,V=Number.POSITIVE_INFINITY){return"function"==typeof O?N=>N.pipe(X((k,T)=>(0,U.D)(H(k,T)).pipe((0,m.U)((F,K)=>O(k,F,T,K))),V)):("number"==typeof O&&(V=O),N=>N.lift(new oe(H,V)))}class oe{constructor(O,V=Number.POSITIVE_INFINITY){this.project=O,this.concurrent=V}call(O,V){return V.subscribe(new Y(O,this.project,this.concurrent))}}class Y extends B.Ds{constructor(O,V,N=Number.POSITIVE_INFINITY){super(O),this.project=V,this.concurrent=N,this.hasCompleted=!1,this.buffer=[],this.active=0,this.index=0}_next(O){this.active<this.concurrent?this._tryNext(O):this.buffer.push(O)}_tryNext(O){let V;const N=this.index++;try{V=this.project(O,N)}catch(k){return void this.destination.error(k)}this.active++,this._innerSub(V)}_innerSub(O){const V=new B.IY(this),N=this.destination;N.add(V);const k=(0,B.ft)(O,V);k!==V&&N.add(k)}_complete(){this.hasCompleted=!0,0===this.active&&0===this.buffer.length&&this.destination.complete(),this.unsubscribe()}notifyNext(O){this.destination.next(O)}notifyComplete(){const O=this.buffer;this.active--,O.length>0?this._next(O.shift()):0===this.active&&this.hasCompleted&&this.destination.complete()}}},309:(Ve,Ce,R)=>{"use strict";R.d(Ce,{ht:()=>N,QV:()=>O});var m=R(7393),U=R(9193),B=R(5917),X=R(7574);class H{constructor(F,K,J){this.kind=F,this.value=K,this.error=J,this.hasValue="N"===F}observe(F){switch(this.kind){case"N":return F.next&&F.next(this.value);case"E":return F.error&&F.error(this.error);case"C":return F.complete&&F.complete()}}do(F,K,J){switch(this.kind){case"N":return F&&F(this.value);case"E":return K&&K(this.error);case"C":return J&&J()}}accept(F,K,J){return F&&"function"==typeof F.next?this.observe(F):this.do(F,K,J)}toObservable(){switch(this.kind){case"N":return(0,B.of)(this.value);case"E":return T=this.error,new X.y(K=>K.error(T));case"C":return(0,U.c)()}var T;throw new Error("unexpected notification kind value")}static createNext(F){return void 0!==F?new H("N",F):H.undefinedValueNotification}static createError(F){return new H("E",void 0,F)}static createComplete(){return H.completeNotification}}function O(T,F=0){return function(J){return J.lift(new V(T,F))}}H.completeNotification=new H("C"),H.undefinedValueNotification=new H("N",void 0);class V{constructor(F,K=0){this.scheduler=F,this.delay=K}call(F,K){return K.subscribe(new N(F,this.scheduler,this.delay))}}class N extends m.L{constructor(F,K,J=0){super(F),this.scheduler=K,this.delay=J}static dispatch(F){const{notification:K,destination:J}=F;K.observe(J),this.unsubscribe()}scheduleMessage(F){this.destination.add(this.scheduler.schedule(N.dispatch,this.delay,new k(F,this.destination)))}_next(F){this.scheduleMessage(H.createNext(F))}_error(F){this.scheduleMessage(H.createError(F)),this.unsubscribe()}_complete(){this.scheduleMessage(H.createComplete()),this.unsubscribe()}}class k{constructor(F,K){this.notification=F,this.destination=K}}},1307:(Ve,Ce,R)=>{"use strict";R.d(Ce,{x:()=>U});var m=R(7393);function U(){return function(Y){return Y.lift(new B(Y))}}class B{constructor(Y){this.connectable=Y}call(Y,ne){const{connectable:H}=this;H._refCount++;const O=new X(Y,H),V=ne.subscribe(O);return O.closed||(O.connection=H.connect()),V}}class X extends m.L{constructor(Y,ne){super(Y),this.connectable=ne}_unsubscribe(){const{connectable:Y}=this;if(!Y)return void(this.connection=null);this.connectable=null;const ne=Y._refCount;if(ne<=0)return void(this.connection=null);if(Y._refCount=ne-1,ne>1)return void(this.connection=null);const{connection:H}=this,O=Y._connection;this.connection=null,O&&(!H||O===H)&&O.unsubscribe()}}},3101:(Ve,Ce,R)=>{"use strict";R.d(Ce,{R:()=>Q});var m=R(7574);let U=1;const B=Promise.resolve(),X={};function oe(Z){return Z in X&&(delete X[Z],!0)}const Y={setImmediate(Z){const ae=U++;return X[ae]=!0,B.then(()=>oe(ae)&&Z()),ae},clearImmediate(Z){oe(Z)}};var H=R(6465),V=R(6102);const T=new class extends V.v{flush(ae){this.active=!0,this.scheduled=void 0;const{actions:ce}=this;let ye,me=-1,le=ce.length;ae=ae||ce.shift();do{if(ye=ae.execute(ae.state,ae.delay))break}while(++me<le&&(ae=ce.shift()));if(this.active=!1,ye){for(;++me<le&&(ae=ce.shift());)ae.unsubscribe();throw ye}}}(class extends H.o{constructor(ae,ce){super(ae,ce),this.scheduler=ae,this.work=ce}requestAsyncId(ae,ce,ye=0){return null!==ye&&ye>0?super.requestAsyncId(ae,ce,ye):(ae.actions.push(this),ae.scheduled||(ae.scheduled=Y.setImmediate(ae.flush.bind(ae,null))))}recycleAsyncId(ae,ce,ye=0){if(null!==ye&&ye>0||null===ye&&this.delay>0)return super.recycleAsyncId(ae,ce,ye);0===ae.actions.length&&(Y.clearImmediate(ce),ae.scheduled=void 0)}});var F=R(9796);class J extends m.y{constructor(ae,ce=0,ye=T){var Z;super(),this.source=ae,this.delayTime=ce,this.scheduler=ye,(!(!(0,F.k)(Z=ce)&&Z-parseFloat(Z)+1>=0)||ce<0)&&(this.delayTime=0),(!ye||"function"!=typeof ye.schedule)&&(this.scheduler=T)}static create(ae,ce=0,ye=T){return new J(ae,ce,ye)}static dispatch(ae){const{source:ce,subscriber:ye}=ae;return this.add(ce.subscribe(ye))}_subscribe(ae){return this.scheduler.schedule(J.dispatch,this.delayTime,{source:this.source,subscriber:ae})}}function Q(Z,ae=0){return function(ye){return ye.lift(new G(Z,ae))}}class G{constructor(ae,ce){this.scheduler=ae,this.delay=ce}call(ae,ce){return new J(ce,this.delay,this.scheduler).subscribe(ae)}}},3342:(Ve,Ce,R)=>{"use strict";R.d(Ce,{b:()=>X});var m=R(7393);function U(){}var B=R(9105);function X(ne,H,O){return function(N){return N.lift(new oe(ne,H,O))}}class oe{constructor(H,O,V){this.nextOrObserver=H,this.error=O,this.complete=V}call(H,O){return O.subscribe(new Y(H,this.nextOrObserver,this.error,this.complete))}}class Y extends m.L{constructor(H,O,V,N){super(H),this._tapNext=U,this._tapError=U,this._tapComplete=U,this._tapError=V||U,this._tapComplete=N||U,(0,B.m)(O)?(this._context=this,this._tapNext=O):O&&(this._context=O,this._tapNext=O.next||U,this._tapError=O.error||U,this._tapComplete=O.complete||U)}_next(H){try{this._tapNext.call(this._context,H)}catch(O){return void this.destination.error(O)}this.destination.next(H)}_error(H){try{this._tapError.call(this._context,H)}catch(O){return void this.destination.error(O)}this.destination.error(H)}_complete(){try{this._tapComplete.call(this._context)}catch(H){return void this.destination.error(H)}return this.destination.complete()}}},4087:(Ve,Ce,R)=>{"use strict";R.d(Ce,{r:()=>B});var m=R(7574),U=R(5319);function B(X,oe){return new m.y(Y=>{const ne=new U.w;let H=0;return ne.add(oe.schedule(function(){H!==X.length?(Y.next(X[H++]),Y.closed||ne.add(this.schedule())):Y.complete()})),ne})}},6465:(Ve,Ce,R)=>{"use strict";R.d(Ce,{o:()=>B});var m=R(5319);class U extends m.w{constructor(oe,Y){super()}schedule(oe,Y=0){return this}}class B extends U{constructor(oe,Y){super(oe,Y),this.scheduler=oe,this.work=Y,this.pending=!1}schedule(oe,Y=0){if(this.closed)return this;this.state=oe;const ne=this.id,H=this.scheduler;return null!=ne&&(this.id=this.recycleAsyncId(H,ne,Y)),this.pending=!0,this.delay=Y,this.id=this.id||this.requestAsyncId(H,this.id,Y),this}requestAsyncId(oe,Y,ne=0){return setInterval(oe.flush.bind(oe,this),ne)}recycleAsyncId(oe,Y,ne=0){if(null!==ne&&this.delay===ne&&!1===this.pending)return Y;clearInterval(Y)}execute(oe,Y){if(this.closed)return new Error("executing a cancelled action");this.pending=!1;const ne=this._execute(oe,Y);if(ne)return ne;!1===this.pending&&null!=this.id&&(this.id=this.recycleAsyncId(this.scheduler,this.id,null))}_execute(oe,Y){let H,ne=!1;try{this.work(oe)}catch(O){ne=!0,H=!!O&&O||new Error(O)}if(ne)return this.unsubscribe(),H}_unsubscribe(){const oe=this.id,Y=this.scheduler,ne=Y.actions,H=ne.indexOf(this);this.work=null,this.state=null,this.pending=!1,this.scheduler=null,-1!==H&&ne.splice(H,1),null!=oe&&(this.id=this.recycleAsyncId(Y,oe,null)),this.delay=null}}},6102:(Ve,Ce,R)=>{"use strict";R.d(Ce,{v:()=>U});let m=(()=>{class B{constructor(oe,Y=B.now){this.SchedulerAction=oe,this.now=Y}schedule(oe,Y=0,ne){return new this.SchedulerAction(this,oe).schedule(ne,Y)}}return B.now=()=>Date.now(),B})();class U extends m{constructor(X,oe=m.now){super(X,()=>U.delegate&&U.delegate!==this?U.delegate.now():oe()),this.actions=[],this.active=!1,this.scheduled=void 0}schedule(X,oe=0,Y){return U.delegate&&U.delegate!==this?U.delegate.schedule(X,oe,Y):super.schedule(X,oe,Y)}flush(X){const{actions:oe}=this;if(this.active)return void oe.push(X);let Y;this.active=!0;do{if(Y=X.execute(X.state,X.delay))break}while(X=oe.shift());if(this.active=!1,Y){for(;X=oe.shift();)X.unsubscribe();throw Y}}}},3637:(Ve,Ce,R)=>{"use strict";R.d(Ce,{z:()=>B});var m=R(6465);const B=new(R(6102).v)(m.o)},7771:(Ve,Ce,R)=>{"use strict";R.d(Ce,{c:()=>Y,N:()=>oe});var m=R(6465),B=R(6102);const oe=new class extends B.v{}(class extends m.o{constructor(H,O){super(H,O),this.scheduler=H,this.work=O}schedule(H,O=0){return O>0?super.schedule(H,O):(this.delay=O,this.state=H,this.scheduler.flush(this),this)}execute(H,O){return O>0||this.closed?super.execute(H,O):this._execute(H,O)}requestAsyncId(H,O,V=0){return null!==V&&V>0||null===V&&this.delay>0?super.requestAsyncId(H,O,V):H.flush(this)}}),Y=oe},377:(Ve,Ce,R)=>{"use strict";R.d(Ce,{hZ:()=>U});const U="function"==typeof Symbol&&Symbol.iterator?Symbol.iterator:"@@iterator"},6554:(Ve,Ce,R)=>{"use strict";R.d(Ce,{L:()=>m});const m="function"==typeof Symbol&&Symbol.observable||"@@observable"},9181:(Ve,Ce,R)=>{"use strict";R.d(Ce,{b:()=>m});const m="function"==typeof Symbol?Symbol("rxSubscriber"):"@@rxSubscriber_"+Math.random()},7971:(Ve,Ce,R)=>{"use strict";R.d(Ce,{N:()=>U});const U=(()=>{function B(){return Error.call(this),this.message="object unsubscribed",this.name="ObjectUnsubscribedError",this}return B.prototype=Object.create(Error.prototype),B})()},4449:(Ve,Ce,R)=>{"use strict";function m(U){setTimeout(()=>{throw U},0)}R.d(Ce,{z:()=>m})},4487:(Ve,Ce,R)=>{"use strict";function m(U){return U}R.d(Ce,{y:()=>m})},9796:(Ve,Ce,R)=>{"use strict";R.d(Ce,{k:()=>m});const m=Array.isArray||(U=>U&&"number"==typeof U.length)},9489:(Ve,Ce,R)=>{"use strict";R.d(Ce,{z:()=>m});const m=U=>U&&"number"==typeof U.length&&"function"!=typeof U},9105:(Ve,Ce,R)=>{"use strict";function m(U){return"function"==typeof U}R.d(Ce,{m:()=>m})},1555:(Ve,Ce,R)=>{"use strict";function m(U){return null!==U&&"object"==typeof U}R.d(Ce,{K:()=>m})},4072:(Ve,Ce,R)=>{"use strict";function m(U){return!!U&&"function"!=typeof U.subscribe&&"function"==typeof U.then}R.d(Ce,{t:()=>m})},4869:(Ve,Ce,R)=>{"use strict";function m(U){return U&&"function"==typeof U.schedule}R.d(Ce,{K:()=>m})},7444:(Ve,Ce,R)=>{"use strict";R.d(Ce,{s:()=>N});var m=R(5015),U=R(4449),X=R(377),Y=R(6554),H=R(9489),O=R(4072),V=R(1555);const N=k=>{if(k&&"function"==typeof k[Y.L])return(k=>T=>{const F=k[Y.L]();if("function"!=typeof F.subscribe)throw new TypeError("Provided object does not correctly implement Symbol.observable");return F.subscribe(T)})(k);if((0,H.z)(k))return(0,m.V)(k);if((0,O.t)(k))return(k=>T=>(k.then(F=>{T.closed||(T.next(F),T.complete())},F=>T.error(F)).then(null,U.z),T))(k);if(k&&"function"==typeof k[X.hZ])return(k=>T=>{const F=k[X.hZ]();for(;;){let K;try{K=F.next()}catch(J){return T.error(J),T}if(K.done){T.complete();break}if(T.next(K.value),T.closed)break}return"function"==typeof F.return&&T.add(()=>{F.return&&F.return()}),T})(k);{const F=`You provided ${(0,V.K)(k)?"an invalid object":`'${k}'`} where a stream was expected. You can provide an Observable, Promise, Array, or Iterable.`;throw new TypeError(F)}}},5015:(Ve,Ce,R)=>{"use strict";R.d(Ce,{V:()=>m});const m=U=>B=>{for(let X=0,oe=U.length;X<oe&&!B.closed;X++)B.next(U[X]);B.complete()}},88:(Ve,Ce,R)=>{"use strict";var m=R(3018);let U=null;function B(){return U}const ne=new m.OlP("DocumentToken");let H=(()=>{class s{historyGo(i){throw new Error("Not implemented")}}return s.\u0275fac=function(i){return new(i||s)},s.\u0275prov=(0,m.Yz7)({factory:O,token:s,providedIn:"platform"}),s})();function O(){return(0,m.LFG)(N)}const V=new m.OlP("Location Initialized");let N=(()=>{class s extends H{constructor(i){super(),this._doc=i,this._init()}_init(){this.location=window.location,this._history=window.history}getBaseHrefFromDOM(){return B().getBaseHref(this._doc)}onPopState(i){const o=B().getGlobalEventTarget(this._doc,"window");return o.addEventListener("popstate",i,!1),()=>o.removeEventListener("popstate",i)}onHashChange(i){const o=B().getGlobalEventTarget(this._doc,"window");return o.addEventListener("hashchange",i,!1),()=>o.removeEventListener("hashchange",i)}get href(){return this.location.href}get protocol(){return this.location.protocol}get hostname(){return this.location.hostname}get port(){return this.location.port}get pathname(){return this.location.pathname}get search(){return this.location.search}get hash(){return this.location.hash}set pathname(i){this.location.pathname=i}pushState(i,o,u){k()?this._history.pushState(i,o,u):this.location.hash=u}replaceState(i,o,u){k()?this._history.replaceState(i,o,u):this.location.hash=u}forward(){this._history.forward()}back(){this._history.back()}historyGo(i=0){this._history.go(i)}getState(){return this._history.state}}return s.\u0275fac=function(i){return new(i||s)(m.LFG(ne))},s.\u0275prov=(0,m.Yz7)({factory:T,token:s,providedIn:"platform"}),s})();function k(){return!!window.history.pushState}function T(){return new N((0,m.LFG)(ne))}function F(s,r){if(0==s.length)return r;if(0==r.length)return s;let i=0;return s.endsWith("/")&&i++,r.startsWith("/")&&i++,2==i?s+r.substring(1):1==i?s+r:s+"/"+r}function K(s){const r=s.match(/#|\?|$/),i=r&&r.index||s.length;return s.slice(0,i-("/"===s[i-1]?1:0))+s.slice(i)}function J(s){return s&&"?"!==s[0]?"?"+s:s}let Q=(()=>{class s{historyGo(i){throw new Error("Not implemented")}}return s.\u0275fac=function(i){return new(i||s)},s.\u0275prov=(0,m.Yz7)({factory:G,token:s,providedIn:"root"}),s})();function G(s){const r=(0,m.LFG)(ne).location;return new ae((0,m.LFG)(H),r&&r.origin||"")}const Z=new m.OlP("appBaseHref");let ae=(()=>{class s extends Q{constructor(i,o){if(super(),this._platformLocation=i,this._removeListenerFns=[],null==o&&(o=this._platformLocation.getBaseHrefFromDOM()),null==o)throw new Error("No base href set. Please provide a value for the APP_BASE_HREF token or add a base element to the document.");this._baseHref=o}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(i){this._removeListenerFns.push(this._platformLocation.onPopState(i),this._platformLocation.onHashChange(i))}getBaseHref(){return this._baseHref}prepareExternalUrl(i){return F(this._baseHref,i)}path(i=!1){const o=this._platformLocation.pathname+J(this._platformLocation.search),u=this._platformLocation.hash;return u&&i?`${o}${u}`:o}pushState(i,o,u,f){const v=this.prepareExternalUrl(u+J(f));this._platformLocation.pushState(i,o,v)}replaceState(i,o,u,f){const v=this.prepareExternalUrl(u+J(f));this._platformLocation.replaceState(i,o,v)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}historyGo(i=0){var o,u;null===(u=(o=this._platformLocation).historyGo)||void 0===u||u.call(o,i)}}return s.\u0275fac=function(i){return new(i||s)(m.LFG(H),m.LFG(Z,8))},s.\u0275prov=m.Yz7({token:s,factory:s.\u0275fac}),s})(),ce=(()=>{class s extends Q{constructor(i,o){super(),this._platformLocation=i,this._baseHref="",this._removeListenerFns=[],null!=o&&(this._baseHref=o)}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(i){this._removeListenerFns.push(this._platformLocation.onPopState(i),this._platformLocation.onHashChange(i))}getBaseHref(){return this._baseHref}path(i=!1){let o=this._platformLocation.hash;return null==o&&(o="#"),o.length>0?o.substring(1):o}prepareExternalUrl(i){const o=F(this._baseHref,i);return o.length>0?"#"+o:o}pushState(i,o,u,f){let v=this.prepareExternalUrl(u+J(f));0==v.length&&(v=this._platformLocation.pathname),this._platformLocation.pushState(i,o,v)}replaceState(i,o,u,f){let v=this.prepareExternalUrl(u+J(f));0==v.length&&(v=this._platformLocation.pathname),this._platformLocation.replaceState(i,o,v)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}historyGo(i=0){var o,u;null===(u=(o=this._platformLocation).historyGo)||void 0===u||u.call(o,i)}}return s.\u0275fac=function(i){return new(i||s)(m.LFG(H),m.LFG(Z,8))},s.\u0275prov=m.Yz7({token:s,factory:s.\u0275fac}),s})(),ye=(()=>{class s{constructor(i,o){this._subject=new m.vpe,this._urlChangeListeners=[],this._platformStrategy=i;const u=this._platformStrategy.getBaseHref();this._platformLocation=o,this._baseHref=K(Ne(u)),this._platformStrategy.onPopState(f=>{this._subject.emit({url:this.path(!0),pop:!0,state:f.state,type:f.type})})}path(i=!1){return this.normalize(this._platformStrategy.path(i))}getState(){return this._platformLocation.getState()}isCurrentPathEqualTo(i,o=""){return this.path()==this.normalize(i+J(o))}normalize(i){return s.stripTrailingSlash(function(s,r){return s&&r.startsWith(s)?r.substring(s.length):r}(this._baseHref,Ne(i)))}prepareExternalUrl(i){return i&&"/"!==i[0]&&(i="/"+i),this._platformStrategy.prepareExternalUrl(i)}go(i,o="",u=null){this._platformStrategy.pushState(u,"",i,o),this._notifyUrlChangeListeners(this.prepareExternalUrl(i+J(o)),u)}replaceState(i,o="",u=null){this._platformStrategy.replaceState(u,"",i,o),this._notifyUrlChangeListeners(this.prepareExternalUrl(i+J(o)),u)}forward(){this._platformStrategy.forward()}back(){this._platformStrategy.back()}historyGo(i=0){var o,u;null===(u=(o=this._platformStrategy).historyGo)||void 0===u||u.call(o,i)}onUrlChange(i){this._urlChangeListeners.push(i),this._urlChangeSubscription||(this._urlChangeSubscription=this.subscribe(o=>{this._notifyUrlChangeListeners(o.url,o.state)}))}_notifyUrlChangeListeners(i="",o){this._urlChangeListeners.forEach(u=>u(i,o))}subscribe(i,o,u){return this._subject.subscribe({next:i,error:o,complete:u})}}return s.\u0275fac=function(i){return new(i||s)(m.LFG(Q),m.LFG(H))},s.normalizeQueryParams=J,s.joinWithSlash=F,s.stripTrailingSlash=K,s.\u0275prov=(0,m.Yz7)({factory:me,token:s,providedIn:"root"}),s})();function me(){return new ye((0,m.LFG)(Q),(0,m.LFG)(H))}function Ne(s){return s.replace(/\/index.html$/,"")}var ee=(()=>((ee=ee||{})[ee.Zero=0]="Zero",ee[ee.One=1]="One",ee[ee.Two=2]="Two",ee[ee.Few=3]="Few",ee[ee.Many=4]="Many",ee[ee.Other=5]="Other",ee))(),se=(()=>((se=se||{})[se.Format=0]="Format",se[se.Standalone=1]="Standalone",se))(),ve=(()=>((ve=ve||{})[ve.Narrow=0]="Narrow",ve[ve.Abbreviated=1]="Abbreviated",ve[ve.Wide=2]="Wide",ve[ve.Short=3]="Short",ve))(),ie=(()=>((ie=ie||{})[ie.Short=0]="Short",ie[ie.Medium=1]="Medium",ie[ie.Long=2]="Long",ie[ie.Full=3]="Full",ie))(),ue=(()=>((ue=ue||{})[ue.Decimal=0]="Decimal",ue[ue.Group=1]="Group",ue[ue.List=2]="List",ue[ue.PercentSign=3]="PercentSign",ue[ue.PlusSign=4]="PlusSign",ue[ue.MinusSign=5]="MinusSign",ue[ue.Exponential=6]="Exponential",ue[ue.SuperscriptingExponent=7]="SuperscriptingExponent",ue[ue.PerMille=8]="PerMille",ue[ue.Infinity=9]="Infinity",ue[ue.NaN=10]="NaN",ue[ue.TimeSeparator=11]="TimeSeparator",ue[ue.CurrencyDecimal=12]="CurrencyDecimal",ue[ue.CurrencyGroup=13]="CurrencyGroup",ue))();function ft(s,r){return un((0,m.cg1)(s)[m.wAp.DateFormat],r)}function ut(s,r){return un((0,m.cg1)(s)[m.wAp.TimeFormat],r)}function Je(s,r){return un((0,m.cg1)(s)[m.wAp.DateTimeFormat],r)}function Sn(s,r){const i=(0,m.cg1)(s),o=i[m.wAp.NumberSymbols][r];if(void 0===o){if(r===ue.CurrencyDecimal)return i[m.wAp.NumberSymbols][ue.Decimal];if(r===ue.CurrencyGroup)return i[m.wAp.NumberSymbols][ue.Group]}return o}const In=m.kL8;function J1(s){if(!s[m.wAp.ExtraData])throw new Error(`Missing extra locale data for the locale "${s[m.wAp.LocaleId]}". Use "registerLocaleData" to load new data. See the "I18n guide" on angular.io to know more.`)}function un(s,r){for(let i=r;i>-1;i--)if(void 0!==s[i])return s[i];throw new Error("Locale data API: locale data undefined")}function yn(s){const[r,i]=s.split(":");return{hours:+r,minutes:+i}}const Ft=/^(\d{4})-?(\d\d)-?(\d\d)(?:T(\d\d)(?::?(\d\d)(?::?(\d\d)(?:\.(\d+))?)?)?(Z|([+-])(\d\d):?(\d\d))?)?$/,Ut={},qt=/((?:[^BEGHLMOSWYZabcdhmswyz']+)|(?:'(?:[^']|'')*')|(?:G{1,5}|y{1,4}|Y{1,4}|M{1,5}|L{1,5}|w{1,2}|W{1}|d{1,2}|E{1,6}|c{1,6}|a{1,5}|b{1,5}|B{1,5}|h{1,2}|H{1,2}|m{1,2}|s{1,2}|S{1,3}|z{1,4}|Z{1,5}|O{1,4}))([\s\S]*)/;var Kt=(()=>((Kt=Kt||{})[Kt.Short=0]="Short",Kt[Kt.ShortGMT=1]="ShortGMT",Kt[Kt.Long=2]="Long",Kt[Kt.Extended=3]="Extended",Kt))(),et=(()=>((et=et||{})[et.FullYear=0]="FullYear",et[et.Month=1]="Month",et[et.Date=2]="Date",et[et.Hours=3]="Hours",et[et.Minutes=4]="Minutes",et[et.Seconds=5]="Seconds",et[et.FractionalSeconds=6]="FractionalSeconds",et[et.Day=7]="Day",et))(),it=(()=>((it=it||{})[it.DayPeriods=0]="DayPeriods",it[it.Days=1]="Days",it[it.Months=2]="Months",it[it.Eras=3]="Eras",it))();function Dn(s,r,i,o){let u=function(s){if(Ds(s))return s;if("number"==typeof s&&!isNaN(s))return new Date(s);if("string"==typeof s){if(s=s.trim(),/^(\d{4}(-\d{1,2}(-\d{1,2})?)?)$/.test(s)){const[u,f=1,v=1]=s.split("-").map(x=>+x);return kr(u,f-1,v)}const i=parseFloat(s);if(!isNaN(s-i))return new Date(i);let o;if(o=s.match(Ft))return function(s){const r=new Date(0);let i=0,o=0;const u=s[8]?r.setUTCFullYear:r.setFullYear,f=s[8]?r.setUTCHours:r.setHours;s[9]&&(i=Number(s[9]+s[10]),o=Number(s[9]+s[11])),u.call(r,Number(s[1]),Number(s[2])-1,Number(s[3]));const v=Number(s[4]||0)-i,x=Number(s[5]||0)-o,S=Number(s[6]||0),L=Math.floor(1e3*parseFloat("0."+(s[7]||0)));return f.call(r,v,x,S,L),r}(o)}const r=new Date(s);if(!Ds(r))throw new Error(`Unable to convert "${s}" into a date`);return r}(s);r=tr(i,r)||r;let x,v=[];for(;r;){if(x=qt.exec(r),!x){v.push(r);break}{v=v.concat(x.slice(1));const P=v.pop();if(!P)break;r=P}}let S=u.getTimezoneOffset();o&&(S=Rn(o,S),u=function(s,r,i){const u=s.getTimezoneOffset();return function(s,r){return(s=new Date(s.getTime())).setMinutes(s.getMinutes()+r),s}(s,-1*(Rn(r,u)-u))}(u,o));let L="";return v.forEach(P=>{const W=function(s){if(_n[s])return _n[s];let r;switch(s){case"G":case"GG":case"GGG":r=te(it.Eras,ve.Abbreviated);break;case"GGGG":r=te(it.Eras,ve.Wide);break;case"GGGGG":r=te(it.Eras,ve.Narrow);break;case"y":r=nn(et.FullYear,1,0,!1,!0);break;case"yy":r=nn(et.FullYear,2,0,!0,!0);break;case"yyy":r=nn(et.FullYear,3,0,!1,!0);break;case"yyyy":r=nn(et.FullYear,4,0,!1,!0);break;case"Y":r=Tt(1);break;case"YY":r=Tt(2,!0);break;case"YYY":r=Tt(3);break;case"YYYY":r=Tt(4);break;case"M":case"L":r=nn(et.Month,1,1);break;case"MM":case"LL":r=nn(et.Month,2,1);break;case"MMM":r=te(it.Months,ve.Abbreviated);break;case"MMMM":r=te(it.Months,ve.Wide);break;case"MMMMM":r=te(it.Months,ve.Narrow);break;case"LLL":r=te(it.Months,ve.Abbreviated,se.Standalone);break;case"LLLL":r=te(it.Months,ve.Wide,se.Standalone);break;case"LLLLL":r=te(it.Months,ve.Narrow,se.Standalone);break;case"w":r=zt(1);break;case"ww":r=zt(2);break;case"W":r=zt(1,!0);break;case"d":r=nn(et.Date,1);break;case"dd":r=nn(et.Date,2);break;case"c":case"cc":r=nn(et.Day,1);break;case"ccc":r=te(it.Days,ve.Abbreviated,se.Standalone);break;case"cccc":r=te(it.Days,ve.Wide,se.Standalone);break;case"ccccc":r=te(it.Days,ve.Narrow,se.Standalone);break;case"cccccc":r=te(it.Days,ve.Short,se.Standalone);break;case"E":case"EE":case"EEE":r=te(it.Days,ve.Abbreviated);break;case"EEEE":r=te(it.Days,ve.Wide);break;case"EEEEE":r=te(it.Days,ve.Narrow);break;case"EEEEEE":r=te(it.Days,ve.Short);break;case"a":case"aa":case"aaa":r=te(it.DayPeriods,ve.Abbreviated);break;case"aaaa":r=te(it.DayPeriods,ve.Wide);break;case"aaaaa":r=te(it.DayPeriods,ve.Narrow);break;case"b":case"bb":case"bbb":r=te(it.DayPeriods,ve.Abbreviated,se.Standalone,!0);break;case"bbbb":r=te(it.DayPeriods,ve.Wide,se.Standalone,!0);break;case"bbbbb":r=te(it.DayPeriods,ve.Narrow,se.Standalone,!0);break;case"B":case"BB":case"BBB":r=te(it.DayPeriods,ve.Abbreviated,se.Format,!0);break;case"BBBB":r=te(it.DayPeriods,ve.Wide,se.Format,!0);break;case"BBBBB":r=te(it.DayPeriods,ve.Narrow,se.Format,!0);break;case"h":r=nn(et.Hours,1,-12);break;case"hh":r=nn(et.Hours,2,-12);break;case"H":r=nn(et.Hours,1);break;case"HH":r=nn(et.Hours,2);break;case"m":r=nn(et.Minutes,1);break;case"mm":r=nn(et.Minutes,2);break;case"s":r=nn(et.Seconds,1);break;case"ss":r=nn(et.Seconds,2);break;case"S":r=nn(et.FractionalSeconds,1);break;case"SS":r=nn(et.FractionalSeconds,2);break;case"SSS":r=nn(et.FractionalSeconds,3);break;case"Z":case"ZZ":case"ZZZ":r=Ie(Kt.Short);break;case"ZZZZZ":r=Ie(Kt.Extended);break;case"O":case"OO":case"OOO":case"z":case"zz":case"zzz":r=Ie(Kt.ShortGMT);break;case"OOOO":case"ZZZZ":case"zzzz":r=Ie(Kt.Long);break;default:return null}return _n[s]=r,r}(P);L+=W?W(u,i,S):"''"===P?"'":P.replace(/(^'|'$)/g,"").replace(/''/g,"'")}),L}function kr(s,r,i){const o=new Date(0);return o.setFullYear(s,r,i),o.setHours(0,0,0),o}function tr(s,r){const i=function(s){return(0,m.cg1)(s)[m.wAp.LocaleId]}(s);if(Ut[i]=Ut[i]||{},Ut[i][r])return Ut[i][r];let o="";switch(r){case"shortDate":o=ft(s,ie.Short);break;case"mediumDate":o=ft(s,ie.Medium);break;case"longDate":o=ft(s,ie.Long);break;case"fullDate":o=ft(s,ie.Full);break;case"shortTime":o=ut(s,ie.Short);break;case"mediumTime":o=ut(s,ie.Medium);break;case"longTime":o=ut(s,ie.Long);break;case"fullTime":o=ut(s,ie.Full);break;case"short":const u=tr(s,"shortTime"),f=tr(s,"shortDate");o=Jt(Je(s,ie.Short),[u,f]);break;case"medium":const v=tr(s,"mediumTime"),x=tr(s,"mediumDate");o=Jt(Je(s,ie.Medium),[v,x]);break;case"long":const S=tr(s,"longTime"),L=tr(s,"longDate");o=Jt(Je(s,ie.Long),[S,L]);break;case"full":const P=tr(s,"fullTime"),W=tr(s,"fullDate");o=Jt(Je(s,ie.Full),[P,W])}return o&&(Ut[i][r]=o),o}function Jt(s,r){return r&&(s=s.replace(/\{([^}]+)}/g,function(i,o){return null!=r&&o in r?r[o]:i})),s}function t1(s,r,i="-",o,u){let f="";(s<0||u&&s<=0)&&(u?s=1-s:(s=-s,f=i));let v=String(s);for(;v.length<r;)v="0"+v;return o&&(v=v.substr(v.length-r)),f+v}function nn(s,r,i=0,o=!1,u=!1){return function(f,v){let x=function(s,r){switch(s){case et.FullYear:return r.getFullYear();case et.Month:return r.getMonth();case et.Date:return r.getDate();case et.Hours:return r.getHours();case et.Minutes:return r.getMinutes();case et.Seconds:return r.getSeconds();case et.FractionalSeconds:return r.getMilliseconds();case et.Day:return r.getDay();default:throw new Error(`Unknown DateType value "${s}".`)}}(s,f);if((i>0||x>-i)&&(x+=i),s===et.Hours)0===x&&-12===i&&(x=12);else if(s===et.FractionalSeconds)return function(s,r){return t1(s,3).substr(0,r)}(x,r);const S=Sn(v,ue.MinusSign);return t1(x,r,S,o,u)}}function te(s,r,i=se.Format,o=!1){return function(u,f){return function(s,r,i,o,u,f){switch(i){case it.Months:return function(s,r,i){const o=(0,m.cg1)(s),f=un([o[m.wAp.MonthsFormat],o[m.wAp.MonthsStandalone]],r);return un(f,i)}(r,u,o)[s.getMonth()];case it.Days:return function(s,r,i){const o=(0,m.cg1)(s),f=un([o[m.wAp.DaysFormat],o[m.wAp.DaysStandalone]],r);return un(f,i)}(r,u,o)[s.getDay()];case it.DayPeriods:const v=s.getHours(),x=s.getMinutes();if(f){const L=function(s){const r=(0,m.cg1)(s);return J1(r),(r[m.wAp.ExtraData][2]||[]).map(o=>"string"==typeof o?yn(o):[yn(o[0]),yn(o[1])])}(r),P=function(s,r,i){const o=(0,m.cg1)(s);J1(o);const f=un([o[m.wAp.ExtraData][0],o[m.wAp.ExtraData][1]],r)||[];return un(f,i)||[]}(r,u,o),W=L.findIndex(he=>{if(Array.isArray(he)){const[fe,Ee]=he,$e=v>=fe.hours&&x>=fe.minutes,Ze=v<Ee.hours||v===Ee.hours&&x<Ee.minutes;if(fe.hours<Ee.hours){if($e&&Ze)return!0}else if($e||Ze)return!0}else if(he.hours===v&&he.minutes===x)return!0;return!1});if(-1!==W)return P[W]}return function(s,r,i){const o=(0,m.cg1)(s),f=un([o[m.wAp.DayPeriodsFormat],o[m.wAp.DayPeriodsStandalone]],r);return un(f,i)}(r,u,o)[v<12?0:1];case it.Eras:return function(s,r){return un((0,m.cg1)(s)[m.wAp.Eras],r)}(r,o)[s.getFullYear()<=0?0:1];default:throw new Error(`unexpected translation type ${i}`)}}(u,f,s,r,i,o)}}function Ie(s){return function(r,i,o){const u=-1*o,f=Sn(i,ue.MinusSign),v=u>0?Math.floor(u/60):Math.ceil(u/60);switch(s){case Kt.Short:return(u>=0?"+":"")+t1(v,2,f)+t1(Math.abs(u%60),2,f);case Kt.ShortGMT:return"GMT"+(u>=0?"+":"")+t1(v,1,f);case Kt.Long:return"GMT"+(u>=0?"+":"")+t1(v,2,f)+":"+t1(Math.abs(u%60),2,f);case Kt.Extended:return 0===o?"Z":(u>=0?"+":"")+t1(v,2,f)+":"+t1(Math.abs(u%60),2,f);default:throw new Error(`Unknown zone width "${s}"`)}}}function Ot(s){return kr(s.getFullYear(),s.getMonth(),s.getDate()+(4-s.getDay()))}function zt(s,r=!1){return function(i,o){let u;if(r){const f=new Date(i.getFullYear(),i.getMonth(),1).getDay()-1,v=i.getDate();u=1+Math.floor((v+f)/7)}else{const f=Ot(i),v=function(s){const r=kr(s,0,1).getDay();return kr(s,0,1+(r<=4?4:11)-r)}(f.getFullYear()),x=f.getTime()-v.getTime();u=1+Math.round(x/6048e5)}return t1(u,s,Sn(o,ue.MinusSign))}}function Tt(s,r=!1){return function(i,o){return t1(Ot(i).getFullYear(),s,Sn(o,ue.MinusSign),r)}}const _n={};function Rn(s,r){s=s.replace(/:/g,"");const i=Date.parse("Jan 01, 1970 00:00:00 "+s)/6e4;return isNaN(i)?r:i}function Ds(s){return s instanceof Date&&!isNaN(s.valueOf())}class _r{}let O2=(()=>{class s extends _r{constructor(i){super(),this.locale=i}getPluralCategory(i,o){switch(In(o||this.locale)(i)){case ee.Zero:return"zero";case ee.One:return"one";case ee.Two:return"two";case ee.Few:return"few";case ee.Many:return"many";default:return"other"}}}return s.\u0275fac=function(i){return new(i||s)(m.LFG(m.soG))},s.\u0275prov=m.Yz7({token:s,factory:s.\u0275fac}),s})();function wt(s,r){r=encodeURIComponent(r);for(const i of s.split(";")){const o=i.indexOf("="),[u,f]=-1==o?[i,""]:[i.slice(0,o),i.slice(o+1)];if(u.trim()===r)return decodeURIComponent(f)}return null}let Oo=(()=>{class s{constructor(i,o,u,f){this._iterableDiffers=i,this._keyValueDiffers=o,this._ngEl=u,this._renderer=f,this._iterableDiffer=null,this._keyValueDiffer=null,this._initialClasses=[],this._rawClass=null}set klass(i){this._removeClasses(this._initialClasses),this._initialClasses="string"==typeof i?i.split(/\s+/):[],this._applyClasses(this._initialClasses),this._applyClasses(this._rawClass)}set ngClass(i){this._removeClasses(this._rawClass),this._applyClasses(this._initialClasses),this._iterableDiffer=null,this._keyValueDiffer=null,this._rawClass="string"==typeof i?i.split(/\s+/):i,this._rawClass&&((0,m.sIi)(this._rawClass)?this._iterableDiffer=this._iterableDiffers.find(this._rawClass).create():this._keyValueDiffer=this._keyValueDiffers.find(this._rawClass).create())}ngDoCheck(){if(this._iterableDiffer){const i=this._iterableDiffer.diff(this._rawClass);i&&this._applyIterableChanges(i)}else if(this._keyValueDiffer){const i=this._keyValueDiffer.diff(this._rawClass);i&&this._applyKeyValueChanges(i)}}_applyKeyValueChanges(i){i.forEachAddedItem(o=>this._toggleClass(o.key,o.currentValue)),i.forEachChangedItem(o=>this._toggleClass(o.key,o.currentValue)),i.forEachRemovedItem(o=>{o.previousValue&&this._toggleClass(o.key,!1)})}_applyIterableChanges(i){i.forEachAddedItem(o=>{if("string"!=typeof o.item)throw new Error(`NgClass can only toggle CSS classes expressed as strings, got ${(0,m.AaK)(o.item)}`);this._toggleClass(o.item,!0)}),i.forEachRemovedItem(o=>this._toggleClass(o.item,!1))}_applyClasses(i){i&&(Array.isArray(i)||i instanceof Set?i.forEach(o=>this._toggleClass(o,!0)):Object.keys(i).forEach(o=>this._toggleClass(o,!!i[o])))}_removeClasses(i){i&&(Array.isArray(i)||i instanceof Set?i.forEach(o=>this._toggleClass(o,!1)):Object.keys(i).forEach(o=>this._toggleClass(o,!1)))}_toggleClass(i,o){(i=i.trim())&&i.split(/\s+/g).forEach(u=>{o?this._renderer.addClass(this._ngEl.nativeElement,u):this._renderer.removeClass(this._ngEl.nativeElement,u)})}}return s.\u0275fac=function(i){return new(i||s)(m.Y36(m.ZZ4),m.Y36(m.aQg),m.Y36(m.SBq),m.Y36(m.Qsj))},s.\u0275dir=m.lG2({type:s,selectors:[["","ngClass",""]],inputs:{klass:["class","klass"],ngClass:"ngClass"}}),s})();class Ns{constructor(r,i,o,u){this.$implicit=r,this.ngForOf=i,this.index=o,this.count=u}get first(){return 0===this.index}get last(){return this.index===this.count-1}get even(){return this.index%2==0}get odd(){return!this.even}}let Pr=(()=>{class s{constructor(i,o,u){this._viewContainer=i,this._template=o,this._differs=u,this._ngForOf=null,this._ngForOfDirty=!0,this._differ=null}set ngForOf(i){this._ngForOf=i,this._ngForOfDirty=!0}set ngForTrackBy(i){this._trackByFn=i}get ngForTrackBy(){return this._trackByFn}set ngForTemplate(i){i&&(this._template=i)}ngDoCheck(){if(this._ngForOfDirty){this._ngForOfDirty=!1;const i=this._ngForOf;if(!this._differ&&i)try{this._differ=this._differs.find(i).create(this.ngForTrackBy)}catch(o){throw new Error(`Cannot find a differ supporting object '${i}' of type '${function(s){return s.name||typeof s}(i)}'. NgFor only supports binding to Iterables such as Arrays.`)}}if(this._differ){const i=this._differ.diff(this._ngForOf);i&&this._applyChanges(i)}}_applyChanges(i){const o=[];i.forEachOperation((u,f,v)=>{if(null==u.previousIndex){const x=this._viewContainer.createEmbeddedView(this._template,new Ns(null,this._ngForOf,-1,-1),null===v?void 0:v),S=new M1(u,x);o.push(S)}else if(null==v)this._viewContainer.remove(null===f?void 0:f);else if(null!==f){const x=this._viewContainer.get(f);this._viewContainer.move(x,v);const S=new M1(u,x);o.push(S)}});for(let u=0;u<o.length;u++)this._perViewChange(o[u].view,o[u].record);for(let u=0,f=this._viewContainer.length;u<f;u++){const v=this._viewContainer.get(u);v.context.index=u,v.context.count=f,v.context.ngForOf=this._ngForOf}i.forEachIdentityChange(u=>{this._viewContainer.get(u.currentIndex).context.$implicit=u.item})}_perViewChange(i,o){i.context.$implicit=o.item}static ngTemplateContextGuard(i,o){return!0}}return s.\u0275fac=function(i){return new(i||s)(m.Y36(m.s_b),m.Y36(m.Rgc),m.Y36(m.ZZ4))},s.\u0275dir=m.lG2({type:s,selectors:[["","ngFor","","ngForOf",""]],inputs:{ngForOf:"ngForOf",ngForTrackBy:"ngForTrackBy",ngForTemplate:"ngForTemplate"}}),s})();class M1{constructor(r,i){this.record=r,this.view=i}}let rr=(()=>{class s{constructor(i,o){this._viewContainer=i,this._context=new ir,this._thenTemplateRef=null,this._elseTemplateRef=null,this._thenViewRef=null,this._elseViewRef=null,this._thenTemplateRef=o}set ngIf(i){this._context.$implicit=this._context.ngIf=i,this._updateView()}set ngIfThen(i){tn("ngIfThen",i),this._thenTemplateRef=i,this._thenViewRef=null,this._updateView()}set ngIfElse(i){tn("ngIfElse",i),this._elseTemplateRef=i,this._elseViewRef=null,this._updateView()}_updateView(){this._context.$implicit?this._thenViewRef||(this._viewContainer.clear(),this._elseViewRef=null,this._thenTemplateRef&&(this._thenViewRef=this._viewContainer.createEmbeddedView(this._thenTemplateRef,this._context))):this._elseViewRef||(this._viewContainer.clear(),this._thenViewRef=null,this._elseTemplateRef&&(this._elseViewRef=this._viewContainer.createEmbeddedView(this._elseTemplateRef,this._context)))}static ngTemplateContextGuard(i,o){return!0}}return s.\u0275fac=function(i){return new(i||s)(m.Y36(m.s_b),m.Y36(m.Rgc))},s.\u0275dir=m.lG2({type:s,selectors:[["","ngIf",""]],inputs:{ngIf:"ngIf",ngIfThen:"ngIfThen",ngIfElse:"ngIfElse"}}),s})();class ir{constructor(){this.$implicit=null,this.ngIf=null}}function tn(s,r){if(r&&!r.createEmbeddedView)throw new Error(`${s} must be a TemplateRef, but received '${(0,m.AaK)(r)}'.`)}let x0=(()=>{class s{constructor(i){this.locale=i}transform(i,o="mediumDate",u,f){if(null==i||""===i||i!=i)return null;try{return Dn(i,o,f||this.locale,u)}catch(v){throw function(s,r){return Error(`InvalidPipeArgument: '${r}' for pipe '${(0,m.AaK)(s)}'`)}(s,v.message)}}}return s.\u0275fac=function(i){return new(i||s)(m.Y36(m.soG,16))},s.\u0275pipe=m.Yjl({name:"date",type:s,pure:!0}),s})(),H5=(()=>{class s{}return s.\u0275fac=function(i){return new(i||s)},s.\u0275mod=m.oAB({type:s}),s.\u0275inj=m.cJS({providers:[{provide:_r,useClass:O2}]}),s})();function M0(s){return"server"===s}let A0=(()=>{class s{}return s.\u0275prov=(0,m.Yz7)({token:s,providedIn:"root",factory:()=>new Sl((0,m.LFG)(ne),window)}),s})();class Sl{constructor(r,i){this.document=r,this.window=i,this.offset=()=>[0,0]}setOffset(r){this.offset=Array.isArray(r)?()=>r:r}getScrollPosition(){return this.supportsScrolling()?[this.window.pageXOffset,this.window.pageYOffset]:[0,0]}scrollToPosition(r){this.supportsScrolling()&&this.window.scrollTo(r[0],r[1])}scrollToAnchor(r){if(!this.supportsScrolling())return;const i=function(s,r){const i=s.getElementById(r)||s.getElementsByName(r)[0];if(i)return i;if("function"==typeof s.createTreeWalker&&s.body&&(s.body.createShadowRoot||s.body.attachShadow)){const o=s.createTreeWalker(s.body,NodeFilter.SHOW_ELEMENT);let u=o.currentNode;for(;u;){const f=u.shadowRoot;if(f){const v=f.getElementById(r)||f.querySelector(`[name="${r}"]`);if(v)return v}u=o.nextNode()}}return null}(this.document,r);i&&(this.scrollToElement(i),this.attemptFocus(i))}setHistoryScrollRestoration(r){if(this.supportScrollRestoration()){const i=this.window.history;i&&i.scrollRestoration&&(i.scrollRestoration=r)}}scrollToElement(r){const i=r.getBoundingClientRect(),o=i.left+this.window.pageXOffset,u=i.top+this.window.pageYOffset,f=this.offset();this.window.scrollTo(o-f[0],u-f[1])}attemptFocus(r){return r.focus(),this.document.activeElement===r}supportScrollRestoration(){try{if(!this.supportsScrolling())return!1;const r=S0(this.window.history)||S0(Object.getPrototypeOf(this.window.history));return!(!r||!r.writable&&!r.set)}catch(r){return!1}}supportsScrolling(){try{return!!this.window&&!!this.window.scrollTo&&"pageXOffset"in this.window}catch(r){return!1}}}function S0(s){return Object.getOwnPropertyDescriptor(s,"scrollRestoration")}class Bo{}class F2 extends class extends class{}{constructor(){super(...arguments),this.supportsDOMEvents=!0}}{static makeCurrent(){var s;s=new F2,U||(U=s)}onAndCancel(r,i,o){return r.addEventListener(i,o,!1),()=>{r.removeEventListener(i,o,!1)}}dispatchEvent(r,i){r.dispatchEvent(i)}remove(r){r.parentNode&&r.parentNode.removeChild(r)}createElement(r,i){return(i=i||this.getDefaultDocument()).createElement(r)}createHtmlDocument(){return document.implementation.createHTMLDocument("fakeTitle")}getDefaultDocument(){return document}isElementNode(r){return r.nodeType===Node.ELEMENT_NODE}isShadowRoot(r){return r instanceof DocumentFragment}getGlobalEventTarget(r,i){return"window"===i?window:"document"===i?r:"body"===i?r.body:null}getBaseHref(r){const i=(ks=ks||document.querySelector("base"),ks?ks.getAttribute("href"):null);return null==i?null:function(s){I0=I0||document.createElement("a"),I0.setAttribute("href",s);const r=I0.pathname;return"/"===r.charAt(0)?r:`/${r}`}(i)}resetBaseElement(){ks=null}getUserAgent(){return window.navigator.userAgent}getCookie(r){return wt(document.cookie,r)}}let I0,ks=null;const D0=new m.OlP("TRANSITION_ID"),Il=[{provide:m.ip1,useFactory:function(s,r,i){return()=>{i.get(m.CZH).donePromise.then(()=>{const o=B(),u=r.querySelectorAll(`style[ng-transition="${s}"]`);for(let f=0;f<u.length;f++)o.remove(u[f])})}},deps:[D0,ne,m.zs3],multi:!0}];class fn{static init(){(0,m.VLi)(new fn)}addToWindow(r){m.dqk.getAngularTestability=(o,u=!0)=>{const f=r.findTestabilityInTree(o,u);if(null==f)throw new Error("Could not find testability for element.");return f},m.dqk.getAllAngularTestabilities=()=>r.getAllTestabilities(),m.dqk.getAllAngularRootElements=()=>r.getAllRootElements(),m.dqk.frameworkStabilizers||(m.dqk.frameworkStabilizers=[]),m.dqk.frameworkStabilizers.push(o=>{const u=m.dqk.getAllAngularTestabilities();let f=u.length,v=!1;const x=function(S){v=v||S,f--,0==f&&o(v)};u.forEach(function(S){S.whenStable(x)})})}findTestabilityInTree(r,i,o){if(null==i)return null;const u=r.getTestability(i);return null!=u?u:o?B().isShadowRoot(i)?this.findTestabilityInTree(r,i.host,!0):this.findTestabilityInTree(r,i.parentElement,!0):null}}let Dl=(()=>{class s{build(){return new XMLHttpRequest}}return s.\u0275fac=function(i){return new(i||s)},s.\u0275prov=m.Yz7({token:s,factory:s.\u0275fac}),s})();const U2=new m.OlP("EventManagerPlugins");let V0=(()=>{class s{constructor(i,o){this._zone=o,this._eventNameToPlugin=new Map,i.forEach(u=>u.manager=this),this._plugins=i.slice().reverse()}addEventListener(i,o,u){return this._findPluginFor(o).addEventListener(i,o,u)}addGlobalEventListener(i,o,u){return this._findPluginFor(o).addGlobalEventListener(i,o,u)}getZone(){return this._zone}_findPluginFor(i){const o=this._eventNameToPlugin.get(i);if(o)return o;const u=this._plugins;for(let f=0;f<u.length;f++){const v=u[f];if(v.supports(i))return this._eventNameToPlugin.set(i,v),v}throw new Error(`No event manager plugin found for event ${i}`)}}return s.\u0275fac=function(i){return new(i||s)(m.LFG(U2),m.LFG(m.R0b))},s.\u0275prov=m.Yz7({token:s,factory:s.\u0275fac}),s})();class Wo{constructor(r){this._doc=r}addGlobalEventListener(r,i,o){const u=B().getGlobalEventTarget(this._doc,r);if(!u)throw new Error(`Unsupported event target ${u} for event ${i}`);return this.addEventListener(u,i,o)}}let G4=(()=>{class s{constructor(){this._stylesSet=new Set}addStyles(i){const o=new Set;i.forEach(u=>{this._stylesSet.has(u)||(this._stylesSet.add(u),o.add(u))}),this.onStylesAdded(o)}onStylesAdded(i){}getAllStyles(){return Array.from(this._stylesSet)}}return s.\u0275fac=function(i){return new(i||s)},s.\u0275prov=m.Yz7({token:s,factory:s.\u0275fac}),s})(),B2=(()=>{class s extends G4{constructor(i){super(),this._doc=i,this._hostNodes=new Map,this._hostNodes.set(i.head,[])}_addStylesToHost(i,o,u){i.forEach(f=>{const v=this._doc.createElement("style");v.textContent=f,u.push(o.appendChild(v))})}addHost(i){const o=[];this._addStylesToHost(this._stylesSet,i,o),this._hostNodes.set(i,o)}removeHost(i){const o=this._hostNodes.get(i);o&&o.forEach(Nl),this._hostNodes.delete(i)}onStylesAdded(i){this._hostNodes.forEach((o,u)=>{this._addStylesToHost(i,u,o)})}ngOnDestroy(){this._hostNodes.forEach(i=>i.forEach(Nl))}}return s.\u0275fac=function(i){return new(i||s)(m.LFG(ne))},s.\u0275prov=m.Yz7({token:s,factory:s.\u0275fac}),s})();function Nl(s){B().remove(s)}const Ue={svg:"http://www.w3.org/2000/svg",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/"},Lt=/%COMP%/g;function t2(s,r,i){for(let o=0;o<r.length;o++){let u=r[o];Array.isArray(u)?t2(s,u,i):(u=u.replace(Lt,s),i.push(u))}return i}function B5(s){return r=>{if("__ngUnwrap__"===r)return s;!1===s(r)&&(r.preventDefault(),r.returnValue=!1)}}let Os=(()=>{class s{constructor(i,o,u){this.eventManager=i,this.sharedStylesHost=o,this.appId=u,this.rendererByCompId=new Map,this.defaultRenderer=new n2(i)}createRenderer(i,o){if(!i||!o)return this.defaultRenderer;switch(o.encapsulation){case m.ifc.Emulated:{let u=this.rendererByCompId.get(o.id);return u||(u=new r2(this.eventManager,this.sharedStylesHost,o,this.appId),this.rendererByCompId.set(o.id,u)),u.applyToHost(i),u}case 1:case m.ifc.ShadowDom:return new Mi(this.eventManager,this.sharedStylesHost,i,o);default:if(!this.rendererByCompId.has(o.id)){const u=t2(o.id,o.styles,[]);this.sharedStylesHost.addStyles(u),this.rendererByCompId.set(o.id,this.defaultRenderer)}return this.defaultRenderer}}begin(){}end(){}}return s.\u0275fac=function(i){return new(i||s)(m.LFG(V0),m.LFG(B2),m.LFG(m.AFp))},s.\u0275prov=m.Yz7({token:s,factory:s.\u0275fac}),s})();class n2{constructor(r){this.eventManager=r,this.data=Object.create(null)}destroy(){}createElement(r,i){return i?document.createElementNS(Ue[i]||i,r):document.createElement(r)}createComment(r){return document.createComment(r)}createText(r){return document.createTextNode(r)}appendChild(r,i){r.appendChild(i)}insertBefore(r,i,o){r&&r.insertBefore(i,o)}removeChild(r,i){r&&r.removeChild(i)}selectRootElement(r,i){let o="string"==typeof r?document.querySelector(r):r;if(!o)throw new Error(`The selector "${r}" did not match any elements`);return i||(o.textContent=""),o}parentNode(r){return r.parentNode}nextSibling(r){return r.nextSibling}setAttribute(r,i,o,u){if(u){i=u+":"+i;const f=Ue[u];f?r.setAttributeNS(f,i,o):r.setAttribute(i,o)}else r.setAttribute(i,o)}removeAttribute(r,i,o){if(o){const u=Ue[o];u?r.removeAttributeNS(u,i):r.removeAttribute(`${o}:${i}`)}else r.removeAttribute(i)}addClass(r,i){r.classList.add(i)}removeClass(r,i){r.classList.remove(i)}setStyle(r,i,o,u){u&(m.JOm.DashCase|m.JOm.Important)?r.style.setProperty(i,o,u&m.JOm.Important?"important":""):r.style[i]=o}removeStyle(r,i,o){o&m.JOm.DashCase?r.style.removeProperty(i):r.style[i]=""}setProperty(r,i,o){r[i]=o}setValue(r,i){r.nodeValue=i}listen(r,i,o){return"string"==typeof r?this.eventManager.addGlobalEventListener(r,i,B5(o)):this.eventManager.addEventListener(r,i,B5(o))}}class r2 extends n2{constructor(r,i,o,u){super(r),this.component=o;const f=t2(u+"-"+o.id,o.styles,[]);i.addStyles(f),this.contentAttr="_ngcontent-%COMP%".replace(Lt,u+"-"+o.id),this.hostAttr=function(s){return"_nghost-%COMP%".replace(Lt,s)}(u+"-"+o.id)}applyToHost(r){super.setAttribute(r,this.hostAttr,"")}createElement(r,i){const o=super.createElement(r,i);return super.setAttribute(o,this.contentAttr,""),o}}class Mi extends n2{constructor(r,i,o,u){super(r),this.sharedStylesHost=i,this.hostEl=o,this.shadowRoot=o.attachShadow({mode:"open"}),this.sharedStylesHost.addHost(this.shadowRoot);const f=t2(u.id,u.styles,[]);for(let v=0;v<f.length;v++){const x=document.createElement("style");x.textContent=f[v],this.shadowRoot.appendChild(x)}}nodeOrShadowRoot(r){return r===this.hostEl?this.shadowRoot:r}destroy(){this.sharedStylesHost.removeHost(this.shadowRoot)}appendChild(r,i){return super.appendChild(this.nodeOrShadowRoot(r),i)}insertBefore(r,i,o){return super.insertBefore(this.nodeOrShadowRoot(r),i,o)}removeChild(r,i){return super.removeChild(this.nodeOrShadowRoot(r),i)}parentNode(r){return this.nodeOrShadowRoot(super.parentNode(this.nodeOrShadowRoot(r)))}}let j5=(()=>{class s extends Wo{constructor(i){super(i)}supports(i){return!0}addEventListener(i,o,u){return i.addEventListener(o,u,!1),()=>this.removeEventListener(i,o,u)}removeEventListener(i,o,u){return i.removeEventListener(o,u)}}return s.\u0275fac=function(i){return new(i||s)(m.LFG(ne))},s.\u0275prov=m.Yz7({token:s,factory:s.\u0275fac}),s})();const Ko=["alt","control","meta","shift"],Z5={"\b":"Backspace","\t":"Tab","\x7f":"Delete","\x1b":"Escape",Del:"Delete",Esc:"Escape",Left:"ArrowLeft",Right:"ArrowRight",Up:"ArrowUp",Down:"ArrowDown",Menu:"ContextMenu",Scroll:"ScrollLock",Win:"OS"},kl={A:"1",B:"2",C:"3",D:"4",E:"5",F:"6",G:"7",H:"8",I:"9",J:"*",K:"+",M:"-",N:".",O:"/","`":"0","\x90":"NumLock"},r1={alt:s=>s.altKey,control:s=>s.ctrlKey,meta:s=>s.metaKey,shift:s=>s.shiftKey};let U1=(()=>{class s extends Wo{constructor(i){super(i)}supports(i){return null!=s.parseEventName(i)}addEventListener(i,o,u){const f=s.parseEventName(o),v=s.eventCallback(f.fullKey,u,this.manager.getZone());return this.manager.getZone().runOutsideAngular(()=>B().onAndCancel(i,f.domEventName,v))}static parseEventName(i){const o=i.toLowerCase().split("."),u=o.shift();if(0===o.length||"keydown"!==u&&"keyup"!==u)return null;const f=s._normalizeKey(o.pop());let v="";if(Ko.forEach(S=>{const L=o.indexOf(S);L>-1&&(o.splice(L,1),v+=S+".")}),v+=f,0!=o.length||0===f.length)return null;const x={};return x.domEventName=u,x.fullKey=v,x}static getEventFullKey(i){let o="",u=function(s){let r=s.key;if(null==r){if(r=s.keyIdentifier,null==r)return"Unidentified";r.startsWith("U+")&&(r=String.fromCharCode(parseInt(r.substring(2),16)),3===s.location&&kl.hasOwnProperty(r)&&(r=kl[r]))}return Z5[r]||r}(i);return u=u.toLowerCase()," "===u?u="space":"."===u&&(u="dot"),Ko.forEach(f=>{f!=u&&r1[f](i)&&(o+=f+".")}),o+=u,o}static eventCallback(i,o,u){return f=>{s.getEventFullKey(f)===i&&u.runGuarded(()=>o(f))}}static _normalizeKey(i){switch(i){case"esc":return"escape";default:return i}}}return s.\u0275fac=function(i){return new(i||s)(m.LFG(ne))},s.\u0275prov=m.Yz7({token:s,factory:s.\u0275fac}),s})(),j2=(()=>{class s{}return s.\u0275fac=function(i){return new(i||s)},s.\u0275prov=(0,m.Yz7)({factory:function(){return(0,m.LFG)(Y4)},token:s,providedIn:"root"}),s})(),Y4=(()=>{class s extends j2{constructor(i){super(),this._doc=i}sanitize(i,o){if(null==o)return null;switch(i){case m.q3G.NONE:return o;case m.q3G.HTML:return(0,m.qzn)(o,"HTML")?(0,m.z3N)(o):(0,m.EiD)(this._doc,String(o)).toString();case m.q3G.STYLE:return(0,m.qzn)(o,"Style")?(0,m.z3N)(o):o;case m.q3G.SCRIPT:if((0,m.qzn)(o,"Script"))return(0,m.z3N)(o);throw new Error("unsafe value used in a script context");case m.q3G.URL:return(0,m.yhl)(o),(0,m.qzn)(o,"URL")?(0,m.z3N)(o):(0,m.mCW)(String(o));case m.q3G.RESOURCE_URL:if((0,m.qzn)(o,"ResourceURL"))return(0,m.z3N)(o);throw new Error("unsafe value used in a resource URL context (see https://g.co/ng/security#xss)");default:throw new Error(`Unexpected SecurityContext ${i} (see https://g.co/ng/security#xss)`)}}bypassSecurityTrustHtml(i){return(0,m.JVY)(i)}bypassSecurityTrustStyle(i){return(0,m.L6k)(i)}bypassSecurityTrustScript(i){return(0,m.eBb)(i)}bypassSecurityTrustUrl(i){return(0,m.LAX)(i)}bypassSecurityTrustResourceUrl(i){return(0,m.pB0)(i)}}return s.\u0275fac=function(i){return new(i||s)(m.LFG(ne))},s.\u0275prov=(0,m.Yz7)({factory:function(){return function(s){return new Y4(s.get(ne))}((0,m.LFG)(m.gxx))},token:s,providedIn:"root"}),s})();const Y5=(0,m.eFA)(m._c5,"browser",[{provide:m.Lbi,useValue:"browser"},{provide:m.g9A,useValue:function(){F2.makeCurrent(),fn.init()},multi:!0},{provide:ne,useFactory:function(){return(0,m.RDi)(document),document},deps:[]}]),G2=[[],{provide:m.zSh,useValue:"root"},{provide:m.qLn,useFactory:function(){return new m.qLn},deps:[]},{provide:U2,useClass:j5,multi:!0,deps:[ne,m.R0b,m.Lbi]},{provide:U2,useClass:U1,multi:!0,deps:[ne]},[],{provide:Os,useClass:Os,deps:[V0,B2,m.AFp]},{provide:m.FYo,useExisting:Os},{provide:G4,useExisting:B2},{provide:B2,useClass:B2,deps:[ne]},{provide:m.dDg,useClass:m.dDg,deps:[m.R0b]},{provide:V0,useClass:V0,deps:[U2,m.R0b]},{provide:Bo,useClass:Dl,deps:[]},[]];let s2=(()=>{class s{constructor(i){if(i)throw new Error("BrowserModule has already been loaded. If you need access to common directives such as NgIf and NgFor from a lazy loaded module, import CommonModule instead.")}static withServerTransition(i){return{ngModule:s,providers:[{provide:m.AFp,useValue:i.appId},{provide:D0,useExisting:m.AFp},Il]}}}return s.\u0275fac=function(i){return new(i||s)(m.LFG(s,12))},s.\u0275mod=m.oAB({type:s}),s.\u0275inj=m.cJS({providers:G2,imports:[H5,m.hGG]}),s})();"undefined"!=typeof window&&window;var dt=R(5917),A1=R(7574),S1=R(9773);function wr(s,r){return(0,S1.zg)(s,r,1)}var B1=R(7393);function Mr(s,r){return function(o){return o.lift(new B0(s,r))}}class B0{constructor(r,i){this.predicate=r,this.thisArg=i}call(r,i){return i.subscribe(new r6(r,this.predicate,this.thisArg))}}class r6 extends B1.L{constructor(r,i,o){super(r),this.predicate=i,this.thisArg=o,this.count=0}_next(r){let i;try{i=this.predicate.call(this.thisArg,r,this.count++)}catch(o){return void this.destination.error(o)}i&&this.destination.next(r)}}var vt=R(8002);class i6{}class s6{}class ri{constructor(r){this.normalizedNames=new Map,this.lazyUpdate=null,r?this.lazyInit="string"==typeof r?()=>{this.headers=new Map,r.split("\n").forEach(i=>{const o=i.indexOf(":");if(o>0){const u=i.slice(0,o),f=u.toLowerCase(),v=i.slice(o+1).trim();this.maybeSetNormalizedName(u,f),this.headers.has(f)?this.headers.get(f).push(v):this.headers.set(f,[v])}})}:()=>{this.headers=new Map,Object.keys(r).forEach(i=>{let o=r[i];const u=i.toLowerCase();"string"==typeof o&&(o=[o]),o.length>0&&(this.headers.set(u,o),this.maybeSetNormalizedName(i,u))})}:this.headers=new Map}has(r){return this.init(),this.headers.has(r.toLowerCase())}get(r){this.init();const i=this.headers.get(r.toLowerCase());return i&&i.length>0?i[0]:null}keys(){return this.init(),Array.from(this.normalizedNames.values())}getAll(r){return this.init(),this.headers.get(r.toLowerCase())||null}append(r,i){return this.clone({name:r,value:i,op:"a"})}set(r,i){return this.clone({name:r,value:i,op:"s"})}delete(r,i){return this.clone({name:r,value:i,op:"d"})}maybeSetNormalizedName(r,i){this.normalizedNames.has(i)||this.normalizedNames.set(i,r)}init(){this.lazyInit&&(this.lazyInit instanceof ri?this.copyFrom(this.lazyInit):this.lazyInit(),this.lazyInit=null,this.lazyUpdate&&(this.lazyUpdate.forEach(r=>this.applyUpdate(r)),this.lazyUpdate=null))}copyFrom(r){r.init(),Array.from(r.headers.keys()).forEach(i=>{this.headers.set(i,r.headers.get(i)),this.normalizedNames.set(i,r.normalizedNames.get(i))})}clone(r){const i=new ri;return i.lazyInit=this.lazyInit&&this.lazyInit instanceof ri?this.lazyInit:this,i.lazyUpdate=(this.lazyUpdate||[]).concat([r]),i}applyUpdate(r){const i=r.name.toLowerCase();switch(r.op){case"a":case"s":let o=r.value;if("string"==typeof o&&(o=[o]),0===o.length)return;this.maybeSetNormalizedName(r.name,i);const u=("a"===r.op?this.headers.get(i):void 0)||[];u.push(...o),this.headers.set(i,u);break;case"d":const f=r.value;if(f){let v=this.headers.get(i);if(!v)return;v=v.filter(x=>-1===f.indexOf(x)),0===v.length?(this.headers.delete(i),this.normalizedNames.delete(i)):this.headers.set(i,v)}else this.headers.delete(i),this.normalizedNames.delete(i)}}forEach(r){this.init(),Array.from(this.normalizedNames.keys()).forEach(i=>r(this.normalizedNames.get(i),this.headers.get(i)))}}class j0{encodeKey(r){return Us(r)}encodeValue(r){return Us(r)}decodeKey(r){return decodeURIComponent(r)}decodeValue(r){return decodeURIComponent(r)}}const Ul=/%(\d[a-f0-9])/gi,Jo={40:"@","3A":":",24:"$","2C":",","3B":";","2B":"+","3D":"=","3F":"?","2F":"/"};function Us(s){return encodeURIComponent(s).replace(Ul,(r,i)=>{var o;return null!==(o=Jo[i])&&void 0!==o?o:r})}function Bl(s){return`${s}`}class Er{constructor(r={}){if(this.updates=null,this.cloneFrom=null,this.encoder=r.encoder||new j0,r.fromString){if(r.fromObject)throw new Error("Cannot specify both fromString and fromObject.");this.map=function(s,r){const i=new Map;return s.length>0&&s.replace(/^\?/,"").split("&").forEach(u=>{const f=u.indexOf("="),[v,x]=-1==f?[r.decodeKey(u),""]:[r.decodeKey(u.slice(0,f)),r.decodeValue(u.slice(f+1))],S=i.get(v)||[];S.push(x),i.set(v,S)}),i}(r.fromString,this.encoder)}else r.fromObject?(this.map=new Map,Object.keys(r.fromObject).forEach(i=>{const o=r.fromObject[i];this.map.set(i,Array.isArray(o)?o:[o])})):this.map=null}has(r){return this.init(),this.map.has(r)}get(r){this.init();const i=this.map.get(r);return i?i[0]:null}getAll(r){return this.init(),this.map.get(r)||null}keys(){return this.init(),Array.from(this.map.keys())}append(r,i){return this.clone({param:r,value:i,op:"a"})}appendAll(r){const i=[];return Object.keys(r).forEach(o=>{const u=r[o];Array.isArray(u)?u.forEach(f=>{i.push({param:o,value:f,op:"a"})}):i.push({param:o,value:u,op:"a"})}),this.clone(i)}set(r,i){return this.clone({param:r,value:i,op:"s"})}delete(r,i){return this.clone({param:r,value:i,op:"d"})}toString(){return this.init(),this.keys().map(r=>{const i=this.encoder.encodeKey(r);return this.map.get(r).map(o=>i+"="+this.encoder.encodeValue(o)).join("&")}).filter(r=>""!==r).join("&")}clone(r){const i=new Er({encoder:this.encoder});return i.cloneFrom=this.cloneFrom||this,i.updates=(this.updates||[]).concat(r),i}init(){null===this.map&&(this.map=new Map),null!==this.cloneFrom&&(this.cloneFrom.init(),this.cloneFrom.keys().forEach(r=>this.map.set(r,this.cloneFrom.map.get(r))),this.updates.forEach(r=>{switch(r.op){case"a":case"s":const i=("a"===r.op?this.map.get(r.param):void 0)||[];i.push(Bl(r.value)),this.map.set(r.param,i);break;case"d":if(void 0===r.value){this.map.delete(r.param);break}{let o=this.map.get(r.param)||[];const u=o.indexOf(Bl(r.value));-1!==u&&o.splice(u,1),o.length>0?this.map.set(r.param,o):this.map.delete(r.param)}}}),this.cloneFrom=this.updates=null)}}class Bs{constructor(){this.map=new Map}set(r,i){return this.map.set(r,i),this}get(r){return this.map.has(r)||this.map.set(r,r.defaultValue()),this.map.get(r)}delete(r){return this.map.delete(r),this}keys(){return this.map.keys()}}function js(s){return"undefined"!=typeof ArrayBuffer&&s instanceof ArrayBuffer}function $0(s){return"undefined"!=typeof Blob&&s instanceof Blob}function W2(s){return"undefined"!=typeof FormData&&s instanceof FormData}class ii{constructor(r,i,o,u){let f;if(this.url=i,this.body=null,this.reportProgress=!1,this.withCredentials=!1,this.responseType="json",this.method=r.toUpperCase(),function(s){switch(s){case"DELETE":case"GET":case"HEAD":case"OPTIONS":case"JSONP":return!1;default:return!0}}(this.method)||u?(this.body=void 0!==o?o:null,f=u):f=o,f&&(this.reportProgress=!!f.reportProgress,this.withCredentials=!!f.withCredentials,f.responseType&&(this.responseType=f.responseType),f.headers&&(this.headers=f.headers),f.context&&(this.context=f.context),f.params&&(this.params=f.params)),this.headers||(this.headers=new ri),this.context||(this.context=new Bs),this.params){const v=this.params.toString();if(0===v.length)this.urlWithParams=i;else{const x=i.indexOf("?");this.urlWithParams=i+(-1===x?"?":x<i.length-1?"&":"")+v}}else this.params=new Er,this.urlWithParams=i}serializeBody(){return null===this.body?null:js(this.body)||$0(this.body)||W2(this.body)||"undefined"!=typeof URLSearchParams&&this.body instanceof URLSearchParams||"string"==typeof this.body?this.body:this.body instanceof Er?this.body.toString():"object"==typeof this.body||"boolean"==typeof this.body||Array.isArray(this.body)?JSON.stringify(this.body):this.body.toString()}detectContentTypeHeader(){return null===this.body||W2(this.body)?null:$0(this.body)?this.body.type||null:js(this.body)?null:"string"==typeof this.body?"text/plain":this.body instanceof Er?"application/x-www-form-urlencoded;charset=UTF-8":"object"==typeof this.body||"number"==typeof this.body||"boolean"==typeof this.body?"application/json":null}clone(r={}){var i;const o=r.method||this.method,u=r.url||this.url,f=r.responseType||this.responseType,v=void 0!==r.body?r.body:this.body,x=void 0!==r.withCredentials?r.withCredentials:this.withCredentials,S=void 0!==r.reportProgress?r.reportProgress:this.reportProgress;let L=r.headers||this.headers,P=r.params||this.params;const W=null!==(i=r.context)&&void 0!==i?i:this.context;return void 0!==r.setHeaders&&(L=Object.keys(r.setHeaders).reduce((he,fe)=>he.set(fe,r.setHeaders[fe]),L)),r.setParams&&(P=Object.keys(r.setParams).reduce((he,fe)=>he.set(fe,r.setParams[fe]),P)),new ii(o,u,v,{params:P,headers:L,context:W,reportProgress:S,responseType:f,withCredentials:x})}}var pn=(()=>((pn=pn||{})[pn.Sent=0]="Sent",pn[pn.UploadProgress=1]="UploadProgress",pn[pn.ResponseHeader=2]="ResponseHeader",pn[pn.DownloadProgress=3]="DownloadProgress",pn[pn.Response=4]="Response",pn[pn.User=5]="User",pn))();class Gs{constructor(r,i=200,o="OK"){this.headers=r.headers||new ri,this.status=void 0!==r.status?r.status:i,this.statusText=r.statusText||o,this.url=r.url||null,this.ok=this.status>=200&&this.status<300}}class Ei extends Gs{constructor(r={}){super(r),this.type=pn.ResponseHeader}clone(r={}){return new Ei({headers:r.headers||this.headers,status:void 0!==r.status?r.status:this.status,statusText:r.statusText||this.statusText,url:r.url||this.url||void 0})}}class o6 extends Gs{constructor(r={}){super(r),this.type=pn.Response,this.body=void 0!==r.body?r.body:null}clone(r={}){return new o6({body:void 0!==r.body?r.body:this.body,headers:r.headers||this.headers,status:void 0!==r.status?r.status:this.status,statusText:r.statusText||this.statusText,url:r.url||this.url||void 0})}}class eh extends Gs{constructor(r){super(r,0,"Unknown Error"),this.name="HttpErrorResponse",this.ok=!1,this.message=this.status>=200&&this.status<300?`Http failure during parsing for ${r.url||"(unknown url)"}`:`Http failure response for ${r.url||"(unknown url)"}: ${r.status} ${r.statusText}`,this.error=r.error||null}}function Xo(s,r){return{body:r,headers:s.headers,context:s.context,observe:s.observe,params:s.params,reportProgress:s.reportProgress,responseType:s.responseType,withCredentials:s.withCredentials}}let th=(()=>{class s{constructor(i){this.handler=i}request(i,o,u={}){let f;if(i instanceof ii)f=i;else{let S,L;S=u.headers instanceof ri?u.headers:new ri(u.headers),u.params&&(L=u.params instanceof Er?u.params:new Er({fromObject:u.params})),f=new ii(i,o,void 0!==u.body?u.body:null,{headers:S,context:u.context,params:L,reportProgress:u.reportProgress,responseType:u.responseType||"json",withCredentials:u.withCredentials})}const v=(0,dt.of)(f).pipe(wr(S=>this.handler.handle(S)));if(i instanceof ii||"events"===u.observe)return v;const x=v.pipe(Mr(S=>S instanceof o6));switch(u.observe||"body"){case"body":switch(f.responseType){case"arraybuffer":return x.pipe((0,vt.U)(S=>{if(null!==S.body&&!(S.body instanceof ArrayBuffer))throw new Error("Response is not an ArrayBuffer.");return S.body}));case"blob":return x.pipe((0,vt.U)(S=>{if(null!==S.body&&!(S.body instanceof Blob))throw new Error("Response is not a Blob.");return S.body}));case"text":return x.pipe((0,vt.U)(S=>{if(null!==S.body&&"string"!=typeof S.body)throw new Error("Response is not a string.");return S.body}));case"json":default:return x.pipe((0,vt.U)(S=>S.body))}case"response":return x;default:throw new Error(`Unreachable: unhandled observe type ${u.observe}}`)}}delete(i,o={}){return this.request("DELETE",i,o)}get(i,o={}){return this.request("GET",i,o)}head(i,o={}){return this.request("HEAD",i,o)}jsonp(i,o){return this.request("JSONP",i,{params:(new Er).append(o,"JSONP_CALLBACK"),observe:"body",responseType:"json"})}options(i,o={}){return this.request("OPTIONS",i,o)}patch(i,o,u={}){return this.request("PATCH",i,Xo(u,o))}post(i,o,u={}){return this.request("POST",i,Xo(u,o))}put(i,o,u={}){return this.request("PUT",i,Xo(u,o))}}return s.\u0275fac=function(i){return new(i||s)(m.LFG(i6))},s.\u0275prov=m.Yz7({token:s,factory:s.\u0275fac}),s})();class G0{constructor(r,i){this.next=r,this.interceptor=i}handle(r){return this.interceptor.intercept(r,this.next)}}const xn=new m.OlP("HTTP_INTERCEPTORS");let a6=(()=>{class s{intercept(i,o){return o.handle(i)}}return s.\u0275fac=function(i){return new(i||s)},s.\u0275prov=m.Yz7({token:s,factory:s.\u0275fac}),s})();const Ws=/^\)\]\}',?\n/;let oh=(()=>{class s{constructor(i){this.xhrFactory=i}handle(i){if("JSONP"===i.method)throw new Error("Attempted to construct Jsonp request without HttpClientJsonpModule installed.");return new A1.y(o=>{const u=this.xhrFactory.build();if(u.open(i.method,i.urlWithParams),i.withCredentials&&(u.withCredentials=!0),i.headers.forEach((fe,Ee)=>u.setRequestHeader(fe,Ee.join(","))),i.headers.has("Accept")||u.setRequestHeader("Accept","application/json, text/plain, */*"),!i.headers.has("Content-Type")){const fe=i.detectContentTypeHeader();null!==fe&&u.setRequestHeader("Content-Type",fe)}if(i.responseType){const fe=i.responseType.toLowerCase();u.responseType="json"!==fe?fe:"text"}const f=i.serializeBody();let v=null;const x=()=>{if(null!==v)return v;const fe=1223===u.status?204:u.status,Ee=u.statusText||"OK",$e=new ri(u.getAllResponseHeaders()),Ze=function(s){return"responseURL"in s&&s.responseURL?s.responseURL:/^X-Request-URL:/m.test(s.getAllResponseHeaders())?s.getResponseHeader("X-Request-URL"):null}(u)||i.url;return v=new Ei({headers:$e,status:fe,statusText:Ee,url:Ze}),v},S=()=>{let{headers:fe,status:Ee,statusText:$e,url:Ze}=x(),Xe=null;204!==Ee&&(Xe=void 0===u.response?u.responseText:u.response),0===Ee&&(Ee=Xe?200:0);let ht=Ee>=200&&Ee<300;if("json"===i.responseType&&"string"==typeof Xe){const _t=Xe;Xe=Xe.replace(Ws,"");try{Xe=""!==Xe?JSON.parse(Xe):null}catch(At){Xe=_t,ht&&(ht=!1,Xe={error:At,text:Xe})}}ht?(o.next(new o6({body:Xe,headers:fe,status:Ee,statusText:$e,url:Ze||void 0})),o.complete()):o.error(new eh({error:Xe,headers:fe,status:Ee,statusText:$e,url:Ze||void 0}))},L=fe=>{const{url:Ee}=x(),$e=new eh({error:fe,status:u.status||0,statusText:u.statusText||"Unknown Error",url:Ee||void 0});o.error($e)};let P=!1;const W=fe=>{P||(o.next(x()),P=!0);let Ee={type:pn.DownloadProgress,loaded:fe.loaded};fe.lengthComputable&&(Ee.total=fe.total),"text"===i.responseType&&!!u.responseText&&(Ee.partialText=u.responseText),o.next(Ee)},he=fe=>{let Ee={type:pn.UploadProgress,loaded:fe.loaded};fe.lengthComputable&&(Ee.total=fe.total),o.next(Ee)};return u.addEventListener("load",S),u.addEventListener("error",L),u.addEventListener("timeout",L),u.addEventListener("abort",L),i.reportProgress&&(u.addEventListener("progress",W),null!==f&&u.upload&&u.upload.addEventListener("progress",he)),u.send(f),o.next({type:pn.Sent}),()=>{u.removeEventListener("error",L),u.removeEventListener("abort",L),u.removeEventListener("load",S),u.removeEventListener("timeout",L),i.reportProgress&&(u.removeEventListener("progress",W),null!==f&&u.upload&&u.upload.removeEventListener("progress",he)),u.readyState!==u.DONE&&u.abort()}})}}return s.\u0275fac=function(i){return new(i||s)(m.LFG(Bo))},s.\u0275prov=m.Yz7({token:s,factory:s.\u0275fac}),s})();const Z2=new m.OlP("XSRF_COOKIE_NAME"),Wl=new m.OlP("XSRF_HEADER_NAME");class Mn{}let ea=(()=>{class s{constructor(i,o,u){this.doc=i,this.platform=o,this.cookieName=u,this.lastCookieString="",this.lastToken=null,this.parseCount=0}getToken(){if("server"===this.platform)return null;const i=this.doc.cookie||"";return i!==this.lastCookieString&&(this.parseCount++,this.lastToken=wt(i,this.cookieName),this.lastCookieString=i),this.lastToken}}return s.\u0275fac=function(i){return new(i||s)(m.LFG(ne),m.LFG(m.Lbi),m.LFG(Z2))},s.\u0275prov=m.Yz7({token:s,factory:s.\u0275fac}),s})(),Zs=(()=>{class s{constructor(i,o){this.tokenService=i,this.headerName=o}intercept(i,o){const u=i.url.toLowerCase();if("GET"===i.method||"HEAD"===i.method||u.startsWith("http://")||u.startsWith("https://"))return o.handle(i);const f=this.tokenService.getToken();return null!==f&&!i.headers.has(this.headerName)&&(i=i.clone({headers:i.headers.set(this.headerName,f)})),o.handle(i)}}return s.\u0275fac=function(i){return new(i||s)(m.LFG(Mn),m.LFG(Wl))},s.\u0275prov=m.Yz7({token:s,factory:s.\u0275fac}),s})(),N9=(()=>{class s{constructor(i,o){this.backend=i,this.injector=o,this.chain=null}handle(i){if(null===this.chain){const o=this.injector.get(xn,[]);this.chain=o.reduceRight((u,f)=>new G0(u,f),this.backend)}return this.chain.handle(i)}}return s.\u0275fac=function(i){return new(i||s)(m.LFG(s6),m.LFG(m.zs3))},s.\u0275prov=m.Yz7({token:s,factory:s.\u0275fac}),s})(),Ar=(()=>{class s{static disable(){return{ngModule:s,providers:[{provide:Zs,useClass:a6}]}}static withOptions(i={}){return{ngModule:s,providers:[i.cookieName?{provide:Z2,useValue:i.cookieName}:[],i.headerName?{provide:Wl,useValue:i.headerName}:[]]}}}return s.\u0275fac=function(i){return new(i||s)},s.\u0275mod=m.oAB({type:s}),s.\u0275inj=m.cJS({providers:[Zs,{provide:xn,useExisting:Zs,multi:!0},{provide:Mn,useClass:ea},{provide:Z2,useValue:"XSRF-TOKEN"},{provide:Wl,useValue:"X-XSRF-TOKEN"}]}),s})(),W0=(()=>{class s{}return s.\u0275fac=function(i){return new(i||s)},s.\u0275mod=m.oAB({type:s}),s.\u0275inj=m.cJS({providers:[th,{provide:i6,useClass:N9},oh,{provide:s6,useExisting:oh}],imports:[[Ar.withOptions({cookieName:"XSRF-TOKEN",headerName:"X-XSRF-TOKEN"})]]}),s})();var bn=R(4402),qs=R(9796),ah=R(1555);function ta(s,r){return new A1.y(i=>{const o=s.length;if(0===o)return void i.complete();const u=new Array(o);let f=0,v=0;for(let x=0;x<o;x++){const S=(0,bn.D)(s[x]);let L=!1;i.add(S.subscribe({next:P=>{L||(L=!0,v++),u[x]=P},error:P=>i.error(P),complete:()=>{f++,(f===o||!L)&&(v===o&&i.next(r?r.reduce((P,W,he)=>(P[W]=u[he],P),{}):u),i.complete())}}))}})}let na=(()=>{class s{constructor(i,o){this._renderer=i,this._elementRef=o,this.onChange=u=>{},this.onTouched=()=>{}}setProperty(i,o){this._renderer.setProperty(this._elementRef.nativeElement,i,o)}registerOnTouched(i){this.onTouched=i}registerOnChange(i){this.onChange=i}setDisabledState(i){this.setProperty("disabled",i)}}return s.\u0275fac=function(i){return new(i||s)(m.Y36(m.Qsj),m.Y36(m.SBq))},s.\u0275dir=m.lG2({type:s}),s})(),zn=(()=>{class s extends na{}return s.\u0275fac=function(){let r;return function(o){return(r||(r=m.n5z(s)))(o||s)}}(),s.\u0275dir=m.lG2({type:s,features:[m.qOj]}),s})();const j1=new m.OlP("NgValueAccessor"),Kl={provide:j1,useExisting:(0,m.Gpc)(()=>ra),multi:!0},l6=new m.OlP("CompositionEventMode");let ra=(()=>{class s extends na{constructor(i,o,u){super(i,o),this._compositionMode=u,this._composing=!1,null==this._compositionMode&&(this._compositionMode=!function(){const s=B()?B().getUserAgent():"";return/android (\d+)/.test(s.toLowerCase())}())}writeValue(i){this.setProperty("value",null==i?"":i)}_handleInput(i){(!this._compositionMode||this._compositionMode&&!this._composing)&&this.onChange(i)}_compositionStart(){this._composing=!0}_compositionEnd(i){this._composing=!1,this._compositionMode&&this.onChange(i)}}return s.\u0275fac=function(i){return new(i||s)(m.Y36(m.Qsj),m.Y36(m.SBq),m.Y36(l6,8))},s.\u0275dir=m.lG2({type:s,selectors:[["input","formControlName","",3,"type","checkbox"],["textarea","formControlName",""],["input","formControl","",3,"type","checkbox"],["textarea","formControl",""],["input","ngModel","",3,"type","checkbox"],["textarea","ngModel",""],["","ngDefaultControl",""]],hostBindings:function(i,o){1&i&&m.NdJ("input",function(f){return o._handleInput(f.target.value)})("blur",function(){return o.onTouched()})("compositionstart",function(){return o._compositionStart()})("compositionend",function(f){return o._compositionEnd(f.target.value)})},features:[m._Bn([Kl]),m.qOj]}),s})();function h2(s){return null==s||0===s.length}function Z0(s){return null!=s&&"number"==typeof s.length}const Hn=new m.OlP("NgValidators"),si=new m.OlP("NgAsyncValidators"),Ks=/^(?=.{1,254}$)(?=.{1,64}@)[a-zA-Z0-9!#$%&'*+/=?^_`{|}~-]+(?:\.[a-zA-Z0-9!#$%&'*+/=?^_`{|}~-]+)*@[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)*$/;class q2{static min(r){return function(s){return r=>{if(h2(r.value)||h2(s))return null;const i=parseFloat(r.value);return!isNaN(i)&&i<s?{min:{min:s,actual:r.value}}:null}}(r)}static max(r){return function(s){return r=>{if(h2(r.value)||h2(s))return null;const i=parseFloat(r.value);return!isNaN(i)&&i>s?{max:{max:s,actual:r.value}}:null}}(r)}static required(r){return function(s){return h2(s.value)?{required:!0}:null}(r)}static requiredTrue(r){return function(s){return!0===s.value?null:{required:!0}}(r)}static email(r){return function(s){return h2(s.value)||Ks.test(s.value)?null:{email:!0}}(r)}static minLength(r){return function(s){return r=>h2(r.value)||!Z0(r.value)?null:r.value.length<s?{minlength:{requiredLength:s,actualLength:r.value.length}}:null}(r)}static maxLength(r){return function(s){return r=>Z0(r.value)&&r.value.length>s?{maxlength:{requiredLength:s,actualLength:r.value.length}}:null}(r)}static pattern(r){return function(s){if(!s)return Br;let r,i;return"string"==typeof s?(i="","^"!==s.charAt(0)&&(i+="^"),i+=s,"$"!==s.charAt(s.length-1)&&(i+="$"),r=new RegExp(i)):(i=s.toString(),r=s),o=>{if(h2(o.value))return null;const u=o.value;return r.test(u)?null:{pattern:{requiredPattern:i,actualValue:u}}}}(r)}static nullValidator(r){return null}static compose(r){return oi(r)}static composeAsync(r){return Xl(r)}}function Br(s){return null}function Ys(s){return null!=s}function d2(s){const r=(0,m.QGY)(s)?(0,bn.D)(s):s;return(0,m.CqO)(r),r}function K0(s){let r={};return s.forEach(i=>{r=null!=i?Object.assign(Object.assign({},r),i):r}),0===Object.keys(r).length?null:r}function Ln(s,r){return r.map(i=>i(s))}function lh(s){return s.map(r=>function(s){return!s.validate}(r)?r:i=>r.validate(i))}function oi(s){if(!s)return null;const r=s.filter(Ys);return 0==r.length?null:function(i){return K0(Ln(i,r))}}function Y2(s){return null!=s?oi(lh(s)):null}function Xl(s){if(!s)return null;const r=s.filter(Ys);return 0==r.length?null:function(i){return function(...s){if(1===s.length){const r=s[0];if((0,qs.k)(r))return ta(r,null);if((0,ah.K)(r)&&Object.getPrototypeOf(r)===Object.prototype){const i=Object.keys(r);return ta(i.map(o=>r[o]),i)}}if("function"==typeof s[s.length-1]){const r=s.pop();return ta(s=1===s.length&&(0,qs.k)(s[0])?s[0]:s,null).pipe((0,vt.U)(i=>r(...i)))}return ta(s,null)}(Ln(i,r).map(d2)).pipe((0,vt.U)(K0))}}function sa(s){return null!=s?Xl(lh(s)):null}function h6(s,r){return null===s?[r]:Array.isArray(s)?[...s,r]:[s,r]}function Y0(s){return s._rawValidators}function Q2(s){return s._rawAsyncValidators}function jr(s){return s?Array.isArray(s)?s:[s]:[]}function J2(s,r){return Array.isArray(s)?s.includes(r):s===r}function Ii(s,r){const i=jr(r);return jr(s).forEach(u=>{J2(i,u)||i.push(u)}),i}function e8(s,r){return jr(r).filter(i=>!J2(s,i))}let f6=(()=>{class s{constructor(){this._rawValidators=[],this._rawAsyncValidators=[],this._onDestroyCallbacks=[]}get value(){return this.control?this.control.value:null}get valid(){return this.control?this.control.valid:null}get invalid(){return this.control?this.control.invalid:null}get pending(){return this.control?this.control.pending:null}get disabled(){return this.control?this.control.disabled:null}get enabled(){return this.control?this.control.enabled:null}get errors(){return this.control?this.control.errors:null}get pristine(){return this.control?this.control.pristine:null}get dirty(){return this.control?this.control.dirty:null}get touched(){return this.control?this.control.touched:null}get status(){return this.control?this.control.status:null}get untouched(){return this.control?this.control.untouched:null}get statusChanges(){return this.control?this.control.statusChanges:null}get valueChanges(){return this.control?this.control.valueChanges:null}get path(){return null}_setValidators(i){this._rawValidators=i||[],this._composedValidatorFn=Y2(this._rawValidators)}_setAsyncValidators(i){this._rawAsyncValidators=i||[],this._composedAsyncValidatorFn=sa(this._rawAsyncValidators)}get validator(){return this._composedValidatorFn||null}get asyncValidator(){return this._composedAsyncValidatorFn||null}_registerOnDestroy(i){this._onDestroyCallbacks.push(i)}_invokeOnDestroyCallbacks(){this._onDestroyCallbacks.forEach(i=>i()),this._onDestroyCallbacks=[]}reset(i){this.control&&this.control.reset(i)}hasError(i,o){return!!this.control&&this.control.hasError(i,o)}getError(i,o){return this.control?this.control.getError(i,o):null}}return s.\u0275fac=function(i){return new(i||s)},s.\u0275dir=m.lG2({type:s}),s})(),i1=(()=>{class s extends f6{get formDirective(){return null}get path(){return null}}return s.\u0275fac=function(){let r;return function(o){return(r||(r=m.n5z(s)))(o||s)}}(),s.\u0275dir=m.lG2({type:s,features:[m.qOj]}),s})();class $r extends f6{constructor(){super(...arguments),this._parent=null,this.name=null,this.valueAccessor=null}}class oa{constructor(r){this._cd=r}is(r){var i,o,u;return"submitted"===r?!!(null===(i=this._cd)||void 0===i?void 0:i.submitted):!!(null===(u=null===(o=this._cd)||void 0===o?void 0:o.control)||void 0===u?void 0:u[r])}}let Di=(()=>{class s extends oa{constructor(i){super(i)}}return s.\u0275fac=function(i){return new(i||s)(m.Y36($r,2))},s.\u0275dir=m.lG2({type:s,selectors:[["","formControlName",""],["","ngModel",""],["","formControl",""]],hostVars:14,hostBindings:function(i,o){2&i&&m.ekj("ng-untouched",o.is("untouched"))("ng-touched",o.is("touched"))("ng-pristine",o.is("pristine"))("ng-dirty",o.is("dirty"))("ng-valid",o.is("valid"))("ng-invalid",o.is("invalid"))("ng-pending",o.is("pending"))},features:[m.qOj]}),s})(),X2=(()=>{class s extends oa{constructor(i){super(i)}}return s.\u0275fac=function(i){return new(i||s)(m.Y36(i1,10))},s.\u0275dir=m.lG2({type:s,selectors:[["","formGroupName",""],["","formArrayName",""],["","ngModelGroup",""],["","formGroup",""],["form",3,"ngNoForm",""],["","ngForm",""]],hostVars:16,hostBindings:function(i,o){2&i&&m.ekj("ng-untouched",o.is("untouched"))("ng-touched",o.is("touched"))("ng-pristine",o.is("pristine"))("ng-dirty",o.is("dirty"))("ng-valid",o.is("valid"))("ng-invalid",o.is("invalid"))("ng-pending",o.is("pending"))("ng-submitted",o.is("submitted"))},features:[m.qOj]}),s})();function aa(s,r){return[...r.path,s]}function ca(s,r){m6(s,r),r.valueAccessor.writeValue(s.value),function(s,r){r.valueAccessor.registerOnChange(i=>{s._pendingValue=i,s._pendingChange=!0,s._pendingDirty=!0,"change"===s.updateOn&&t8(s,r)})}(s,r),function(s,r){const i=(o,u)=>{r.valueAccessor.writeValue(o),u&&r.viewToModelUpdate(o)};s.registerOnChange(i),r._registerOnDestroy(()=>{s._unregisterOnChange(i)})}(s,r),function(s,r){r.valueAccessor.registerOnTouched(()=>{s._pendingTouched=!0,"blur"===s.updateOn&&s._pendingChange&&t8(s,r),"submit"!==s.updateOn&&s.markAsTouched()})}(s,r),function(s,r){if(r.valueAccessor.setDisabledState){const i=o=>{r.valueAccessor.setDisabledState(o)};s.registerOnDisabledChange(i),r._registerOnDestroy(()=>{s._unregisterOnDisabledChange(i)})}}(s,r)}function d6(s,r,i=!0){const o=()=>{};r.valueAccessor&&(r.valueAccessor.registerOnChange(o),r.valueAccessor.registerOnTouched(o)),Ti(s,r),s&&(r._invokeOnDestroyCallbacks(),s._registerOnCollectionChange(()=>{}))}function Q0(s,r){s.forEach(i=>{i.registerOnValidatorChange&&i.registerOnValidatorChange(r)})}function m6(s,r){const i=Y0(s);null!==r.validator?s.setValidators(h6(i,r.validator)):"function"==typeof i&&s.setValidators([i]);const o=Q2(s);null!==r.asyncValidator?s.setAsyncValidators(h6(o,r.asyncValidator)):"function"==typeof o&&s.setAsyncValidators([o]);const u=()=>s.updateValueAndValidity();Q0(r._rawValidators,u),Q0(r._rawAsyncValidators,u)}function Ti(s,r){let i=!1;if(null!==s){if(null!==r.validator){const u=Y0(s);if(Array.isArray(u)&&u.length>0){const f=u.filter(v=>v!==r.validator);f.length!==u.length&&(i=!0,s.setValidators(f))}}if(null!==r.asyncValidator){const u=Q2(s);if(Array.isArray(u)&&u.length>0){const f=u.filter(v=>v!==r.asyncValidator);f.length!==u.length&&(i=!0,s.setAsyncValidators(f))}}}const o=()=>{};return Q0(r._rawValidators,o),Q0(r._rawAsyncValidators,o),i}function t8(s,r){s._pendingDirty&&s.markAsDirty(),s.setValue(s._pendingValue,{emitModelToViewChange:!1}),r.viewToModelUpdate(s._pendingValue),s._pendingChange=!1}function X0(s,r){if(!s.hasOwnProperty("model"))return!1;const i=s.model;return!!i.isFirstChange()||!Object.is(r,i.currentValue)}function Ni(s,r){if(!r)return null;let i,o,u;return Array.isArray(r),r.forEach(f=>{f.constructor===ra?i=f:function(s){return Object.getPrototypeOf(s.constructor)===zn}(f)?o=f:u=f}),u||o||i||null}function ec(s,r){const i=s.indexOf(r);i>-1&&s.splice(i,1)}const ns="VALID",tc="INVALID",p1="PENDING",ai="DISABLED";function la(s){return(_6(s)?s.validators:s)||null}function o8(s){return Array.isArray(s)?Y2(s):s||null}function y6(s,r){return(_6(r)?r.asyncValidators:s)||null}function nc(s){return Array.isArray(s)?sa(s):s||null}function _6(s){return null!=s&&!Array.isArray(s)&&"object"==typeof s}class rc{constructor(r,i){this._hasOwnPendingAsyncValidator=!1,this._onCollectionChange=()=>{},this._parent=null,this.pristine=!0,this.touched=!1,this._onDisabledChange=[],this._rawValidators=r,this._rawAsyncValidators=i,this._composedValidatorFn=o8(this._rawValidators),this._composedAsyncValidatorFn=nc(this._rawAsyncValidators)}get validator(){return this._composedValidatorFn}set validator(r){this._rawValidators=this._composedValidatorFn=r}get asyncValidator(){return this._composedAsyncValidatorFn}set asyncValidator(r){this._rawAsyncValidators=this._composedAsyncValidatorFn=r}get parent(){return this._parent}get valid(){return this.status===ns}get invalid(){return this.status===tc}get pending(){return this.status==p1}get disabled(){return this.status===ai}get enabled(){return this.status!==ai}get dirty(){return!this.pristine}get untouched(){return!this.touched}get updateOn(){return this._updateOn?this._updateOn:this.parent?this.parent.updateOn:"change"}setValidators(r){this._rawValidators=r,this._composedValidatorFn=o8(r)}setAsyncValidators(r){this._rawAsyncValidators=r,this._composedAsyncValidatorFn=nc(r)}addValidators(r){this.setValidators(Ii(r,this._rawValidators))}addAsyncValidators(r){this.setAsyncValidators(Ii(r,this._rawAsyncValidators))}removeValidators(r){this.setValidators(e8(r,this._rawValidators))}removeAsyncValidators(r){this.setAsyncValidators(e8(r,this._rawAsyncValidators))}hasValidator(r){return J2(this._rawValidators,r)}hasAsyncValidator(r){return J2(this._rawAsyncValidators,r)}clearValidators(){this.validator=null}clearAsyncValidators(){this.asyncValidator=null}markAsTouched(r={}){this.touched=!0,this._parent&&!r.onlySelf&&this._parent.markAsTouched(r)}markAllAsTouched(){this.markAsTouched({onlySelf:!0}),this._forEachChild(r=>r.markAllAsTouched())}markAsUntouched(r={}){this.touched=!1,this._pendingTouched=!1,this._forEachChild(i=>{i.markAsUntouched({onlySelf:!0})}),this._parent&&!r.onlySelf&&this._parent._updateTouched(r)}markAsDirty(r={}){this.pristine=!1,this._parent&&!r.onlySelf&&this._parent.markAsDirty(r)}markAsPristine(r={}){this.pristine=!0,this._pendingDirty=!1,this._forEachChild(i=>{i.markAsPristine({onlySelf:!0})}),this._parent&&!r.onlySelf&&this._parent._updatePristine(r)}markAsPending(r={}){this.status=p1,!1!==r.emitEvent&&this.statusChanges.emit(this.status),this._parent&&!r.onlySelf&&this._parent.markAsPending(r)}disable(r={}){const i=this._parentMarkedDirty(r.onlySelf);this.status=ai,this.errors=null,this._forEachChild(o=>{o.disable(Object.assign(Object.assign({},r),{onlySelf:!0}))}),this._updateValue(),!1!==r.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._updateAncestors(Object.assign(Object.assign({},r),{skipPristineCheck:i})),this._onDisabledChange.forEach(o=>o(!0))}enable(r={}){const i=this._parentMarkedDirty(r.onlySelf);this.status=ns,this._forEachChild(o=>{o.enable(Object.assign(Object.assign({},r),{onlySelf:!0}))}),this.updateValueAndValidity({onlySelf:!0,emitEvent:r.emitEvent}),this._updateAncestors(Object.assign(Object.assign({},r),{skipPristineCheck:i})),this._onDisabledChange.forEach(o=>o(!1))}_updateAncestors(r){this._parent&&!r.onlySelf&&(this._parent.updateValueAndValidity(r),r.skipPristineCheck||this._parent._updatePristine(),this._parent._updateTouched())}setParent(r){this._parent=r}updateValueAndValidity(r={}){this._setInitialStatus(),this._updateValue(),this.enabled&&(this._cancelExistingSubscription(),this.errors=this._runValidator(),this.status=this._calculateStatus(),(this.status===ns||this.status===p1)&&this._runAsyncValidator(r.emitEvent)),!1!==r.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._parent&&!r.onlySelf&&this._parent.updateValueAndValidity(r)}_updateTreeValidity(r={emitEvent:!0}){this._forEachChild(i=>i._updateTreeValidity(r)),this.updateValueAndValidity({onlySelf:!0,emitEvent:r.emitEvent})}_setInitialStatus(){this.status=this._allControlsDisabled()?ai:ns}_runValidator(){return this.validator?this.validator(this):null}_runAsyncValidator(r){if(this.asyncValidator){this.status=p1,this._hasOwnPendingAsyncValidator=!0;const i=d2(this.asyncValidator(this));this._asyncValidationSubscription=i.subscribe(o=>{this._hasOwnPendingAsyncValidator=!1,this.setErrors(o,{emitEvent:r})})}}_cancelExistingSubscription(){this._asyncValidationSubscription&&(this._asyncValidationSubscription.unsubscribe(),this._hasOwnPendingAsyncValidator=!1)}setErrors(r,i={}){this.errors=r,this._updateControlsErrors(!1!==i.emitEvent)}get(r){return function(s,r,i){if(null==r||(Array.isArray(r)||(r=r.split(".")),Array.isArray(r)&&0===r.length))return null;let o=s;return r.forEach(u=>{o=o instanceof ua?o.controls.hasOwnProperty(u)?o.controls[u]:null:o instanceof fh&&o.at(u)||null}),o}(this,r)}getError(r,i){const o=i?this.get(i):this;return o&&o.errors?o.errors[r]:null}hasError(r,i){return!!this.getError(r,i)}get root(){let r=this;for(;r._parent;)r=r._parent;return r}_updateControlsErrors(r){this.status=this._calculateStatus(),r&&this.statusChanges.emit(this.status),this._parent&&this._parent._updateControlsErrors(r)}_initObservables(){this.valueChanges=new m.vpe,this.statusChanges=new m.vpe}_calculateStatus(){return this._allControlsDisabled()?ai:this.errors?tc:this._hasOwnPendingAsyncValidator||this._anyControlsHaveStatus(p1)?p1:this._anyControlsHaveStatus(tc)?tc:ns}_anyControlsHaveStatus(r){return this._anyControls(i=>i.status===r)}_anyControlsDirty(){return this._anyControls(r=>r.dirty)}_anyControlsTouched(){return this._anyControls(r=>r.touched)}_updatePristine(r={}){this.pristine=!this._anyControlsDirty(),this._parent&&!r.onlySelf&&this._parent._updatePristine(r)}_updateTouched(r={}){this.touched=this._anyControlsTouched(),this._parent&&!r.onlySelf&&this._parent._updateTouched(r)}_isBoxedValue(r){return"object"==typeof r&&null!==r&&2===Object.keys(r).length&&"value"in r&&"disabled"in r}_registerOnCollectionChange(r){this._onCollectionChange=r}_setUpdateStrategy(r){_6(r)&&null!=r.updateOn&&(this._updateOn=r.updateOn)}_parentMarkedDirty(r){return!r&&!(!this._parent||!this._parent.dirty)&&!this._parent._anyControlsDirty()}}class p2 extends rc{constructor(r=null,i,o){super(la(i),y6(o,i)),this._onChange=[],this._applyFormState(r),this._setUpdateStrategy(i),this._initObservables(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}setValue(r,i={}){this.value=this._pendingValue=r,this._onChange.length&&!1!==i.emitModelToViewChange&&this._onChange.forEach(o=>o(this.value,!1!==i.emitViewToModelChange)),this.updateValueAndValidity(i)}patchValue(r,i={}){this.setValue(r,i)}reset(r=null,i={}){this._applyFormState(r),this.markAsPristine(i),this.markAsUntouched(i),this.setValue(this.value,i),this._pendingChange=!1}_updateValue(){}_anyControls(r){return!1}_allControlsDisabled(){return this.disabled}registerOnChange(r){this._onChange.push(r)}_unregisterOnChange(r){ec(this._onChange,r)}registerOnDisabledChange(r){this._onDisabledChange.push(r)}_unregisterOnDisabledChange(r){ec(this._onDisabledChange,r)}_forEachChild(r){}_syncPendingControls(){return!("submit"!==this.updateOn||(this._pendingDirty&&this.markAsDirty(),this._pendingTouched&&this.markAsTouched(),!this._pendingChange)||(this.setValue(this._pendingValue,{onlySelf:!0,emitModelToViewChange:!1}),0))}_applyFormState(r){this._isBoxedValue(r)?(this.value=this._pendingValue=r.value,r.disabled?this.disable({onlySelf:!0,emitEvent:!1}):this.enable({onlySelf:!0,emitEvent:!1})):this.value=this._pendingValue=r}}class ua extends rc{constructor(r,i,o){super(la(i),y6(o,i)),this.controls=r,this._initObservables(),this._setUpdateStrategy(i),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}registerControl(r,i){return this.controls[r]?this.controls[r]:(this.controls[r]=i,i.setParent(this),i._registerOnCollectionChange(this._onCollectionChange),i)}addControl(r,i,o={}){this.registerControl(r,i),this.updateValueAndValidity({emitEvent:o.emitEvent}),this._onCollectionChange()}removeControl(r,i={}){this.controls[r]&&this.controls[r]._registerOnCollectionChange(()=>{}),delete this.controls[r],this.updateValueAndValidity({emitEvent:i.emitEvent}),this._onCollectionChange()}setControl(r,i,o={}){this.controls[r]&&this.controls[r]._registerOnCollectionChange(()=>{}),delete this.controls[r],i&&this.registerControl(r,i),this.updateValueAndValidity({emitEvent:o.emitEvent}),this._onCollectionChange()}contains(r){return this.controls.hasOwnProperty(r)&&this.controls[r].enabled}setValue(r,i={}){this._checkAllValuesPresent(r),Object.keys(r).forEach(o=>{this._throwIfControlMissing(o),this.controls[o].setValue(r[o],{onlySelf:!0,emitEvent:i.emitEvent})}),this.updateValueAndValidity(i)}patchValue(r,i={}){null!=r&&(Object.keys(r).forEach(o=>{this.controls[o]&&this.controls[o].patchValue(r[o],{onlySelf:!0,emitEvent:i.emitEvent})}),this.updateValueAndValidity(i))}reset(r={},i={}){this._forEachChild((o,u)=>{o.reset(r[u],{onlySelf:!0,emitEvent:i.emitEvent})}),this._updatePristine(i),this._updateTouched(i),this.updateValueAndValidity(i)}getRawValue(){return this._reduceChildren({},(r,i,o)=>(r[o]=i instanceof p2?i.value:i.getRawValue(),r))}_syncPendingControls(){let r=this._reduceChildren(!1,(i,o)=>!!o._syncPendingControls()||i);return r&&this.updateValueAndValidity({onlySelf:!0}),r}_throwIfControlMissing(r){if(!Object.keys(this.controls).length)throw new Error("\n        There are no form controls registered with this group yet. If you're using ngModel,\n        you may want to check next tick (e.g. use setTimeout).\n      ");if(!this.controls[r])throw new Error(`Cannot find form control with name: ${r}.`)}_forEachChild(r){Object.keys(this.controls).forEach(i=>{const o=this.controls[i];o&&r(o,i)})}_setUpControls(){this._forEachChild(r=>{r.setParent(this),r._registerOnCollectionChange(this._onCollectionChange)})}_updateValue(){this.value=this._reduceValue()}_anyControls(r){for(const i of Object.keys(this.controls)){const o=this.controls[i];if(this.contains(i)&&r(o))return!0}return!1}_reduceValue(){return this._reduceChildren({},(r,i,o)=>((i.enabled||this.disabled)&&(r[o]=i.value),r))}_reduceChildren(r,i){let o=r;return this._forEachChild((u,f)=>{o=i(o,u,f)}),o}_allControlsDisabled(){for(const r of Object.keys(this.controls))if(this.controls[r].enabled)return!1;return Object.keys(this.controls).length>0||this.disabled}_checkAllValuesPresent(r){this._forEachChild((i,o)=>{if(void 0===r[o])throw new Error(`Must supply a value for form control with name: '${o}'.`)})}}class fh extends rc{constructor(r,i,o){super(la(i),y6(o,i)),this.controls=r,this._initObservables(),this._setUpdateStrategy(i),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}at(r){return this.controls[r]}push(r,i={}){this.controls.push(r),this._registerControl(r),this.updateValueAndValidity({emitEvent:i.emitEvent}),this._onCollectionChange()}insert(r,i,o={}){this.controls.splice(r,0,i),this._registerControl(i),this.updateValueAndValidity({emitEvent:o.emitEvent})}removeAt(r,i={}){this.controls[r]&&this.controls[r]._registerOnCollectionChange(()=>{}),this.controls.splice(r,1),this.updateValueAndValidity({emitEvent:i.emitEvent})}setControl(r,i,o={}){this.controls[r]&&this.controls[r]._registerOnCollectionChange(()=>{}),this.controls.splice(r,1),i&&(this.controls.splice(r,0,i),this._registerControl(i)),this.updateValueAndValidity({emitEvent:o.emitEvent}),this._onCollectionChange()}get length(){return this.controls.length}setValue(r,i={}){this._checkAllValuesPresent(r),r.forEach((o,u)=>{this._throwIfControlMissing(u),this.at(u).setValue(o,{onlySelf:!0,emitEvent:i.emitEvent})}),this.updateValueAndValidity(i)}patchValue(r,i={}){null!=r&&(r.forEach((o,u)=>{this.at(u)&&this.at(u).patchValue(o,{onlySelf:!0,emitEvent:i.emitEvent})}),this.updateValueAndValidity(i))}reset(r=[],i={}){this._forEachChild((o,u)=>{o.reset(r[u],{onlySelf:!0,emitEvent:i.emitEvent})}),this._updatePristine(i),this._updateTouched(i),this.updateValueAndValidity(i)}getRawValue(){return this.controls.map(r=>r instanceof p2?r.value:r.getRawValue())}clear(r={}){this.controls.length<1||(this._forEachChild(i=>i._registerOnCollectionChange(()=>{})),this.controls.splice(0),this.updateValueAndValidity({emitEvent:r.emitEvent}))}_syncPendingControls(){let r=this.controls.reduce((i,o)=>!!o._syncPendingControls()||i,!1);return r&&this.updateValueAndValidity({onlySelf:!0}),r}_throwIfControlMissing(r){if(!this.controls.length)throw new Error("\n        There are no form controls registered with this array yet. If you're using ngModel,\n        you may want to check next tick (e.g. use setTimeout).\n      ");if(!this.at(r))throw new Error(`Cannot find form control at index ${r}`)}_forEachChild(r){this.controls.forEach((i,o)=>{r(i,o)})}_updateValue(){this.value=this.controls.filter(r=>r.enabled||this.disabled).map(r=>r.value)}_anyControls(r){return this.controls.some(i=>i.enabled&&r(i))}_setUpControls(){this._forEachChild(r=>this._registerControl(r))}_checkAllValuesPresent(r){this._forEachChild((i,o)=>{if(void 0===r[o])throw new Error(`Must supply a value for form control at index: ${o}.`)})}_allControlsDisabled(){for(const r of this.controls)if(r.enabled)return!1;return this.controls.length>0||this.disabled}_registerControl(r){r.setParent(this),r._registerOnCollectionChange(this._onCollectionChange)}}const pa={provide:$r,useExisting:(0,m.Gpc)(()=>c8)},mh=(()=>Promise.resolve(null))();let c8=(()=>{class s extends $r{constructor(i,o,u,f){super(),this.control=new p2,this._registered=!1,this.update=new m.vpe,this._parent=i,this._setValidators(o),this._setAsyncValidators(u),this.valueAccessor=Ni(0,f)}ngOnChanges(i){this._checkForErrors(),this._registered||this._setUpControl(),"isDisabled"in i&&this._updateDisabled(i),X0(i,this.viewModel)&&(this._updateValue(this.model),this.viewModel=this.model)}ngOnDestroy(){this.formDirective&&this.formDirective.removeControl(this)}get path(){return this._parent?aa(this.name,this._parent):[this.name]}get formDirective(){return this._parent?this._parent.formDirective:null}viewToModelUpdate(i){this.viewModel=i,this.update.emit(i)}_setUpControl(){this._setUpdateStrategy(),this._isStandalone()?this._setUpStandalone():this.formDirective.addControl(this),this._registered=!0}_setUpdateStrategy(){this.options&&null!=this.options.updateOn&&(this.control._updateOn=this.options.updateOn)}_isStandalone(){return!this._parent||!(!this.options||!this.options.standalone)}_setUpStandalone(){ca(this.control,this),this.control.updateValueAndValidity({emitEvent:!1})}_checkForErrors(){this._isStandalone()||this._checkParentType(),this._checkName()}_checkParentType(){}_checkName(){this.options&&this.options.name&&(this.name=this.options.name),this._isStandalone()}_updateValue(i){mh.then(()=>{this.control.setValue(i,{emitViewToModelChange:!1})})}_updateDisabled(i){const o=i.isDisabled.currentValue,u=""===o||o&&"false"!==o;mh.then(()=>{u&&!this.control.disabled?this.control.disable():!u&&this.control.disabled&&this.control.enable()})}}return s.\u0275fac=function(i){return new(i||s)(m.Y36(i1,9),m.Y36(Hn,10),m.Y36(si,10),m.Y36(j1,10))},s.\u0275dir=m.lG2({type:s,selectors:[["","ngModel","",3,"formControlName","",3,"formControl",""]],inputs:{name:"name",isDisabled:["disabled","isDisabled"],model:["ngModel","model"],options:["ngModelOptions","options"]},outputs:{update:"ngModelChange"},exportAs:["ngModel"],features:[m._Bn([pa]),m.qOj,m.TTD]}),s})(),sc=(()=>{class s{}return s.\u0275fac=function(i){return new(i||s)},s.\u0275mod=m.oAB({type:s}),s.\u0275inj=m.cJS({}),s})();const M6=new m.OlP("NgModelWithFormControlWarning"),oc={provide:i1,useExisting:(0,m.Gpc)(()=>zi)};let zi=(()=>{class s extends i1{constructor(i,o){super(),this.validators=i,this.asyncValidators=o,this.submitted=!1,this._onCollectionChange=()=>this._updateDomValue(),this.directives=[],this.form=null,this.ngSubmit=new m.vpe,this._setValidators(i),this._setAsyncValidators(o)}ngOnChanges(i){this._checkFormPresent(),i.hasOwnProperty("form")&&(this._updateValidators(),this._updateDomValue(),this._updateRegistrations(),this._oldForm=this.form)}ngOnDestroy(){this.form&&(Ti(this.form,this),this.form._onCollectionChange===this._onCollectionChange&&this.form._registerOnCollectionChange(()=>{}))}get formDirective(){return this}get control(){return this.form}get path(){return[]}addControl(i){const o=this.form.get(i.path);return ca(o,i),o.updateValueAndValidity({emitEvent:!1}),this.directives.push(i),o}getControl(i){return this.form.get(i.path)}removeControl(i){d6(i.control||null,i,!1),ec(this.directives,i)}addFormGroup(i){this._setUpFormContainer(i)}removeFormGroup(i){this._cleanUpFormContainer(i)}getFormGroup(i){return this.form.get(i.path)}addFormArray(i){this._setUpFormContainer(i)}removeFormArray(i){this._cleanUpFormContainer(i)}getFormArray(i){return this.form.get(i.path)}updateModel(i,o){this.form.get(i.path).setValue(o)}onSubmit(i){return this.submitted=!0,function(s,r){s._syncPendingControls(),r.forEach(i=>{const o=i.control;"submit"===o.updateOn&&o._pendingChange&&(i.viewToModelUpdate(o._pendingValue),o._pendingChange=!1)})}(this.form,this.directives),this.ngSubmit.emit(i),!1}onReset(){this.resetForm()}resetForm(i){this.form.reset(i),this.submitted=!1}_updateDomValue(){this.directives.forEach(i=>{const o=i.control,u=this.form.get(i.path);o!==u&&(d6(o||null,i),u instanceof p2&&(ca(u,i),i.control=u))}),this.form._updateTreeValidity({emitEvent:!1})}_setUpFormContainer(i){const o=this.form.get(i.path);(function(s,r){m6(s,r)})(o,i),o.updateValueAndValidity({emitEvent:!1})}_cleanUpFormContainer(i){if(this.form){const o=this.form.get(i.path);o&&function(s,r){return Ti(s,r)}(o,i)&&o.updateValueAndValidity({emitEvent:!1})}}_updateRegistrations(){this.form._registerOnCollectionChange(this._onCollectionChange),this._oldForm&&this._oldForm._registerOnCollectionChange(()=>{})}_updateValidators(){m6(this.form,this),this._oldForm&&Ti(this._oldForm,this)}_checkFormPresent(){}}return s.\u0275fac=function(i){return new(i||s)(m.Y36(Hn,10),m.Y36(si,10))},s.\u0275dir=m.lG2({type:s,selectors:[["","formGroup",""]],hostBindings:function(i,o){1&i&&m.NdJ("submit",function(f){return o.onSubmit(f)})("reset",function(){return o.onReset()})},inputs:{form:["formGroup","form"]},outputs:{ngSubmit:"ngSubmit"},exportAs:["ngForm"],features:[m._Bn([oc]),m.qOj,m.TTD]}),s})();const E6={provide:$r,useExisting:(0,m.Gpc)(()=>cc)};let cc=(()=>{class s extends $r{constructor(i,o,u,f,v){super(),this._ngModelWarningConfig=v,this._added=!1,this.update=new m.vpe,this._ngModelWarningSent=!1,this._parent=i,this._setValidators(o),this._setAsyncValidators(u),this.valueAccessor=Ni(0,f)}set isDisabled(i){}ngOnChanges(i){this._added||this._setUpControl(),X0(i,this.viewModel)&&(this.viewModel=this.model,this.formDirective.updateModel(this,this.model))}ngOnDestroy(){this.formDirective&&this.formDirective.removeControl(this)}viewToModelUpdate(i){this.viewModel=i,this.update.emit(i)}get path(){return aa(null==this.name?this.name:this.name.toString(),this._parent)}get formDirective(){return this._parent?this._parent.formDirective:null}_checkParentType(){}_setUpControl(){this._checkParentType(),this.control=this.formDirective.addControl(this),this.control.disabled&&this.valueAccessor.setDisabledState&&this.valueAccessor.setDisabledState(!0),this._added=!0}}return s.\u0275fac=function(i){return new(i||s)(m.Y36(i1,13),m.Y36(Hn,10),m.Y36(si,10),m.Y36(j1,10),m.Y36(M6,8))},s.\u0275dir=m.lG2({type:s,selectors:[["","formControlName",""]],inputs:{isDisabled:["disabled","isDisabled"],name:["formControlName","name"],model:["ngModel","model"]},outputs:{update:"ngModelChange"},features:[m._Bn([E6]),m.qOj,m.TTD]}),s._ngModelWarningSentOnce=!1,s})(),Le=(()=>{class s{}return s.\u0275fac=function(i){return new(i||s)},s.\u0275mod=m.oAB({type:s}),s.\u0275inj=m.cJS({imports:[[sc]]}),s})(),qe=(()=>{class s{}return s.\u0275fac=function(i){return new(i||s)},s.\u0275mod=m.oAB({type:s}),s.\u0275inj=m.cJS({imports:[Le]}),s})(),at=(()=>{class s{static withConfig(i){return{ngModule:s,providers:[{provide:M6,useValue:i.warnOnNgModelWithFormControl}]}}}return s.\u0275fac=function(i){return new(i||s)},s.\u0275mod=m.oAB({type:s}),s.\u0275inj=m.cJS({imports:[Le]}),s})();var Zr=R(9105);function $1(s,r,i,o){return(0,Zr.m)(i)&&(o=i,i=void 0),o?$1(s,r,i).pipe((0,vt.U)(u=>(0,qs.k)(u)?o(...u):o(u))):new A1.y(u=>{ya(s,r,function(v){u.next(arguments.length>1?Array.prototype.slice.call(arguments):v)},u,i)})}function ya(s,r,i,o,u){let f;if(function(s){return s&&"function"==typeof s.addEventListener&&"function"==typeof s.removeEventListener}(s)){const v=s;s.addEventListener(r,i,u),f=()=>v.removeEventListener(r,i,u)}else if(function(s){return s&&"function"==typeof s.on&&"function"==typeof s.off}(s)){const v=s;s.on(r,i),f=()=>v.off(r,i)}else if(function(s){return s&&"function"==typeof s.addListener&&"function"==typeof s.removeListener}(s)){const v=s;s.addListener(r,i),f=()=>v.removeListener(r,i)}else{if(!s||!s.length)throw new TypeError("Invalid event target");for(let v=0,x=s.length;v<x;v++)ya(s[v],r,i,o,u)}o.add(f)}const bh=["editorContainer"],_a=new m.OlP("NGX_MONACO_EDITOR_CONFIG");let T6,mc=!1,wh=(()=>{class s{constructor(i){this.config=i,this.onInit=new m.vpe}ngAfterViewInit(){mc?T6.then(()=>{this.initMonaco(this._options)}):(mc=!0,T6=new Promise(i=>{const o=(this.config.baseUrl||"./assets")+"/monaco-editor/min/vs";if("object"==typeof window.monaco)return void i();const u=()=>{window.require.config({paths:{vs:`${o}`}}),window.require(["vs/editor/editor.main"],()=>{"function"==typeof this.config.onMonacoLoad&&this.config.onMonacoLoad(),this.initMonaco(this._options),i()})};if(window.require)u();else{const f=document.createElement("script");f.type="text/javascript",f.src=`${o}/loader.js`,f.addEventListener("load",u),document.body.appendChild(f)}}))}ngOnDestroy(){this._windowResizeSubscription&&this._windowResizeSubscription.unsubscribe(),this._editor&&(this._editor.dispose(),this._editor=void 0)}}return s.\u0275fac=function(i){return new(i||s)(m.Y36(_a))},s.\u0275cmp=m.Xpm({type:s,selectors:[["ng-component"]],viewQuery:function(i,o){if(1&i&&m.Gf(bh,7),2&i){let u;m.iGM(u=m.CRH())&&(o._editorContainer=u.first)}},outputs:{onInit:"onInit"},decls:0,vars:0,template:function(i,o){},encapsulation:2}),s})(),v2=(()=>{class s extends wh{constructor(i,o){super(o),this.zone=i,this.editorConfig=o,this._value="",this.propagateChange=u=>{},this.onTouched=()=>{}}set options(i){this._options=Object.assign({},this.config.defaultOptions,i),this._editor&&(this._editor.dispose(),this.initMonaco(i))}get options(){return this._options}set model(i){this.options.model=i,this._editor&&(this._editor.dispose(),this.initMonaco(this.options))}writeValue(i){this._value=i||"",setTimeout(()=>{this._editor&&!this.options.model&&this._editor.setValue(this._value)})}registerOnChange(i){this.propagateChange=i}registerOnTouched(i){this.onTouched=i}initMonaco(i){const o=!!i.model;if(o){const u=monaco.editor.getModel(i.model.uri||"");u?(i.model=u,i.model.setValue(this._value)):i.model=monaco.editor.createModel(i.model.value,i.model.language,i.model.uri)}this._editor=monaco.editor.create(this._editorContainer.nativeElement,i),o||this._editor.setValue(this._value),this._editor.onDidChangeModelContent(u=>{const f=this._editor.getValue();this.zone.run(()=>{this.propagateChange(f),this._value=f})}),this._editor.onDidBlurEditorWidget(()=>{this.onTouched()}),this._windowResizeSubscription&&this._windowResizeSubscription.unsubscribe(),this._windowResizeSubscription=$1(window,"resize").subscribe(()=>this._editor.layout()),this.onInit.emit(this._editor)}}return s.\u0275fac=function(i){return new(i||s)(m.Y36(m.R0b),m.Y36(_a))},s.\u0275cmp=m.Xpm({type:s,selectors:[["ngx-monaco-editor"]],inputs:{options:"options",model:"model"},features:[m._Bn([{provide:j1,useExisting:(0,m.Gpc)(()=>s),multi:!0}]),m.qOj],decls:2,vars:0,consts:[[1,"editor-container"],["editorContainer",""]],template:function(i,o){1&i&&m._UZ(0,"div",0,1)},styles:["[_nghost-%COMP%] {\n          display: block;\n          height: 200px;\n      }\n\n      .editor-container[_ngcontent-%COMP%] {\n          width: 100%;\n          height: 98%;\n      }"]}),s})(),Db=(()=>{class s{static forRoot(i={}){return{ngModule:s,providers:[{provide:_a,useValue:i}]}}}return s.\u0275fac=function(i){return new(i||s)},s.\u0275mod=m.oAB({type:s}),s.\u0275inj=m.cJS({imports:[[H5]]}),s})();function v8(s){return(v8="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(r){return typeof r}:function(r){return r&&"function"==typeof Symbol&&r.constructor===Symbol&&r!==Symbol.prototype?"symbol":typeof r})(s)}function by(s,r){for(var i=0;i<r.length;i++){var o=r[i];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(s,o.key,o)}}function Mh(s,r,i){return r in s?Object.defineProperty(s,r,{value:i,enumerable:!0,configurable:!0,writable:!0}):s[r]=i,s}function Rt(s){for(var r=1;r<arguments.length;r++){var i=null!=arguments[r]?arguments[r]:{},o=Object.keys(i);"function"==typeof Object.getOwnPropertySymbols&&(o=o.concat(Object.getOwnPropertySymbols(i).filter(function(u){return Object.getOwnPropertyDescriptor(i,u).enumerable}))),o.forEach(function(u){Mh(s,u,i[u])})}return s}function Eh(s,r){return function(s){if(Array.isArray(s))return s}(s)||function(s,r){var i=[],o=!0,u=!1,f=void 0;try{for(var x,v=s[Symbol.iterator]();!(o=(x=v.next()).done)&&(i.push(x.value),!r||i.length!==r);o=!0);}catch(S){u=!0,f=S}finally{try{!o&&null!=v.return&&v.return()}finally{if(u)throw f}}return i}(s,r)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}()}var Xs={},_8={};try{"undefined"!=typeof window&&(Xs=window),"undefined"!=typeof document&&(_8=document),"undefined"!=typeof MutationObserver&&MutationObserver,"undefined"!=typeof performance&&performance}catch(s){}var B9=(Xs.navigator||{}).userAgent,j9=void 0===B9?"":B9,gc=Xs,Yn=_8,Vi=!!Yn.documentElement&&!!Yn.head&&"function"==typeof Yn.addEventListener&&"function"==typeof Yn.createElement,Ri=(~j9.indexOf("MSIE")||j9.indexOf("Trident/"),"___FONT_AWESOME___"),zh="svg-inline--fa",kh=[1,2,3,4,5,6,7,8,9,10],Oh=kh.concat([11,12,13,14,15,16,17,18,19,20]),as={GROUP:"group",SWAP_OPACITY:"swap-opacity",PRIMARY:"primary",SECONDARY:"secondary"},Q9=(["xs","sm","lg","fw","ul","li","border","pull-left","pull-right","spin","pulse","rotate-90","rotate-180","rotate-270","flip-horizontal","flip-vertical","flip-both","stack","stack-1x","stack-2x","inverse","layers","layers-text","layers-counter",as.GROUP,as.SWAP_OPACITY,as.PRIMARY,as.SECONDARY].concat(kh.map(function(s){return"".concat(s,"x")})).concat(Oh.map(function(s){return"w-".concat(s)})),gc.FontAwesomeConfig||{});Yn&&"function"==typeof Yn.querySelector&&[["data-family-prefix","familyPrefix"],["data-replacement-class","replacementClass"],["data-auto-replace-svg","autoReplaceSvg"],["data-auto-add-css","autoAddCss"],["data-auto-a11y","autoA11y"],["data-search-pseudo-elements","searchPseudoElements"],["data-observe-mutations","observeMutations"],["data-mutate-approach","mutateApproach"],["data-keep-original-source","keepOriginalSource"],["data-measure-performance","measurePerformance"],["data-show-missing-icons","showMissingIcons"]].forEach(function(s){var r=Eh(s,2),o=r[1],u=function(s){return""===s||"false"!==s&&("true"===s||s)}(function(s){var r=Yn.querySelector("script["+s+"]");if(r)return r.getAttribute(s)}(r[0]));null!=u&&(Q9[o]=u)});var V6=Rt({},{familyPrefix:"fa",replacementClass:zh,autoReplaceSvg:!0,autoAddCss:!0,autoA11y:!0,searchPseudoElements:!1,observeMutations:!0,mutateApproach:"async",keepOriginalSource:!0,measurePerformance:!1,showMissingIcons:!0},Q9);V6.autoReplaceSvg||(V6.observeMutations=!1);var It=Rt({},V6);gc.FontAwesomeConfig=It;var eo=gc||{};eo[Ri]||(eo[Ri]={}),eo[Ri].styles||(eo[Ri].styles={}),eo[Ri].hooks||(eo[Ri].hooks={}),eo[Ri].shims||(eo[Ri].shims=[]);var ci=eo[Ri],ep=[];Vi&&((Yn.documentElement.doScroll?/^loaded|^c/:/^loaded|^i|^c/).test(Yn.readyState)||Yn.addEventListener("DOMContentLoaded",function s(){Yn.removeEventListener("DOMContentLoaded",s),ep.map(function(r){return r()})}));var Ph,qr="pending",np="settled",R6="fulfilled",M8="rejected",Ty=function(){},rp="undefined"!=typeof global&&void 0!==global.process&&"function"==typeof global.process.emit,Ny="undefined"==typeof setImmediate?setTimeout:setImmediate,vc=[];function zy(){for(var s=0;s<vc.length;s++)vc[s][0](vc[s][1]);vc=[],Ph=!1}function E8(s,r){vc.push([s,r]),Ph||(Ph=!0,Ny(zy,0))}function Hh(s){var r=s.owner,i=r._state,o=r._data,u=s[i],f=s.then;if("function"==typeof u){i=R6;try{o=u(o)}catch(v){_c(f,v)}}Fh(f,o)||(i===R6&&yc(f,o),i===M8&&_c(f,o))}function Fh(s,r){var i;try{if(s===r)throw new TypeError("A promises callback cannot return that same promise.");if(r&&("function"==typeof r||"object"===v8(r))){var o=r.then;if("function"==typeof o)return o.call(r,function(u){i||(i=!0,r===u?li(s,u):yc(s,u))},function(u){i||(i=!0,_c(s,u))}),!0}}catch(u){return i||_c(s,u),!0}return!1}function yc(s,r){(s===r||!Fh(s,r))&&li(s,r)}function li(s,r){s._state===qr&&(s._state=np,s._data=r,E8(Uh,s))}function _c(s,r){s._state===qr&&(s._state=np,s._data=r,E8(cs,s))}function ip(s){s._then=s._then.forEach(Hh)}function Uh(s){s._state=R6,ip(s)}function cs(s){s._state=M8,ip(s),!s._handled&&rp&&global.process.emit("unhandledRejection",s._data,s)}function Bh(s){global.process.emit("rejectionHandled",s)}function Ir(s){if("function"!=typeof s)throw new TypeError("Promise resolver "+s+" is not a function");if(!(this instanceof Ir))throw new TypeError("Failed to construct 'Promise': Please use the 'new' operator, this object constructor cannot be called as a function.");this._then=[],function(s,r){function o(u){_c(r,u)}try{s(function(u){yc(r,u)},o)}catch(u){o(u)}}(s,this)}Ir.prototype={constructor:Ir,_state:qr,_then:null,_data:void 0,_handled:!1,then:function(r,i){var o={owner:this,then:new this.constructor(Ty),fulfilled:r,rejected:i};return(i||r)&&!this._handled&&(this._handled=!0,this._state===M8&&rp&&E8(Bh,this)),this._state===R6||this._state===M8?E8(Hh,o):this._then.push(o),o.then},catch:function(r){return this.then(null,r)}},Ir.all=function(s){if(!Array.isArray(s))throw new TypeError("You must pass an array to Promise.all().");return new Ir(function(r,i){var o=[],u=0;function f(S){return u++,function(L){o[S]=L,--u||r(o)}}for(var x,v=0;v<s.length;v++)(x=s[v])&&"function"==typeof x.then?x.then(f(v),i):o[v]=x;u||r(o)})},Ir.race=function(s){if(!Array.isArray(s))throw new TypeError("You must pass an array to Promise.race().");return new Ir(function(r,i){for(var u,o=0;o<s.length;o++)(u=s[o])&&"function"==typeof u.then?u.then(r,i):r(u)})},Ir.resolve=function(s){return s&&"object"===v8(s)&&s.constructor===Ir?s:new Ir(function(r){r(s)})},Ir.reject=function(s){return new Ir(function(r,i){i(s)})};var _2={size:16,x:0,y:0,rotate:0,flipX:!1,flipY:!1};function to(){for(var s=12,r="";s-- >0;)r+="0123456789abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ"[62*Math.random()|0];return r}function jh(s){return"".concat(s).replace(/&/g,"&amp;").replace(/"/g,"&quot;").replace(/'/g,"&#39;").replace(/</g,"&lt;").replace(/>/g,"&gt;")}function S8(s){return Object.keys(s||{}).reduce(function(r,i){return r+"".concat(i,": ").concat(s[i],";")},"")}function op(s){return s.size!==_2.size||s.x!==_2.x||s.y!==_2.y||s.rotate!==_2.rotate||s.flipX||s.flipY}function $h(s){var r=s.transform,o=s.iconWidth,u={transform:"translate(".concat(s.containerWidth/2," 256)")},f="translate(".concat(32*r.x,", ").concat(32*r.y,") "),v="scale(".concat(r.size/16*(r.flipX?-1:1),", ").concat(r.size/16*(r.flipY?-1:1),") "),x="rotate(".concat(r.rotate," 0 0)");return{outer:u,inner:{transform:"".concat(f," ").concat(v," ").concat(x)},path:{transform:"translate(".concat(o/2*-1," -256)")}}}var Gh={x:0,y:0,width:"100%",height:"100%"};function I8(s){var r=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];return s.attributes&&(s.attributes.fill||r)&&(s.attributes.fill="black"),s}function zb(s){return"g"===s.tag?s.children:[s]}function cp(s){var r=s.icons,i=r.main,o=r.mask,u=s.prefix,f=s.iconName,v=s.transform,x=s.symbol,S=s.title,L=s.maskId,P=s.titleId,W=s.extra,he=s.watchable,fe=void 0!==he&&he,Ee=o.found?o:i,$e=Ee.width,Ze=Ee.height,Xe="fak"===u,ht=Xe?"":"fa-w-".concat(Math.ceil($e/Ze*16)),_t=[It.replacementClass,f?"".concat(It.familyPrefix,"-").concat(f):"",ht].filter(function(my){return-1===W.classes.indexOf(my)}).filter(function(my){return""!==my||!!my}).concat(W.classes).join(" "),At={children:[],attributes:Rt({},W.attributes,{"data-prefix":u,"data-icon":f,class:_t,role:W.attributes.role||"img",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 ".concat($e," ").concat(Ze)})},sn=Xe&&!~W.classes.indexOf("fa-fw")?{width:"".concat($e/Ze*16*.0625,"em")}:{};fe&&(At.attributes["data-fa-i2svg"]=""),S&&At.children.push({tag:"title",attributes:{id:At.attributes["aria-labelledby"]||"title-".concat(P||to())},children:[S]});var ti=Rt({},At,{prefix:u,iconName:f,main:i,mask:o,maskId:L,transform:v,symbol:x,styles:Rt({},sn,W.styles)}),py=o.found&&i.found?function(s){var r=s.children,i=s.attributes,o=s.main,u=s.mask,f=s.maskId,S=o.icon,P=u.icon,W=$h({transform:s.transform,containerWidth:u.width,iconWidth:o.width}),he={tag:"rect",attributes:Rt({},Gh,{fill:"white"})},fe=S.children?{children:S.children.map(I8)}:{},Ee={tag:"g",attributes:Rt({},W.inner),children:[I8(Rt({tag:S.tag,attributes:Rt({},S.attributes,W.path)},fe))]},$e={tag:"g",attributes:Rt({},W.outer),children:[Ee]},Ze="mask-".concat(f||to()),Xe="clip-".concat(f||to()),ht={tag:"mask",attributes:Rt({},Gh,{id:Ze,maskUnits:"userSpaceOnUse",maskContentUnits:"userSpaceOnUse"}),children:[he,$e]},_t={tag:"defs",children:[{tag:"clipPath",attributes:{id:Xe},children:zb(P)},ht]};return r.push(_t,{tag:"rect",attributes:Rt({fill:"currentColor","clip-path":"url(#".concat(Xe,")"),mask:"url(#".concat(Ze,")")},Gh)}),{children:r,attributes:i}}(ti):function(s){var r=s.children,i=s.attributes,o=s.main,u=s.transform,v=S8(s.styles);if(v.length>0&&(i.style=v),op(u)){var x=$h({transform:u,containerWidth:o.width,iconWidth:o.width});r.push({tag:"g",attributes:Rt({},x.outer),children:[{tag:"g",attributes:Rt({},x.inner),children:[{tag:o.icon.tag,children:o.icon.children,attributes:Rt({},o.icon.attributes,x.path)}]}]})}else r.push(o.icon);return{children:r,attributes:i}}(ti),AW=py.attributes;return ti.children=py.children,ti.attributes=AW,x?function(s){var i=s.iconName,o=s.children,f=s.symbol;return[{tag:"svg",attributes:{style:"display: none;"},children:[{tag:"symbol",attributes:Rt({},s.attributes,{id:!0===f?"".concat(s.prefix,"-").concat(It.familyPrefix,"-").concat(i):f}),children:o}]}]}(ti):function(s){var r=s.children,i=s.main,o=s.mask,u=s.attributes,f=s.styles,v=s.transform;if(op(v)&&i.found&&!o.found){var L={x:i.width/i.height/2,y:.5};u.style=S8(Rt({},f,{"transform-origin":"".concat(L.x+v.x/16,"em ").concat(L.y+v.y/16,"em")}))}return[{tag:"svg",attributes:u,children:r}]}(ti)}var k6=function(r,i,o,u){var S,L,P,f=Object.keys(r),v=f.length,x=void 0!==u?function(r,i){return function(o,u,f,v){return r.call(i,o,u,f,v)}}(i,u):i;for(void 0===o?(S=1,P=r[f[0]]):(S=0,P=o);S<v;S++)P=x(P,r[L=f[S]],L,r);return P};function N8(s,r){var i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},o=i.skipHooks,u=void 0!==o&&o,f=Object.keys(r).reduce(function(v,x){var S=r[x];return S.icon?v[S.iconName]=S.icon:v[x]=S,v},{});"function"!=typeof ci.hooks.addPack||u?ci.styles[s]=Rt({},ci.styles[s]||{},f):ci.hooks.addPack(s,f),"fas"===s&&N8("fa",r)}var hp=ci.styles,io=ci.shims,z8=function(){var r=function(u){return k6(hp,function(f,v,x){return f[x]=k6(v,u,{}),f},{})};r(function(o,u,f){return u[3]&&(o[u[3]]=f),o}),r(function(o,u,f){var v=u[2];return o[f]=f,v.forEach(function(x){o[x]=f}),o});var i="far"in hp;k6(io,function(o,u){var v=u[1];return"far"===v&&!i&&(v="fas"),o[u[0]]={prefix:v,iconName:u[2]},o},{})};function L8(s,r,i){if(s&&s[r]&&s[r][i])return{prefix:r,iconName:i,icon:s[r][i]}}function ki(s){var r=s.tag,i=s.attributes,o=void 0===i?{}:i,u=s.children,f=void 0===u?[]:u;return"string"==typeof s?jh(s):"<".concat(r," ").concat(function(s){return Object.keys(s||{}).reduce(function(r,i){return r+"".concat(i,'="').concat(jh(s[i]),'" ')},"").trim()}(o),">").concat(f.map(ki).join(""),"</").concat(r,">")}z8();function k8(s){this.name="MissingIcon",this.message=s||"Icon unavailable",this.stack=(new Error).stack}(k8.prototype=Object.create(Error.prototype)).constructor=k8;var Yh={fill:"currentColor"},Qh={attributeType:"XML",repeatCount:"indefinite",dur:"2s"},Jh=(Rt({},Yh,{d:"M156.5,447.7l-12.6,29.5c-18.7-9.5-35.9-21.2-51.5-34.9l22.7-22.7C127.6,430.5,141.5,440,156.5,447.7z M40.6,272H8.5 c1.4,21.2,5.4,41.7,11.7,61.1L50,321.2C45.1,305.5,41.8,289,40.6,272z M40.6,240c1.4-18.8,5.2-37,11.1-54.1l-29.5-12.6 C14.7,194.3,10,216.7,8.5,240H40.6z M64.3,156.5c7.8-14.9,17.2-28.8,28.1-41.5L69.7,92.3c-13.7,15.6-25.5,32.8-34.9,51.5 L64.3,156.5z M397,419.6c-13.9,12-29.4,22.3-46.1,30.4l11.9,29.8c20.7-9.9,39.8-22.6,56.9-37.6L397,419.6z M115,92.4 c13.9-12,29.4-22.3,46.1-30.4l-11.9-29.8c-20.7,9.9-39.8,22.6-56.8,37.6L115,92.4z M447.7,355.5c-7.8,14.9-17.2,28.8-28.1,41.5 l22.7,22.7c13.7-15.6,25.5-32.9,34.9-51.5L447.7,355.5z M471.4,272c-1.4,18.8-5.2,37-11.1,54.1l29.5,12.6 c7.5-21.1,12.2-43.5,13.6-66.8H471.4z M321.2,462c-15.7,5-32.2,8.2-49.2,9.4v32.1c21.2-1.4,41.7-5.4,61.1-11.7L321.2,462z M240,471.4c-18.8-1.4-37-5.2-54.1-11.1l-12.6,29.5c21.1,7.5,43.5,12.2,66.8,13.6V471.4z M462,190.8c5,15.7,8.2,32.2,9.4,49.2h32.1 c-1.4-21.2-5.4-41.7-11.7-61.1L462,190.8z M92.4,397c-12-13.9-22.3-29.4-30.4-46.1l-29.8,11.9c9.9,20.7,22.6,39.8,37.6,56.9 L92.4,397z M272,40.6c18.8,1.4,36.9,5.2,54.1,11.1l12.6-29.5C317.7,14.7,295.3,10,272,8.5V40.6z M190.8,50 c15.7-5,32.2-8.2,49.2-9.4V8.5c-21.2,1.4-41.7,5.4-61.1,11.7L190.8,50z M442.3,92.3L419.6,115c12,13.9,22.3,29.4,30.5,46.1 l29.8-11.9C470,128.5,457.3,109.4,442.3,92.3z M397,92.4l22.7-22.7c-15.6-13.7-32.8-25.5-51.5-34.9l-12.6,29.5 C370.4,72.1,384.4,81.5,397,92.4z"}),Rt({},Qh,{attributeName:"opacity"}));function O8(s){var r=s[0],i=s[1],f=Eh(s.slice(4),1)[0];return{found:!0,width:r,height:i,icon:Array.isArray(f)?{tag:"g",attributes:{class:"".concat(It.familyPrefix,"-").concat(as.GROUP)},children:[{tag:"path",attributes:{class:"".concat(It.familyPrefix,"-").concat(as.SECONDARY),fill:"currentColor",d:f[0]}},{tag:"path",attributes:{class:"".concat(It.familyPrefix,"-").concat(as.PRIMARY),fill:"currentColor",d:f[1]}}]}:{tag:"path",attributes:{fill:"currentColor",d:f}}}}function U6(){It.autoAddCss&&!xc&&(function(s){if(s&&Vi){var r=Yn.createElement("style");r.setAttribute("type","text/css"),r.innerHTML=s;for(var i=Yn.head.childNodes,o=null,u=i.length-1;u>-1;u--){var f=i[u],v=(f.tagName||"").toUpperCase();["STYLE","LINK"].indexOf(v)>-1&&(o=f)}Yn.head.insertBefore(r,o)}}(function(){var s="fa",r=zh,i=It.familyPrefix,o=It.replacementClass,u='svg:not(:root).svg-inline--fa {\n  overflow: visible;\n}\n\n.svg-inline--fa {\n  display: inline-block;\n  font-size: inherit;\n  height: 1em;\n  overflow: visible;\n  vertical-align: -0.125em;\n}\n.svg-inline--fa.fa-lg {\n  vertical-align: -0.225em;\n}\n.svg-inline--fa.fa-w-1 {\n  width: 0.0625em;\n}\n.svg-inline--fa.fa-w-2 {\n  width: 0.125em;\n}\n.svg-inline--fa.fa-w-3 {\n  width: 0.1875em;\n}\n.svg-inline--fa.fa-w-4 {\n  width: 0.25em;\n}\n.svg-inline--fa.fa-w-5 {\n  width: 0.3125em;\n}\n.svg-inline--fa.fa-w-6 {\n  width: 0.375em;\n}\n.svg-inline--fa.fa-w-7 {\n  width: 0.4375em;\n}\n.svg-inline--fa.fa-w-8 {\n  width: 0.5em;\n}\n.svg-inline--fa.fa-w-9 {\n  width: 0.5625em;\n}\n.svg-inline--fa.fa-w-10 {\n  width: 0.625em;\n}\n.svg-inline--fa.fa-w-11 {\n  width: 0.6875em;\n}\n.svg-inline--fa.fa-w-12 {\n  width: 0.75em;\n}\n.svg-inline--fa.fa-w-13 {\n  width: 0.8125em;\n}\n.svg-inline--fa.fa-w-14 {\n  width: 0.875em;\n}\n.svg-inline--fa.fa-w-15 {\n  width: 0.9375em;\n}\n.svg-inline--fa.fa-w-16 {\n  width: 1em;\n}\n.svg-inline--fa.fa-w-17 {\n  width: 1.0625em;\n}\n.svg-inline--fa.fa-w-18 {\n  width: 1.125em;\n}\n.svg-inline--fa.fa-w-19 {\n  width: 1.1875em;\n}\n.svg-inline--fa.fa-w-20 {\n  width: 1.25em;\n}\n.svg-inline--fa.fa-pull-left {\n  margin-right: 0.3em;\n  width: auto;\n}\n.svg-inline--fa.fa-pull-right {\n  margin-left: 0.3em;\n  width: auto;\n}\n.svg-inline--fa.fa-border {\n  height: 1.5em;\n}\n.svg-inline--fa.fa-li {\n  width: 2em;\n}\n.svg-inline--fa.fa-fw {\n  width: 1.25em;\n}\n\n.fa-layers svg.svg-inline--fa {\n  bottom: 0;\n  left: 0;\n  margin: auto;\n  position: absolute;\n  right: 0;\n  top: 0;\n}\n\n.fa-layers {\n  display: inline-block;\n  height: 1em;\n  position: relative;\n  text-align: center;\n  vertical-align: -0.125em;\n  width: 1em;\n}\n.fa-layers svg.svg-inline--fa {\n  -webkit-transform-origin: center center;\n          transform-origin: center center;\n}\n\n.fa-layers-counter, .fa-layers-text {\n  display: inline-block;\n  position: absolute;\n  text-align: center;\n}\n\n.fa-layers-text {\n  left: 50%;\n  top: 50%;\n  -webkit-transform: translate(-50%, -50%);\n          transform: translate(-50%, -50%);\n  -webkit-transform-origin: center center;\n          transform-origin: center center;\n}\n\n.fa-layers-counter {\n  background-color: #ff253a;\n  border-radius: 1em;\n  -webkit-box-sizing: border-box;\n          box-sizing: border-box;\n  color: #fff;\n  height: 1.5em;\n  line-height: 1;\n  max-width: 5em;\n  min-width: 1.5em;\n  overflow: hidden;\n  padding: 0.25em;\n  right: 0;\n  text-overflow: ellipsis;\n  top: 0;\n  -webkit-transform: scale(0.25);\n          transform: scale(0.25);\n  -webkit-transform-origin: top right;\n          transform-origin: top right;\n}\n\n.fa-layers-bottom-right {\n  bottom: 0;\n  right: 0;\n  top: auto;\n  -webkit-transform: scale(0.25);\n          transform: scale(0.25);\n  -webkit-transform-origin: bottom right;\n          transform-origin: bottom right;\n}\n\n.fa-layers-bottom-left {\n  bottom: 0;\n  left: 0;\n  right: auto;\n  top: auto;\n  -webkit-transform: scale(0.25);\n          transform: scale(0.25);\n  -webkit-transform-origin: bottom left;\n          transform-origin: bottom left;\n}\n\n.fa-layers-top-right {\n  right: 0;\n  top: 0;\n  -webkit-transform: scale(0.25);\n          transform: scale(0.25);\n  -webkit-transform-origin: top right;\n          transform-origin: top right;\n}\n\n.fa-layers-top-left {\n  left: 0;\n  right: auto;\n  top: 0;\n  -webkit-transform: scale(0.25);\n          transform: scale(0.25);\n  -webkit-transform-origin: top left;\n          transform-origin: top left;\n}\n\n.fa-lg {\n  font-size: 1.3333333333em;\n  line-height: 0.75em;\n  vertical-align: -0.0667em;\n}\n\n.fa-xs {\n  font-size: 0.75em;\n}\n\n.fa-sm {\n  font-size: 0.875em;\n}\n\n.fa-1x {\n  font-size: 1em;\n}\n\n.fa-2x {\n  font-size: 2em;\n}\n\n.fa-3x {\n  font-size: 3em;\n}\n\n.fa-4x {\n  font-size: 4em;\n}\n\n.fa-5x {\n  font-size: 5em;\n}\n\n.fa-6x {\n  font-size: 6em;\n}\n\n.fa-7x {\n  font-size: 7em;\n}\n\n.fa-8x {\n  font-size: 8em;\n}\n\n.fa-9x {\n  font-size: 9em;\n}\n\n.fa-10x {\n  font-size: 10em;\n}\n\n.fa-fw {\n  text-align: center;\n  width: 1.25em;\n}\n\n.fa-ul {\n  list-style-type: none;\n  margin-left: 2.5em;\n  padding-left: 0;\n}\n.fa-ul > li {\n  position: relative;\n}\n\n.fa-li {\n  left: -2em;\n  position: absolute;\n  text-align: center;\n  width: 2em;\n  line-height: inherit;\n}\n\n.fa-border {\n  border: solid 0.08em #eee;\n  border-radius: 0.1em;\n  padding: 0.2em 0.25em 0.15em;\n}\n\n.fa-pull-left {\n  float: left;\n}\n\n.fa-pull-right {\n  float: right;\n}\n\n.fa.fa-pull-left,\n.fas.fa-pull-left,\n.far.fa-pull-left,\n.fal.fa-pull-left,\n.fab.fa-pull-left {\n  margin-right: 0.3em;\n}\n.fa.fa-pull-right,\n.fas.fa-pull-right,\n.far.fa-pull-right,\n.fal.fa-pull-right,\n.fab.fa-pull-right {\n  margin-left: 0.3em;\n}\n\n.fa-spin {\n  -webkit-animation: fa-spin 2s infinite linear;\n          animation: fa-spin 2s infinite linear;\n}\n\n.fa-pulse {\n  -webkit-animation: fa-spin 1s infinite steps(8);\n          animation: fa-spin 1s infinite steps(8);\n}\n\n@-webkit-keyframes fa-spin {\n  0% {\n    -webkit-transform: rotate(0deg);\n            transform: rotate(0deg);\n  }\n  100% {\n    -webkit-transform: rotate(360deg);\n            transform: rotate(360deg);\n  }\n}\n\n@keyframes fa-spin {\n  0% {\n    -webkit-transform: rotate(0deg);\n            transform: rotate(0deg);\n  }\n  100% {\n    -webkit-transform: rotate(360deg);\n            transform: rotate(360deg);\n  }\n}\n.fa-rotate-90 {\n  -ms-filter: "progid:DXImageTransform.Microsoft.BasicImage(rotation=1)";\n  -webkit-transform: rotate(90deg);\n          transform: rotate(90deg);\n}\n\n.fa-rotate-180 {\n  -ms-filter: "progid:DXImageTransform.Microsoft.BasicImage(rotation=2)";\n  -webkit-transform: rotate(180deg);\n          transform: rotate(180deg);\n}\n\n.fa-rotate-270 {\n  -ms-filter: "progid:DXImageTransform.Microsoft.BasicImage(rotation=3)";\n  -webkit-transform: rotate(270deg);\n          transform: rotate(270deg);\n}\n\n.fa-flip-horizontal {\n  -ms-filter: "progid:DXImageTransform.Microsoft.BasicImage(rotation=0, mirror=1)";\n  -webkit-transform: scale(-1, 1);\n          transform: scale(-1, 1);\n}\n\n.fa-flip-vertical {\n  -ms-filter: "progid:DXImageTransform.Microsoft.BasicImage(rotation=2, mirror=1)";\n  -webkit-transform: scale(1, -1);\n          transform: scale(1, -1);\n}\n\n.fa-flip-both, .fa-flip-horizontal.fa-flip-vertical {\n  -ms-filter: "progid:DXImageTransform.Microsoft.BasicImage(rotation=2, mirror=1)";\n  -webkit-transform: scale(-1, -1);\n          transform: scale(-1, -1);\n}\n\n:root .fa-rotate-90,\n:root .fa-rotate-180,\n:root .fa-rotate-270,\n:root .fa-flip-horizontal,\n:root .fa-flip-vertical,\n:root .fa-flip-both {\n  -webkit-filter: none;\n          filter: none;\n}\n\n.fa-stack {\n  display: inline-block;\n  height: 2em;\n  position: relative;\n  width: 2.5em;\n}\n\n.fa-stack-1x,\n.fa-stack-2x {\n  bottom: 0;\n  left: 0;\n  margin: auto;\n  position: absolute;\n  right: 0;\n  top: 0;\n}\n\n.svg-inline--fa.fa-stack-1x {\n  height: 1em;\n  width: 1.25em;\n}\n.svg-inline--fa.fa-stack-2x {\n  height: 2em;\n  width: 2.5em;\n}\n\n.fa-inverse {\n  color: #fff;\n}\n\n.sr-only {\n  border: 0;\n  clip: rect(0, 0, 0, 0);\n  height: 1px;\n  margin: -1px;\n  overflow: hidden;\n  padding: 0;\n  position: absolute;\n  width: 1px;\n}\n\n.sr-only-focusable:active, .sr-only-focusable:focus {\n  clip: auto;\n  height: auto;\n  margin: 0;\n  overflow: visible;\n  position: static;\n  width: auto;\n}\n\n.svg-inline--fa .fa-primary {\n  fill: var(--fa-primary-color, currentColor);\n  opacity: 1;\n  opacity: var(--fa-primary-opacity, 1);\n}\n\n.svg-inline--fa .fa-secondary {\n  fill: var(--fa-secondary-color, currentColor);\n  opacity: 0.4;\n  opacity: var(--fa-secondary-opacity, 0.4);\n}\n\n.svg-inline--fa.fa-swap-opacity .fa-primary {\n  opacity: 0.4;\n  opacity: var(--fa-secondary-opacity, 0.4);\n}\n\n.svg-inline--fa.fa-swap-opacity .fa-secondary {\n  opacity: 1;\n  opacity: var(--fa-primary-opacity, 1);\n}\n\n.svg-inline--fa mask .fa-primary,\n.svg-inline--fa mask .fa-secondary {\n  fill: black;\n}\n\n.fad.fa-inverse {\n  color: #fff;\n}';if(i!==s||o!==r){var f=new RegExp("\\.".concat(s,"\\-"),"g"),v=new RegExp("\\--".concat(s,"\\-"),"g"),x=new RegExp("\\.".concat(r),"g");u=u.replace(f,".".concat(i,"-")).replace(v,"--".concat(i,"-")).replace(x,".".concat(o))}return u}()),xc=!0)}function H8(s,r){return Object.defineProperty(s,"abstract",{get:r}),Object.defineProperty(s,"html",{get:function(){return s.abstract.map(function(o){return ki(o)})}}),Object.defineProperty(s,"node",{get:function(){if(Vi){var o=Yn.createElement("div");return o.innerHTML=s.html,o.children}}}),s}function Cc(s){var r=s.prefix,i=void 0===r?"fa":r,o=s.iconName;if(o)return L8(Mp.definitions,i,o)||L8(ci.styles,i,o)}Rt({},Yh,{cx:"256",cy:"364",r:"28"}),Rt({},Qh,{attributeName:"r",values:"28;14;28;28;14;28;"}),Rt({},Jh,{values:"1;0;1;1;0;1;"}),Rt({},Yh,{opacity:"1",d:"M263.7,312h-16c-6.6,0-12-5.4-12-12c0-71,77.4-63.9,77.4-107.8c0-20-17.8-40.2-57.4-40.2c-29.1,0-44.3,9.6-59.2,28.7 c-3.9,5-11.1,6-16.2,2.4l-13.1-9.2c-5.6-3.9-6.9-11.8-2.6-17.2c21.2-27.2,46.4-44.7,91.2-44.7c52.3,0,97.4,29.8,97.4,80.2 c0,67.6-77.4,63.5-77.4,107.8C275.7,306.6,270.3,312,263.7,312z"}),Rt({},Jh,{values:"1;0;0;0;0;1;"}),Rt({},Yh,{opacity:"0",d:"M232.5,134.5l7,168c0.3,6.4,5.6,11.5,12,11.5h9c6.4,0,11.7-5.1,12-11.5l7-168c0.3-6.8-5.2-12.5-12-12.5h-23 C237.7,122,232.2,127.7,232.5,134.5z"}),Rt({},Jh,{values:"0;0;1;1;0;0;"});var s,Mp=new(function(){function s(){(function(s,r){if(!(s instanceof r))throw new TypeError("Cannot call a class as a function")})(this,s),this.definitions={}}return function(s,r,i){r&&by(s.prototype,r)}(s,[{key:"add",value:function(){for(var i=this,o=arguments.length,u=new Array(o),f=0;f<o;f++)u[f]=arguments[f];var v=u.reduce(this._pullDefinitions,{});Object.keys(v).forEach(function(x){i.definitions[x]=Rt({},i.definitions[x]||{},v[x]),N8(x,v[x]),z8()})}},{key:"reset",value:function(){this.definitions={}}},{key:"_pullDefinitions",value:function(i,o){var u=o.prefix&&o.iconName&&o.icon?{0:o}:o;return Object.keys(u).map(function(f){var v=u[f],x=v.prefix,S=v.iconName,L=v.icon;i[x]||(i[x]={}),i[x][S]=L}),i}}]),s}()),xc=!1,B6_transform=function(r){return function(r){var i={size:16,x:0,y:0,flipX:!1,flipY:!1,rotate:0};return r?r.toLowerCase().split(" ").reduce(function(o,u){var f=u.toLowerCase().split("-"),v=f[0],x=f.slice(1).join("-");if(v&&"h"===x)return o.flipX=!0,o;if(v&&"v"===x)return o.flipY=!0,o;if(x=parseFloat(x),isNaN(x))return o;switch(v){case"grow":o.size=o.size+x;break;case"shrink":o.size=o.size-x;break;case"left":o.x=o.x-x;break;case"right":o.x=o.x+x;break;case"up":o.y=o.y-x;break;case"down":o.y=o.y+x;break;case"rotate":o.rotate=o.rotate+x}return o},i):i}(r)},U8=(s=function(s){var r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},i=r.transform,o=void 0===i?_2:i,u=r.symbol,f=void 0!==u&&u,v=r.mask,x=void 0===v?null:v,S=r.maskId,L=void 0===S?null:S,P=r.title,W=void 0===P?null:P,he=r.titleId,fe=void 0===he?null:he,Ee=r.classes,$e=void 0===Ee?[]:Ee,Ze=r.attributes,Xe=void 0===Ze?{}:Ze,ht=r.styles,_t=void 0===ht?{}:ht;if(s){var At=s.prefix,sn=s.iconName,ti=s.icon;return H8(Rt({type:"icon"},s),function(){return U6(),It.autoA11y&&(W?Xe["aria-labelledby"]="".concat(It.replacementClass,"-title-").concat(fe||to()):(Xe["aria-hidden"]="true",Xe.focusable="false")),cp({icons:{main:O8(ti),mask:x?O8(x.icon):{found:!1,width:null,height:null,icon:{}}},prefix:At,iconName:sn,transform:Rt({},_2,o),symbol:f,title:W,maskId:L,titleId:fe,extra:{attributes:Xe,styles:_t,classes:$e}})})}},function(r){var i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},o=(r||{}).icon?r:Cc(r||{}),u=i.mask;return u&&(u=(u||{}).icon?u:Cc(u||{})),s(o,Rt({},i,{mask:u}))});const Ap=["*"];let cf=(()=>{class s{constructor(){this.defaultPrefix="fas",this.fallbackIcon=null,this.globalLibrary=!1}}return s.\u0275fac=function(i){return new(i||s)},s.\u0275prov=m.Yz7({factory:function(){return new s},token:s,providedIn:"root"}),s})(),Sp=(()=>{class s{constructor(){this.definitions={}}addIcons(...i){for(const o of i)o.prefix in this.definitions||(this.definitions[o.prefix]={}),this.definitions[o.prefix][o.iconName]=o}addIconPacks(...i){for(const o of i){const u=Object.keys(o).map(f=>o[f]);this.addIcons(...u)}}getIconDefinition(i,o){return i in this.definitions&&o in this.definitions[i]?this.definitions[i][o]:null}}return s.\u0275fac=function(i){return new(i||s)},s.\u0275prov=m.Yz7({factory:function(){return new s},token:s,providedIn:"root"}),s})();const lf=s=>{const r={"fa-spin":s.spin,"fa-pulse":s.pulse,"fa-fw":s.fixedWidth,"fa-border":s.border,"fa-inverse":s.inverse,"fa-layers-counter":s.counter,"fa-flip-horizontal":"horizontal"===s.flip||"both"===s.flip,"fa-flip-vertical":"vertical"===s.flip||"both"===s.flip,[`fa-${s.size}`]:null!==s.size,[`fa-rotate-${s.rotate}`]:null!==s.rotate,[`fa-pull-${s.pull}`]:null!==s.pull,[`fa-stack-${s.stackItemSize}`]:null!=s.stackItemSize};return Object.keys(r).map(i=>r[i]?i:null).filter(i=>i)};let e_=(()=>{class s{constructor(){this.stackItemSize="1x"}ngOnChanges(i){if("size"in i)throw new Error('fa-icon is not allowed to customize size when used inside fa-stack. Set size on the enclosing fa-stack instead: <fa-stack size="4x">...</fa-stack>.')}}return s.\u0275fac=function(i){return new(i||s)},s.\u0275dir=m.lG2({type:s,selectors:[["fa-icon","stackItemSize",""],["fa-duotone-icon","stackItemSize",""]],inputs:{stackItemSize:"stackItemSize",size:"size"},features:[m.TTD]}),s})(),t_=(()=>{class s{constructor(i,o){this.renderer=i,this.elementRef=o}ngOnInit(){this.renderer.addClass(this.elementRef.nativeElement,"fa-stack")}ngOnChanges(i){"size"in i&&(null!=i.size.currentValue&&this.renderer.addClass(this.elementRef.nativeElement,`fa-${i.size.currentValue}`),null!=i.size.previousValue&&this.renderer.removeClass(this.elementRef.nativeElement,`fa-${i.size.previousValue}`))}}return s.\u0275fac=function(i){return new(i||s)(m.Y36(m.Qsj),m.Y36(m.SBq))},s.\u0275cmp=m.Xpm({type:s,selectors:[["fa-stack"]],inputs:{size:"size"},features:[m.TTD],ngContentSelectors:Ap,decls:1,vars:0,template:function(i,o){1&i&&(m.F$t(),m.Hsn(0))},encapsulation:2}),s})(),bc=(()=>{class s{constructor(i,o,u,f,v){this.sanitizer=i,this.config=o,this.iconLibrary=u,this.stackItem=f,this.classes=[],null!=v&&null==f&&console.error('FontAwesome: fa-icon and fa-duotone-icon elements must specify stackItemSize attribute when wrapped into fa-stack. Example: <fa-icon stackItemSize="2x"></fa-icon>.')}ngOnChanges(i){if(null==this.icon&&null==this.config.fallbackIcon)return(()=>{throw new Error("Property `icon` is required for `fa-icon`/`fa-duotone-icon` components.")})();let o=null;if(o=null==this.icon?this.config.fallbackIcon:this.icon,i){const u=this.findIconDefinition(o);if(null!=u){const f=this.buildParams();this.renderIcon(u,f)}}}render(){this.ngOnChanges({})}findIconDefinition(i){const o=((s,r)=>(s=>void 0!==s.prefix&&void 0!==s.iconName)(s)?s:Array.isArray(s)&&2===s.length?{prefix:s[0],iconName:s[1]}:"string"==typeof s?{prefix:r,iconName:s}:void 0)(i,this.config.defaultPrefix);if("icon"in o)return o;const u=this.iconLibrary.getIconDefinition(o.prefix,o.iconName);if(null!=u)return u;const f=Cc(o);if(null!=f){const v="Global icon library is deprecated. Consult https://github.com/FortAwesome/angular-fontawesome/blob/master/UPGRADING.md for the migration instructions.";if("unset"===this.config.globalLibrary)console.error("FontAwesome: "+v);else if(!this.config.globalLibrary)throw new Error(v);return f}return(s=>{throw new Error(`Could not find icon with iconName=${s.iconName} and prefix=${s.prefix} in the icon library.`)})(o),null}buildParams(){const i={flip:this.flip,spin:this.spin,pulse:this.pulse,border:this.border,inverse:this.inverse,size:this.size||null,pull:this.pull||null,rotate:this.rotate||null,fixedWidth:"boolean"==typeof this.fixedWidth?this.fixedWidth:this.config.fixedWidth,stackItemSize:null!=this.stackItem?this.stackItem.stackItemSize:null},o="string"==typeof this.transform?B6_transform(this.transform):this.transform;return{title:this.title,transform:o,classes:[...lf(i),...this.classes],mask:null!=this.mask?this.findIconDefinition(this.mask):null,styles:null!=this.styles?this.styles:{},symbol:this.symbol,attributes:{role:this.a11yRole}}}renderIcon(i,o){const u=U8(i,o);this.renderedIconHTML=this.sanitizer.bypassSecurityTrustHtml(u.html.join("\n"))}}return s.\u0275fac=function(i){return new(i||s)(m.Y36(j2),m.Y36(cf),m.Y36(Sp),m.Y36(e_,8),m.Y36(t_,8))},s.\u0275cmp=m.Xpm({type:s,selectors:[["fa-icon"]],hostAttrs:[1,"ng-fa-icon"],hostVars:2,hostBindings:function(i,o){2&i&&(m.Ikx("innerHTML",o.renderedIconHTML,m.oJD),m.uIk("title",o.title))},inputs:{classes:"classes",icon:"icon",title:"title",spin:"spin",pulse:"pulse",mask:"mask",styles:"styles",flip:"flip",size:"size",pull:"pull",border:"border",inverse:"inverse",symbol:"symbol",rotate:"rotate",fixedWidth:"fixedWidth",transform:"transform",a11yRole:"a11yRole"},features:[m.TTD],decls:0,vars:0,template:function(i,o){},encapsulation:2}),s})(),hf=(()=>{class s{}return s.\u0275fac=function(i){return new(i||s)},s.\u0275mod=m.oAB({type:s}),s.\u0275inj=m.cJS({}),s})();var x2=R(9958),n_=R(3637),T1=R(9126),$8=R(3282);function df(...s){return(0,$8.J)(1)((0,dt.of)(...s))}var Tp=R(4869);function $6(...s){const r=s[s.length-1];return(0,Tp.K)(r)?(s.pop(),i=>df(s,i,r)):i=>df(s,i)}function oo(){return s=>s.lift(new Np)}class Np{call(r,i){return i.subscribe(new r_(r))}}class r_ extends B1.L{constructor(r){super(r),this.hasPrev=!1}_next(r){let i;this.hasPrev?i=[this.prev,r]:this.hasPrev=!0,this.prev=r,i&&this.destination.next(i)}}function G6(s,r){let i=!1;return arguments.length>=2&&(i=!0),function(u){return u.lift(new Mc(s,r,i))}}class Mc{constructor(r,i,o=!1){this.accumulator=r,this.seed=i,this.hasSeed=o}call(r,i){return i.subscribe(new i_(r,this.accumulator,this.seed,this.hasSeed))}}class i_ extends B1.L{constructor(r,i,o,u){super(r),this.accumulator=i,this._seed=o,this.hasSeed=u,this.index=0}get seed(){return this._seed}set seed(r){this.hasSeed=!0,this._seed=r}_next(r){if(this.hasSeed)return this._tryNext(r);this.seed=r,this.destination.next(r)}_tryNext(r){const i=this.index++;let o;try{o=this.accumulator(this.seed,r,i)}catch(u){this.destination.error(u)}this.seed=o,this.destination.next(o)}}class o_{constructor(r,i){this.compare=r,this.keySelector=i}call(r,i){return i.subscribe(new a_(r,this.compare,this.keySelector))}}class a_ extends B1.L{constructor(r,i,o){super(r),this.keySelector=o,this.hasKey=!1,"function"==typeof i&&(this.compare=i)}compare(r,i){return r===i}_next(r){let i;try{const{keySelector:u}=this;i=u?u(r):r}catch(u){return this.destination.error(u)}let o=!1;if(this.hasKey)try{const{compare:u}=this;o=u(this.key,i)}catch(u){return this.destination.error(u)}else this.hasKey=!0;o||(this.key=i,this.destination.next(r))}}var W6=R(309),zp=(R(6300),R(4486)),Ae=R(8239),Z6=R(5452),c_=R(6034),ar=R(300),$t=R(4685),q6=function(s,r){return(q6=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(i,o){i.__proto__=o}||function(i,o){for(var u in o)Object.prototype.hasOwnProperty.call(o,u)&&(i[u]=o[u])})(s,r)};function Lp(s){var r="function"==typeof Symbol&&Symbol.iterator,i=r&&s[r],o=0;if(i)return i.call(s);if(s&&"number"==typeof s.length)return{next:function(){return s&&o>=s.length&&(s=void 0),{value:s&&s[o++],done:!s}}};throw new TypeError(r?"Object is not iterable.":"Symbol.iterator is not defined.")}var nt,l_="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:{},G8=G8||{},Et=l_||self;function K6(){}function pf(s){var r=typeof s;return"array"==(r="object"!=r?r:s?Array.isArray(s)?"array":r:"null")||"object"==r&&"number"==typeof s.length}function Y6(s){var r=typeof s;return"object"==r&&null!=s||"function"==r}var J6="closure_uid_"+(1e9*Math.random()>>>0),Vp=0;function Rp(s,r,i){return s.call.apply(s.bind,arguments)}function kp(s,r,i){if(!s)throw Error();if(2<arguments.length){var o=Array.prototype.slice.call(arguments,2);return function(){var u=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(u,o),s.apply(r,u)}}return function(){return s.apply(r,arguments)}}function m1(s,r,i){return(m1=Function.prototype.bind&&-1!=Function.prototype.bind.toString().indexOf("native code")?Rp:kp).apply(null,arguments)}function W8(s,r){var i=Array.prototype.slice.call(arguments,1);return function(){var o=i.slice();return o.push.apply(o,arguments),s.apply(this,o)}}function N1(s,r){function i(){}i.prototype=r.prototype,s.Z=r.prototype,s.prototype=new i,s.prototype.constructor=s,s.Vb=function(o,u,f){for(var v=Array(arguments.length-2),x=2;x<arguments.length;x++)v[x-2]=arguments[x];return r.prototype[u].apply(o,v)}}function ao(){this.s=this.s,this.o=this.o}var Op={};ao.prototype.s=!1,ao.prototype.na=function(){if(!this.s&&(this.s=!0,this.M(),0)){var s=function(s){return Object.prototype.hasOwnProperty.call(s,J6)&&s[J6]||(s[J6]=++Vp)}(this);delete Op[s]}},ao.prototype.M=function(){if(this.o)for(;this.o.length;)this.o.shift()()};var h_=Array.prototype.indexOf?function(s,r){return Array.prototype.indexOf.call(s,r,void 0)}:function(s,r){if("string"==typeof s)return"string"!=typeof r||1!=r.length?-1:s.indexOf(r,0);for(var i=0;i<s.length;i++)if(i in s&&s[i]===r)return i;return-1},mf=Array.prototype.forEach?function(s,r,i){Array.prototype.forEach.call(s,r,i)}:function(s,r,i){for(var o=s.length,u="string"==typeof s?s.split(""):s,f=0;f<o;f++)f in u&&r.call(i,u[f],f,s)};function Pp(s){return Array.prototype.concat.apply([],arguments)}function Hp(s){var r=s.length;if(0<r){for(var i=Array(r),o=0;o<r;o++)i[o]=s[o];return i}return[]}function gf(s){return/^[\s\xa0]*$/.test(s)}var G1,Z8=String.prototype.trim?function(s){return s.trim()}:function(s){return/^[\s\xa0]*([\s\S]*?)[\s\xa0]*$/.exec(s)[1]};function cr(s,r){return-1!=s.indexOf(r)}function q8(s,r){return s<r?-1:s>r?1:0}e:{var d_=Et.navigator;if(d_){var ui=d_.userAgent;if(ui){G1=ui;break e}}G1=""}function Fp(s,r,i){for(var o in s)r.call(i,s[o],o,s)}function p_(s){var r={};for(var i in s)r[i]=s[i];return r}var m_="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function vf(s,r){for(var i,o,u=1;u<arguments.length;u++){for(i in o=arguments[u])s[i]=o[i];for(var f=0;f<m_.length;f++)i=m_[f],Object.prototype.hasOwnProperty.call(o,i)&&(s[i]=o[i])}}function K8(s){return K8[" "](s),s}K8[" "]=K6;var Y8,g_=cr(G1,"Opera"),X6=cr(G1,"Trident")||cr(G1,"MSIE"),yf=cr(G1,"Edge"),e3=yf||X6,Bp=cr(G1,"Gecko")&&!(cr(G1.toLowerCase(),"webkit")&&!cr(G1,"Edge"))&&!(cr(G1,"Trident")||cr(G1,"MSIE"))&&!cr(G1,"Edge"),_f=cr(G1.toLowerCase(),"webkit")&&!cr(G1,"Edge");function jp(){var s=Et.document;return s?s.documentMode:void 0}e:{var Cf="",xf=function(){var s=G1;return Bp?/rv:([^\);]+)(\)|;)/.exec(s):yf?/Edge\/([\d\.]+)/.exec(s):X6?/\b(?:MSIE|rv)[: ]([^\);]+)(\)|;)/.exec(s):_f?/WebKit\/(\S+)/.exec(s):g_?/(?:Version)[ \/]?(\S+)/.exec(s):void 0}();if(xf&&(Cf=xf?xf[1]:""),X6){var bf=jp();if(null!=bf&&bf>parseFloat(Cf)){Y8=String(bf);break e}}Y8=Cf}var v_={};function Q8(){return r=v_,Object.prototype.hasOwnProperty.call(r,9)?r[9]:r[9]=function(){for(var s=0,r=Z8(String(Y8)).split("."),i=Z8("9").split("."),o=Math.max(r.length,i.length),u=0;0==s&&u<o;u++){var f=r[u]||"",v=i[u]||"";do{if(f=/(\d*)(\D*)(.*)/.exec(f)||["","","",""],v=/(\d*)(\D*)(.*)/.exec(v)||["","","",""],0==f[0].length&&0==v[0].length)break;s=q8(0==f[1].length?0:parseInt(f[1],10),0==v[1].length?0:parseInt(v[1],10))||q8(0==f[2].length,0==v[2].length)||q8(f[2],v[2]),f=f[3],v=v[3]}while(0==s)}return 0<=s}();var r}var Pi=Et.document&&X6&&(jp()||parseInt(Y8,10))||void 0,t3=function(){if(!Et.addEventListener||!Object.defineProperty)return!1;var s=!1,r=Object.defineProperty({},"passive",{get:function(){s=!0}});try{Et.addEventListener("test",K6,r),Et.removeEventListener("test",K6,r)}catch(i){}return s}();function W1(s,r){this.type=s,this.g=this.target=r,this.defaultPrevented=!1}function n3(s,r){if(W1.call(this,s?s.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,s){var i=this.type=s.type,o=s.changedTouches&&s.changedTouches.length?s.changedTouches[0]:null;if(this.target=s.target||s.srcElement,this.g=r,r=s.relatedTarget){if(Bp){e:{try{K8(r.nodeName);var u=!0;break e}catch(f){}u=!1}u||(r=null)}}else"mouseover"==i?r=s.fromElement:"mouseout"==i&&(r=s.toElement);this.relatedTarget=r,o?(this.clientX=void 0!==o.clientX?o.clientX:o.pageX,this.clientY=void 0!==o.clientY?o.clientY:o.pageY,this.screenX=o.screenX||0,this.screenY=o.screenY||0):(this.clientX=void 0!==s.clientX?s.clientX:s.pageX,this.clientY=void 0!==s.clientY?s.clientY:s.pageY,this.screenX=s.screenX||0,this.screenY=s.screenY||0),this.button=s.button,this.key=s.key||"",this.ctrlKey=s.ctrlKey,this.altKey=s.altKey,this.shiftKey=s.shiftKey,this.metaKey=s.metaKey,this.pointerId=s.pointerId||0,this.pointerType="string"==typeof s.pointerType?s.pointerType:Mf[s.pointerType]||"",this.state=s.state,this.i=s,s.defaultPrevented&&n3.Z.h.call(this)}}W1.prototype.h=function(){this.defaultPrevented=!0},N1(n3,W1);var Mf={2:"touch",3:"pen",4:"mouse"};n3.prototype.h=function(){n3.Z.h.call(this);var s=this.i;s.preventDefault?s.preventDefault():s.returnValue=!1};var Dr="closure_listenable_"+(1e6*Math.random()|0),r3=0;function Z1(s,r,i,o,u){this.listener=s,this.proxy=null,this.src=r,this.type=i,this.capture=!!o,this.ia=u,this.key=++r3,this.ca=this.fa=!1}function b2(s){s.ca=!0,s.listener=null,s.proxy=null,s.src=null,s.ia=null}function Ma(s){this.src=s,this.g={},this.h=0}function Tr(s,r){var i=r.type;if(i in s.g){var f,o=s.g[i],u=h_(o,r);(f=0<=u)&&Array.prototype.splice.call(o,u,1),f&&(b2(r),0==s.g[i].length&&(delete s.g[i],s.h--))}}function i3(s,r,i,o){for(var u=0;u<s.length;++u){var f=s[u];if(!f.ca&&f.listener==r&&f.capture==!!i&&f.ia==o)return u}return-1}Ma.prototype.add=function(s,r,i,o,u){var f=s.toString();(s=this.g[f])||(s=this.g[f]=[],this.h++);var v=i3(s,r,o,u);return-1<v?(r=s[v],i||(r.fa=!1)):((r=new Z1(r,this.src,f,!!o,u)).fa=i,s.push(r)),r};var lo="closure_lm_"+(1e6*Math.random()|0),uo={};function Ea(s,r,i,o,u){if(o&&o.once)return Sa(s,r,i,o,u);if(Array.isArray(r)){for(var f=0;f<r.length;f++)Ea(s,r[f],i,o,u);return null}return i=eu(i),s&&s[Dr]?s.N(r,i,Y6(o)?!!o.capture:!!o,u):Aa(s,r,i,!1,o,u)}function Aa(s,r,i,o,u,f){if(!r)throw Error("Invalid event type");var v=Y6(u)?!!u.capture:!!u,x=J8(s);if(x||(s[lo]=x=new Ma(s)),(i=x.add(r,i,o,v,f)).proxy)return i;if(o=function(){var r=$p;return function s(i){return r.call(s.src,s.listener,i)}}(),i.proxy=o,o.src=s,o.listener=i,s.addEventListener)t3||(u=v),void 0===u&&(u=!1),s.addEventListener(r.toString(),o,u);else if(s.attachEvent)s.attachEvent(Da(r.toString()),o);else{if(!s.addListener||!s.removeListener)throw Error("addEventListener and attachEvent are unavailable.");s.addListener(o)}return i}function Sa(s,r,i,o,u){if(Array.isArray(r)){for(var f=0;f<r.length;f++)Sa(s,r[f],i,o,u);return null}return i=eu(i),s&&s[Dr]?s.O(r,i,Y6(o)?!!o.capture:!!o,u):Aa(s,r,i,!0,o,u)}function Ia(s,r,i,o,u){if(Array.isArray(r))for(var f=0;f<r.length;f++)Ia(s,r[f],i,o,u);else o=Y6(o)?!!o.capture:!!o,i=eu(i),s&&s[Dr]?(s=s.i,(r=String(r).toString())in s.g&&-1<(i=i3(f=s.g[r],i,o,u))&&(b2(f[i]),Array.prototype.splice.call(f,i,1),0==f.length&&(delete s.g[r],s.h--))):s&&(s=J8(s))&&(r=s.g[r.toString()],s=-1,r&&(s=i3(r,i,o,u)),(i=-1<s?r[s]:null)&&ho(i))}function ho(s){if("number"!=typeof s&&s&&!s.ca){var r=s.src;if(r&&r[Dr])Tr(r.i,s);else{var i=s.type,o=s.proxy;r.removeEventListener?r.removeEventListener(i,o,s.capture):r.detachEvent?r.detachEvent(Da(i),o):r.addListener&&r.removeListener&&r.removeListener(o),(i=J8(r))?(Tr(i,s),0==i.h&&(i.src=null,r[lo]=null)):b2(s)}}}function Da(s){return s in uo?uo[s]:uo[s]="on"+s}function $p(s,r){if(s.ca)s=!0;else{r=new n3(r,this);var i=s.listener,o=s.ia||s.src;s.fa&&ho(s),s=i.call(o,r)}return s}function J8(s){return(s=s[lo])instanceof Ma?s:null}var X8="__closure_events_fn_"+(1e9*Math.random()>>>0);function eu(s){return"function"==typeof s?s:(s[X8]||(s[X8]=function(r){return s.handleEvent(r)}),s[X8])}function s1(){ao.call(this),this.i=new Ma(this),this.P=this,this.I=null}function g1(s,r){var i,o=s.I;if(o)for(i=[];o;o=o.I)i.push(o);if(s=s.P,o=r.type||r,"string"==typeof r)r=new W1(r,s);else if(r instanceof W1)r.target=r.target||s;else{var u=r;vf(r=new W1(o,s),u)}if(u=!0,i)for(var f=i.length-1;0<=f;f--){var v=r.g=i[f];u=s3(v,o,!0,r)&&u}if(u=s3(v=r.g=s,o,!0,r)&&u,u=s3(v,o,!1,r)&&u,i)for(f=0;f<i.length;f++)u=s3(v=r.g=i[f],o,!1,r)&&u}function s3(s,r,i,o){if(!(r=s.i.g[String(r)]))return!0;r=r.concat();for(var u=!0,f=0;f<r.length;++f){var v=r[f];if(v&&!v.ca&&v.capture==i){var x=v.listener,S=v.ia||v.src;v.fa&&Tr(s.i,v),u=!1!==x.call(S,o)&&u}}return u&&!o.defaultPrevented}N1(s1,ao),s1.prototype[Dr]=!0,s1.prototype.removeEventListener=function(s,r,i,o){Ia(this,s,r,i,o)},s1.prototype.M=function(){if(s1.Z.M.call(this),this.i){var r,s=this.i;for(r in s.g){for(var i=s.g[r],o=0;o<i.length;o++)b2(i[o]);delete s.g[r],s.h--}}this.I=null},s1.prototype.N=function(s,r,i,o){return this.i.add(String(s),r,!1,i,o)},s1.prototype.O=function(s,r,i,o){return this.i.add(String(s),r,!0,i,o)};var tu=Et.JSON.stringify;function Gp(){var s=If,r=null;return s.g&&(r=s.g,s.g=s.g.next,s.g||(s.h=null),r.next=null),r}var Af,y_=function(){function s(){this.h=this.g=null}return s.prototype.add=function(r,i){var o=Ef.get();o.set(r,i),this.h?this.h.next=o:this.g=o,this.h=o},s}(),Ef=new(function(){function s(r,i){this.i=r,this.j=i,this.h=0,this.g=null}return s.prototype.get=function(){var r;return 0<this.h?(this.h--,this.g=(r=this.g).next,r.next=null):r=this.i(),r},s}())(function(){return new __},function(s){return s.reset()}),__=function(){function s(){this.next=this.g=this.h=null}return s.prototype.set=function(r,i){this.h=r,this.g=i,this.next=null},s.prototype.reset=function(){this.next=this.g=this.h=null},s}();function C_(s){Et.setTimeout(function(){throw s},0)}function nu(s,r){Af||function(){var s=Et.Promise.resolve(void 0);Af=function(){s.then(x_)}}(),Sf||(Af(),Sf=!0),If.add(s,r)}var Sf=!1,If=new y_;function x_(){for(var s;s=Gp();){try{s.h.call(s.g)}catch(i){C_(i)}var r=Ef;r.j(s),100>r.h&&(r.h++,s.next=r.g,r.g=s)}Sf=!1}function o3(s,r){s1.call(this),this.h=s||1,this.g=r||Et,this.j=m1(this.kb,this),this.l=Date.now()}function Df(s){s.da=!1,s.S&&(s.g.clearTimeout(s.S),s.S=null)}function Tf(s,r,i){if("function"==typeof s)i&&(s=m1(s,i));else{if(!s||"function"!=typeof s.handleEvent)throw Error("Invalid listener argument");s=m1(s.handleEvent,s)}return 2147483647<Number(r)?-1:Et.setTimeout(s,r||0)}function b_(s){s.g=Tf(function(){s.g=null,s.i&&(s.i=!1,b_(s))},s.j);var r=s.h;s.h=null,s.m.apply(null,r)}N1(o3,s1),(nt=o3.prototype).da=!1,nt.S=null,nt.kb=function(){if(this.da){var s=Date.now()-this.l;0<s&&s<.8*this.h?this.S=this.g.setTimeout(this.j,this.h-s):(this.S&&(this.g.clearTimeout(this.S),this.S=null),g1(this,"tick"),this.da&&(Df(this),this.start()))}},nt.start=function(){this.da=!0,this.S||(this.S=this.g.setTimeout(this.j,this.h),this.l=Date.now())},nt.M=function(){o3.Z.M.call(this),Df(this),delete this.g};var w_=function(s){function r(i,o){var u=s.call(this)||this;return u.m=i,u.j=o,u.h=null,u.i=!1,u.g=null,u}return function(s,r){if("function"!=typeof r&&null!==r)throw new TypeError("Class extends value "+String(r)+" is not a constructor or null");function i(){this.constructor=s}q6(s,r),s.prototype=null===r?Object.create(r):(i.prototype=r.prototype,new i)}(r,s),r.prototype.l=function(i){this.h=arguments,this.g?this.i=!0:b_(this)},r.prototype.M=function(){s.prototype.M.call(this),this.g&&(Et.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)},r}(ao);function Ac(s){ao.call(this),this.h=s,this.g={}}N1(Ac,ao);var M_=[];function E_(s,r,i,o){Array.isArray(i)||(i&&(M_[0]=i.toString()),i=M_);for(var u=0;u<i.length;u++){var f=Ea(r,i[u],o||s.handleEvent,!1,s.h||s);if(!f)break;s.g[f.key]=f}}function A_(s){Fp(s.g,function(r,i){this.g.hasOwnProperty(i)&&ho(r)},s),s.g={}}function ru(){this.g=!0}function Sc(s,r,i,o){s.info(function(){return"XMLHTTP TEXT ("+r+"): "+function(s,r){if(!s.g)return r;if(!r)return null;try{var i=JSON.parse(r);if(i)for(s=0;s<i.length;s++)if(Array.isArray(i[s])){var o=i[s];if(!(2>o.length)){var u=o[1];if(Array.isArray(u)&&!(1>u.length)){var f=u[0];if("noop"!=f&&"stop"!=f&&"close"!=f)for(var v=1;v<u.length;v++)u[v]=""}}}return tu(i)}catch(x){return r}}(s,i)+(o?" "+o:"")})}Ac.prototype.M=function(){Ac.Z.M.call(this),A_(this)},Ac.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")},ru.prototype.Aa=function(){this.g=!1},ru.prototype.info=function(){};var Ta={},I_=null;function Lf(){return I_=I_||new s1}function D_(s){W1.call(this,Ta.Ma,s)}function a3(s){var r=Lf();g1(r,new D_(r,s))}function Vf(s,r){W1.call(this,Ta.STAT_EVENT,s),this.stat=r}function Nr(s){var r=Lf();g1(r,new Vf(r,s))}function Wp(s,r){W1.call(this,Ta.Na,s),this.size=r}function w2(s,r){if("function"!=typeof s)throw Error("Fn must not be null and must be a function");return Et.setTimeout(function(){s()},r)}Ta.Ma="serverreachability",N1(D_,W1),Ta.STAT_EVENT="statevent",N1(Vf,W1),Ta.Na="timingevent",N1(Wp,W1);var iu={NO_ERROR:0,lb:1,yb:2,xb:3,sb:4,wb:5,zb:6,Ja:7,TIMEOUT:8,Cb:9},Rf={qb:"complete",Mb:"success",Ka:"error",Ja:"abort",Eb:"ready",Fb:"readystatechange",TIMEOUT:"timeout",Ab:"incrementaldata",Db:"progress",tb:"downloadprogress",Ub:"uploadprogress"};function kf(){}function c3(){}kf.prototype.h=null;var Hf,l3={OPEN:"a",pb:"b",Ka:"c",Bb:"d"};function su(){W1.call(this,"d")}function Pf(){W1.call(this,"c")}function ou(){}function u3(s,r,i,o){this.l=s,this.j=r,this.m=i,this.X=o||1,this.V=new Ac(this),this.P=qp,this.W=new o3(s=e3?125:void 0),this.H=null,this.i=!1,this.s=this.A=this.v=this.K=this.F=this.Y=this.B=null,this.D=[],this.g=null,this.C=0,this.o=this.u=null,this.N=-1,this.I=!1,this.O=0,this.L=null,this.aa=this.J=this.$=this.U=!1,this.h=new Zp}function Zp(){this.i=null,this.g="",this.h=!1}N1(su,W1),N1(Pf,W1),N1(ou,kf),ou.prototype.g=function(){return new XMLHttpRequest},ou.prototype.i=function(){return{}},Hf=new ou;var qp=45e3,Ff={},h3={};function au(s,r,i){s.K=1,s.v=pu(M2(r)),s.s=i,s.U=!0,cu(s,null)}function cu(s,r){s.F=Date.now(),uu(s),s.A=M2(s.v);var i=s.A,o=s.X;Array.isArray(o)||(o=[String(o)]),qf(i.h,"t",o),s.C=0,i=s.l.H,s.h=new Zp,s.g=mm(s.l,i?r:null,!s.s),0<s.O&&(s.L=new w_(m1(s.Ia,s,s.g),s.O)),E_(s.V,s.g,"readystatechange",s.gb),r=s.H?p_(s.H):{},s.s?(s.u||(s.u="POST"),r["Content-Type"]="application/x-www-form-urlencoded",s.g.ea(s.A,s.u,s.s,r)):(s.u="GET",s.g.ea(s.A,s.u,null,r)),a3(1),function(s,r,i,o,u,f){s.info(function(){if(s.g)if(f)for(var v="",x=f.split("&"),S=0;S<x.length;S++){var L=x[S].split("=");if(1<L.length){var P=L[0];L=L[1];var W=P.split("_");v=2<=W.length&&"type"==W[1]?v+(P+"=")+L+"&":v+(P+"=redacted&")}}else v=null;else v=f;return"XMLHTTP REQ ("+o+") [attempt "+u+"]: "+r+"\n"+i+"\n"+v})}(s.j,s.u,s.A,s.m,s.X,s.s)}function T_(s){return!!s.g&&"GET"==s.u&&2!=s.K&&s.l.Ba}function lu(s,r,i){for(var u,o=!0;!s.I&&s.C<i.length;){if((u=N_(s,i))==h3){4==r&&(s.o=4,Nr(14),o=!1),Sc(s.j,s.m,null,"[Incomplete Response]");break}if(u==Ff){s.o=4,Nr(15),Sc(s.j,s.m,i,"[Invalid Chunk]"),o=!1;break}Sc(s.j,s.m,u,null),Uf(s,u)}T_(s)&&u!=h3&&u!=Ff&&(s.h.g="",s.C=0),4!=r||0!=i.length||s.h.h||(s.o=1,Nr(16),o=!1),s.i=s.i&&o,o?0<i.length&&!s.aa&&(s.aa=!0,(r=s.l).g==s&&r.$&&!r.L&&(r.h.info("Great, no buffering proxy detected. Bytes received: "+i.length),Mu(r),r.L=!0,Nr(11))):(Sc(s.j,s.m,i,"[Invalid Chunked Response]"),us(s),Na(s))}function N_(s,r){var i=s.C,o=r.indexOf("\n",i);return-1==o?h3:(i=Number(r.substring(i,o)),isNaN(i)?Ff:(o+=1)+i>r.length?h3:(r=r.substr(o,i),s.C=o+i,r))}function uu(s){s.Y=Date.now()+s.P,Ic(s,s.P)}function Ic(s,r){if(null!=s.B)throw Error("WatchDog timer not null");s.B=w2(m1(s.eb,s),r)}function hu(s){s.B&&(Et.clearTimeout(s.B),s.B=null)}function Na(s){0==s.l.G||s.I||id(s.l,s)}function us(s){hu(s);var r=s.L;r&&"function"==typeof r.na&&r.na(),s.L=null,Df(s.W),A_(s.V),s.g&&(r=s.g,s.g=null,r.abort(),r.na())}function Uf(s,r){try{var i=s.l;if(0!=i.G&&(i.g==s||jn(i.i,s)))if(i.I=s.N,!s.J&&jn(i.i,s)&&3==i.G){try{var o=i.Ca.g.parse(r)}catch(Ze){o=null}if(Array.isArray(o)&&3==o.length){var u=o;if(0==u[0])e:if(i.u)i.ta=u[1],0<i.ta-i.U&&37500>u[2]&&i.N&&0==i.A&&!i.v&&(i.v=w2(m1(i.ab,i),6e3));else{if(i.g){if(!(i.g.F+3e3<s.F))break e;y3(i),g3(i)}wu(i),Nr(18)}if(1>=rm(i.i)&&i.ka){try{i.ka()}catch(Ze){}i.ka=void 0}}else fo(i,11)}else if((s.J||i.g==s)&&y3(i),!gf(r))for(u=i.Ca.g.parse(r),r=0;r<u.length;r++){var f=u[r];if(i.U=f[0],f=f[1],2==i.G)if("c"==f[0]){i.J=f[1],i.la=f[2];var v=f[3];null!=v&&(i.ma=v,i.h.info("VER="+i.ma));var x=f[4];null!=x&&(i.za=x,i.h.info("SVER="+i.za));var S=f[5];null!=S&&"number"==typeof S&&0<S&&(i.K=o=1.5*S,i.h.info("backChannelRequestTimeoutMs_="+o)),o=i;var L=s.g;if(L){var P=L.g?L.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(P){var W=o.i;!W.g&&(cr(P,"spdy")||cr(P,"quic")||cr(P,"h2"))&&(W.j=W.l,W.g=new Set,W.h&&(mu(W,W.h),W.h=null))}if(o.D){var he=L.g?L.g.getResponseHeader("X-HTTP-Session-Id"):null;he&&(o.sa=he,wn(o.F,o.D,he))}}i.G=3,i.j&&i.j.xa(),i.$&&(i.O=Date.now()-s.F,i.h.info("Handshake RTT: "+i.O+"ms"));var fe=s;if((o=i).oa=pm(o,o.H?o.la:null,o.W),fe.J){im(o.i,fe);var Ee=fe,$e=o.K;$e&&Ee.setTimeout($e),Ee.B&&(hu(Ee),uu(Ee)),o.g=fe}else bu(o);0<i.l.length&&xu(i)}else"stop"!=f[0]&&"close"!=f[0]||fo(i,7);else 3==i.G&&("stop"==f[0]||"close"==f[0]?"stop"==f[0]?fo(i,7):ed(i):"noop"!=f[0]&&i.j&&i.j.wa(f),i.A=0)}a3(4)}catch(Ze){}}function f3(s,r){if(s.forEach&&"function"==typeof s.forEach)s.forEach(r,void 0);else if(pf(s)||"string"==typeof s)mf(s,r,void 0);else{if(s.T&&"function"==typeof s.T)var i=s.T();else if(s.R&&"function"==typeof s.R)i=void 0;else if(pf(s)||"string"==typeof s){i=[];for(var o=s.length,u=0;u<o;u++)i.push(u)}else for(u in i=[],o=0,s)i[o++]=u;u=(o=function(s){if(s.R&&"function"==typeof s.R)return s.R();if("string"==typeof s)return s.split("");if(pf(s)){for(var r=[],i=s.length,o=0;o<i;o++)r.push(s[o]);return r}for(o in r=[],i=0,s)r[i++]=s[o];return r}(s)).length;for(var f=0;f<u;f++)r.call(void 0,o[f],i&&i[f],s)}}function za(s,r){this.h={},this.g=[],this.i=0;var i=arguments.length;if(1<i){if(i%2)throw Error("Uneven number of arguments");for(var o=0;o<i;o+=2)this.set(arguments[o],arguments[o+1])}else if(s)if(s instanceof za)for(i=s.T(),o=0;o<i.length;o++)this.set(i[o],s.get(i[o]));else for(o in s)this.set(o,s[o])}function Kp(s){if(s.i!=s.g.length){for(var r=0,i=0;r<s.g.length;){var o=s.g[r];La(s.h,o)&&(s.g[i++]=o),r++}s.g.length=i}if(s.i!=s.g.length){var u={};for(i=r=0;r<s.g.length;)La(u,o=s.g[r])||(s.g[i++]=o,u[o]=1),r++;s.g.length=i}}function La(s,r){return Object.prototype.hasOwnProperty.call(s,r)}(nt=u3.prototype).setTimeout=function(s){this.P=s},nt.gb=function(s){s=s.target;var r=this.L;r&&3==ds(s)?r.l():this.Ia(s)},nt.Ia=function(s){try{if(s==this.g)e:{var r=ds(this.g),i=this.g.Da(),o=this.g.ba();if(!(3>r)&&(3!=r||e3||this.g&&(this.h.h||this.g.ga()||hm(this.g)))){this.I||4!=r||7==i||a3(8==i||0>=o?3:2),hu(this);var u=this.g.ba();this.N=u;t:if(T_(this)){var f=hm(this.g);s="";var v=f.length,x=4==ds(this.g);if(!this.h.i){if("undefined"==typeof TextDecoder){us(this),Na(this);var S="";break t}this.h.i=new Et.TextDecoder}for(i=0;i<v;i++)this.h.h=!0,s+=this.h.i.decode(f[i],{stream:x&&i==v-1});f.splice(0,v),this.h.g+=s,this.C=0,S=this.h.g}else S=this.g.ga();if(this.i=200==u,function(s,r,i,o,u,f,v){s.info(function(){return"XMLHTTP RESP ("+o+") [ attempt "+u+"]: "+r+"\n"+i+"\n"+f+" "+v})}(this.j,this.u,this.A,this.m,this.X,r,u),this.i){if(this.$&&!this.J){t:{if(this.g){var L,P=this.g;if((L=P.g?P.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!gf(L)){var W=L;break t}}W=null}if(!(u=W)){this.i=!1,this.o=3,Nr(12),us(this),Na(this);break e}Sc(this.j,this.m,u,"Initial handshake response via X-HTTP-Initial-Response"),this.J=!0,Uf(this,u)}this.U?(lu(this,r,S),e3&&this.i&&3==r&&(E_(this.V,this.W,"tick",this.fb),this.W.start())):(Sc(this.j,this.m,S,null),Uf(this,S)),4==r&&us(this),this.i&&!this.I&&(4==r?id(this.l,this):(this.i=!1,uu(this)))}else 400==u&&0<S.indexOf("Unknown SID")?(this.o=3,Nr(12)):(this.o=0,Nr(13)),us(this),Na(this)}}}catch(he){}},nt.fb=function(){if(this.g){var s=ds(this.g),r=this.g.ga();this.C<r.length&&(hu(this),lu(this,s,r),this.i&&4!=s&&uu(this))}},nt.cancel=function(){this.I=!0,us(this)},nt.eb=function(){this.B=null;var s=Date.now();0<=s-this.Y?(function(s,r){s.info(function(){return"TIMEOUT: "+r})}(this.j,this.A),2!=this.K&&(a3(3),Nr(17)),us(this),this.o=2,Na(this)):Ic(this,this.Y-s)},(nt=za.prototype).R=function(){Kp(this);for(var s=[],r=0;r<this.g.length;r++)s.push(this.h[this.g[r]]);return s},nt.T=function(){return Kp(this),this.g.concat()},nt.get=function(s,r){return La(this.h,s)?this.h[s]:r},nt.set=function(s,r){La(this.h,s)||(this.i++,this.g.push(s)),this.h[s]=r},nt.forEach=function(s,r){for(var i=this.T(),o=0;o<i.length;o++){var u=i[o],f=this.get(u);s.call(r,f,u,this)}};var fu=/^(?:([^:/?#.]+):)?(?:\/\/(?:([^\\/?#]*)@)?([^\\/?#]*?)(?::([0-9]+))?(?=[\\/?#]|$))?([^?#]+)?(?:\?([^#]*))?(?:#([\s\S]*))?$/;function Va(s,r){if(this.i=this.s=this.j="",this.m=null,this.o=this.l="",this.g=!1,s instanceof Va){this.g=void 0!==r?r:s.g,Dc(this,s.j),this.s=s.s,d3(this,s.i),Tc(this,s.m),this.l=s.l,r=s.h;var i=new zc;i.i=r.i,r.g&&(i.g=new za(r.g),i.h=r.h),du(this,i),this.o=s.o}else s&&(i=String(s).match(fu))?(this.g=!!r,Dc(this,i[1]||"",!0),this.s=Ra(i[2]||""),d3(this,i[3]||"",!0),Tc(this,i[4]),this.l=Ra(i[5]||"",!0),du(this,i[6]||"",!0),this.o=Ra(i[7]||"")):(this.g=!!r,this.h=new zc(null,this.g))}function M2(s){return new Va(s)}function Dc(s,r,i){s.j=i?Ra(r,!0):r,s.j&&(s.j=s.j.replace(/:$/,""))}function d3(s,r,i){s.i=i?Ra(r,!0):r}function Tc(s,r){if(r){if(r=Number(r),isNaN(r)||0>r)throw Error("Bad port number "+r);s.m=r}else s.m=null}function du(s,r,i){r instanceof zc?(s.h=r,function(s,r){r&&!s.j&&(hs(s),s.i=null,s.g.forEach(function(i,o){var u=o.toLowerCase();o!=u&&(Wf(this,o),qf(this,u,i))},s)),s.j=r}(s.h,s.g)):(i||(r=Nc(r,Gf)),s.h=new zc(r,s.g))}function wn(s,r,i){s.h.set(r,i)}function pu(s){return wn(s,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),s}function Ra(s,r){return s?r?decodeURI(s.replace(/%25/g,"%2525")):decodeURIComponent(s):""}function Nc(s,r,i){return"string"==typeof s?(s=encodeURI(s).replace(r,z_),i&&(s=s.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),s):null}function z_(s){return"%"+((s=s.charCodeAt(0))>>4&15).toString(16)+(15&s).toString(16)}Va.prototype.toString=function(){var s=[],r=this.j;r&&s.push(Nc(r,$f,!0),":");var i=this.i;return(i||"file"==r)&&(s.push("//"),(r=this.s)&&s.push(Nc(r,$f,!0),"@"),s.push(encodeURIComponent(String(i)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),null!=(i=this.m)&&s.push(":",String(i))),(i=this.l)&&(this.i&&"/"!=i.charAt(0)&&s.push("/"),s.push(Nc(i,"/"==i.charAt(0)?Xp:Jp,!0))),(i=this.h.toString())&&s.push("?",i),(i=this.o)&&s.push("#",Nc(i,em)),s.join("")};var $f=/[#\/\?@]/g,Jp=/[#\?:]/g,Xp=/[#\?]/g,Gf=/[#\?@]/g,em=/#/g;function zc(s,r){this.h=this.g=null,this.i=s||null,this.j=!!r}function hs(s){s.g||(s.g=new za,s.h=0,s.i&&function(s,r){if(s){s=s.split("&");for(var i=0;i<s.length;i++){var o=s[i].indexOf("="),u=null;if(0<=o){var f=s[i].substring(0,o);u=s[i].substring(o+1)}else f=s[i];r(f,u?decodeURIComponent(u.replace(/\+/g," ")):"")}}}(s.i,function(r,i){s.add(decodeURIComponent(r.replace(/\+/g," ")),i)}))}function Wf(s,r){hs(s),r=ka(s,r),La(s.g.h,r)&&(s.i=null,s.h-=s.g.get(r).length,La((s=s.g).h,r)&&(delete s.h[r],s.i--,s.g.length>2*s.i&&Kp(s)))}function Zf(s,r){return hs(s),r=ka(s,r),La(s.g.h,r)}function qf(s,r,i){Wf(s,r),0<i.length&&(s.i=null,s.g.set(ka(s,r),Hp(i)),s.h+=i.length)}function ka(s,r){return r=String(r),s.j&&(r=r.toLowerCase()),r}(nt=zc.prototype).add=function(s,r){hs(this),this.i=null,s=ka(this,s);var i=this.g.get(s);return i||this.g.set(s,i=[]),i.push(r),this.h+=1,this},nt.forEach=function(s,r){hs(this),this.g.forEach(function(i,o){mf(i,function(u){s.call(r,u,o,this)},this)},this)},nt.T=function(){hs(this);for(var s=this.g.R(),r=this.g.T(),i=[],o=0;o<r.length;o++)for(var u=s[o],f=0;f<u.length;f++)i.push(r[o]);return i},nt.R=function(s){hs(this);var r=[];if("string"==typeof s)Zf(this,s)&&(r=Pp(r,this.g.get(ka(this,s))));else{s=this.g.R();for(var i=0;i<s.length;i++)r=Pp(r,s[i])}return r},nt.set=function(s,r){return hs(this),this.i=null,Zf(this,s=ka(this,s))&&(this.h-=this.g.get(s).length),this.g.set(s,[r]),this.h+=1,this},nt.get=function(s,r){return s&&0<(s=this.R(s)).length?String(s[0]):r},nt.toString=function(){if(this.i)return this.i;if(!this.g)return"";for(var s=[],r=this.g.T(),i=0;i<r.length;i++){var o=r[i],u=encodeURIComponent(String(o));o=this.R(o);for(var f=0;f<o.length;f++){var v=u;""!==o[f]&&(v+="="+encodeURIComponent(String(o[f]))),s.push(v)}}return this.i=s.join("&")};var Zb=function(r,i){this.h=r,this.g=i};function nm(s){this.l=s||L_,s=Et.PerformanceNavigationTiming?0<(s=Et.performance.getEntriesByType("navigation")).length&&("hq"==s[0].nextHopProtocol||"h2"==s[0].nextHopProtocol):!!(Et.g&&Et.g.Ea&&Et.g.Ea()&&Et.g.Ea().Zb),this.j=s?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}var L_=10;function Kf(s){return!!s.h||!!s.g&&s.g.size>=s.j}function rm(s){return s.h?1:s.g?s.g.size:0}function jn(s,r){return s.h?s.h==r:!!s.g&&s.g.has(r)}function mu(s,r){s.g?s.g.add(r):s.h=r}function im(s,r){s.h&&s.h==r?s.h=null:s.g&&s.g.has(r)&&s.g.delete(r)}function sm(s){var r,i;if(null!=s.h)return s.i.concat(s.h.D);if(null!=s.g&&0!==s.g.size){var o=s.i;try{for(var u=Lp(s.g.values()),f=u.next();!f.done;f=u.next())o=o.concat(f.value.D)}catch(x){r={error:x}}finally{try{f&&!f.done&&(i=u.return)&&i.call(u)}finally{if(r)throw r.error}}return o}return Hp(s.i)}function gu(){}function V_(){this.g=new gu}function om(s,r,i){var o=i||"";try{f3(s,function(u,f){var v=u;Y6(u)&&(v=tu(u)),r.push(o+f+"="+encodeURIComponent(v))})}catch(u){throw r.push(o+"type="+encodeURIComponent("_badmap")),u}}function fs(s,r,i,o,u){try{r.onload=null,r.onerror=null,r.onabort=null,r.ontimeout=null,u(o)}catch(f){}}function p3(s){this.l=s.$b||null,this.j=s.ib||!1}function vu(s,r){s1.call(this),this.D=s,this.u=r,this.m=void 0,this.readyState=yu,this.status=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.v=new Headers,this.h=null,this.C="GET",this.B="",this.g=!1,this.A=this.j=this.l=null}nm.prototype.cancel=function(){var s,r;if(this.i=sm(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&0!==this.g.size){try{for(var i=Lp(this.g.values()),o=i.next();!o.done;o=i.next())o.value.cancel()}catch(f){s={error:f}}finally{try{o&&!o.done&&(r=i.return)&&r.call(i)}finally{if(s)throw s.error}}this.g.clear()}},gu.prototype.stringify=function(s){return Et.JSON.stringify(s,void 0)},gu.prototype.parse=function(s){return Et.JSON.parse(s,void 0)},N1(p3,kf),p3.prototype.g=function(){return new vu(this.l,this.j)},p3.prototype.i=function(s){return function(){return s}}({}),N1(vu,s1);var yu=0;function cm(s){s.j.read().then(s.Sa.bind(s)).catch(s.ha.bind(s))}function Lc(s){s.readyState=4,s.l=null,s.j=null,s.A=null,_u(s)}function _u(s){s.onreadystatechange&&s.onreadystatechange.call(s)}(nt=vu.prototype).open=function(s,r){if(this.readyState!=yu)throw this.abort(),Error("Error reopening a connection");this.C=s,this.B=r,this.readyState=1,_u(this)},nt.send=function(s){if(1!=this.readyState)throw this.abort(),Error("need to call open() first. ");this.g=!0;var r={headers:this.v,method:this.C,credentials:this.m,cache:void 0};s&&(r.body=s),(this.D||Et).fetch(new Request(this.B,r)).then(this.Va.bind(this),this.ha.bind(this))},nt.abort=function(){this.response=this.responseText="",this.v=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted."),1<=this.readyState&&this.g&&4!=this.readyState&&(this.g=!1,Lc(this)),this.readyState=yu},nt.Va=function(s){if(this.g&&(this.l=s,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=s.headers,this.readyState=2,_u(this)),this.g&&(this.readyState=3,_u(this),this.g)))if("arraybuffer"===this.responseType)s.arrayBuffer().then(this.Ta.bind(this),this.ha.bind(this));else if(void 0!==Et.ReadableStream&&"body"in s){if(this.j=s.body.getReader(),this.u){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.A=new TextDecoder;cm(this)}else s.text().then(this.Ua.bind(this),this.ha.bind(this))},nt.Sa=function(s){if(this.g){if(this.u&&s.value)this.response.push(s.value);else if(!this.u){var r=s.value?s.value:new Uint8Array(0);(r=this.A.decode(r,{stream:!s.done}))&&(this.response=this.responseText+=r)}s.done?Lc(this):_u(this),3==this.readyState&&cm(this)}},nt.Ua=function(s){this.g&&(this.response=this.responseText=s,Lc(this))},nt.Ta=function(s){this.g&&(this.response=s,Lc(this))},nt.ha=function(){this.g&&Lc(this)},nt.setRequestHeader=function(s,r){this.v.append(s,r)},nt.getResponseHeader=function(s){return this.h&&this.h.get(s.toLowerCase())||""},nt.getAllResponseHeaders=function(){if(!this.h)return"";for(var s=[],r=this.h.entries(),i=r.next();!i.done;)s.push((i=i.value)[0]+": "+i[1]),i=r.next();return s.join("\r\n")},Object.defineProperty(vu.prototype,"withCredentials",{get:function(){return"include"===this.m},set:function(s){this.m=s?"include":"same-origin"}});var lm=Et.JSON.parse;function Fn(s){s1.call(this),this.headers=new za,this.u=s||null,this.h=!1,this.C=this.g=null,this.H="",this.m=0,this.j="",this.l=this.F=this.v=this.D=!1,this.B=0,this.A=null,this.J=hi,this.K=this.L=!1}N1(Fn,s1);var hi="",R_=/^https?$/i,k_=["POST","PUT"];function Hi(s){return"content-type"==s.toLowerCase()}function fi(s,r){s.h=!1,s.g&&(s.l=!0,s.g.abort(),s.l=!1),s.j=r,s.m=5,Yf(s),Cu(s)}function Yf(s){s.D||(s.D=!0,g1(s,"complete"),g1(s,"error"))}function Qf(s){if(s.h&&void 0!==G8&&(!s.C[1]||4!=ds(s)||2!=s.ba()))if(s.v&&4==ds(s))Tf(s.Fa,0,s);else if(g1(s,"readystatechange"),4==ds(s)){s.h=!1;try{var o,r=s.ba();e:switch(r){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var i=!0;break e;default:i=!1}if(!(o=i)){var u;if(u=0===r){var f=String(s.H).match(fu)[1]||null;if(!f&&Et.self&&Et.self.location){var v=Et.self.location.protocol;f=v.substr(0,v.length-1)}u=!R_.test(f?f.toLowerCase():"")}o=u}if(o)g1(s,"complete"),g1(s,"success");else{s.m=6;try{var x=2<ds(s)?s.g.statusText:""}catch(S){x=""}s.j=x+" ["+s.ba()+"]",Yf(s)}}finally{Cu(s)}}}function Cu(s,r){if(s.g){um(s);var i=s.g,o=s.C[0]?K6:null;s.g=null,s.C=null,r||g1(s,"ready");try{i.onreadystatechange=o}catch(u){}}}function um(s){s.g&&s.K&&(s.g.ontimeout=null),s.A&&(Et.clearTimeout(s.A),s.A=null)}function ds(s){return s.g?s.g.readyState:0}function hm(s){try{if(!s.g)return null;if("response"in s.g)return s.g.response;switch(s.J){case hi:case"text":return s.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in s.g)return s.g.mozResponseArrayBuffer}return null}catch(r){return null}}function Oa(s,r,i){e:{for(o in i){var o=!1;break e}o=!0}o||(i=function(s){var r="";return Fp(s,function(i,o){r+=o,r+=":",r+=i,r+="\r\n"}),r}(i),"string"==typeof s?null!=i&&encodeURIComponent(String(i)):wn(s,r,i))}function m3(s,r,i){return i&&i.internalChannelParams&&i.internalChannelParams[s]||r}function Xf(s){this.za=0,this.l=[],this.h=new ru,this.la=this.oa=this.F=this.W=this.g=this.sa=this.D=this.aa=this.o=this.P=this.s=null,this.Za=this.V=0,this.Xa=m3("failFast",!1,s),this.N=this.v=this.u=this.m=this.j=null,this.X=!0,this.I=this.ta=this.U=-1,this.Y=this.A=this.C=0,this.Pa=m3("baseRetryDelayMs",5e3,s),this.$a=m3("retryDelaySeedMs",1e4,s),this.Ya=m3("forwardChannelMaxRetries",2,s),this.ra=m3("forwardChannelRequestTimeoutMs",2e4,s),this.qa=s&&s.xmlHttpFactory||void 0,this.Ba=s&&s.Yb||!1,this.K=void 0,this.H=s&&s.supportsCrossDomainXhr||!1,this.J="",this.i=new nm(s&&s.concurrentRequestLimit),this.Ca=new V_,this.ja=s&&s.fastHandshake||!1,this.Ra=s&&s.Wb||!1,s&&s.Aa&&this.h.Aa(),s&&s.forceLongPolling&&(this.X=!1),this.$=!this.ja&&this.X&&s&&s.detectBufferingProxy||!1,this.ka=void 0,this.O=0,this.L=!1,this.B=null,this.Wa=!s||!1!==s.Xb}function ed(s){if(td(s),3==s.G){var r=s.V++,i=M2(s.F);wn(i,"SID",s.J),wn(i,"RID",r),wn(i,"TYPE","terminate"),Pa(s,i),(r=new u3(s,s.h,r,void 0)).K=2,r.v=pu(M2(i)),i=!1,Et.navigator&&Et.navigator.sendBeacon&&(i=Et.navigator.sendBeacon(r.v.toString(),"")),!i&&Et.Image&&((new Image).src=r.v,i=!0),i||(r.g=mm(r.l,null),r.g.ea(r.v)),r.F=Date.now(),uu(r)}dm(s)}function g3(s){s.g&&(Mu(s),s.g.cancel(),s.g=null)}function td(s){g3(s),s.u&&(Et.clearTimeout(s.u),s.u=null),y3(s),s.i.cancel(),s.m&&("number"==typeof s.m&&Et.clearTimeout(s.m),s.m=null)}function Vc(s,r){s.l.push(new Zb(s.Za++,r)),3==s.G&&xu(s)}function xu(s){Kf(s.i)||s.m||(s.m=!0,nu(s.Ha,s),s.C=0)}function nd(s,r){var i;i=r?r.m:s.V++;var o=M2(s.F);wn(o,"SID",s.J),wn(o,"RID",i),wn(o,"AID",s.U),Pa(s,o),s.o&&s.s&&Oa(o,s.o,s.s),i=new u3(s,s.h,i,s.C+1),null===s.o&&(i.H=s.s),r&&(s.l=r.D.concat(s.l)),r=v3(s,i,1e3),i.setTimeout(Math.round(.5*s.ra)+Math.round(.5*s.ra*Math.random())),mu(s.i,i),au(i,o,r)}function Pa(s,r){s.j&&f3({},function(i,o){wn(r,o,i)})}function v3(s,r,i){i=Math.min(s.l.length,i);var o=s.j?m1(s.j.Oa,s.j,s):null;e:for(var u=s.l,f=-1;;){var v=["count="+i];-1==f?0<i?v.push("ofs="+(f=u[0].h)):f=0:v.push("ofs="+f);for(var x=!0,S=0;S<i;S++){var L=u[S].h,P=u[S].g;if(0>(L-=f))f=Math.max(0,u[S].h-100),x=!1;else try{om(P,v,"req"+L+"_")}catch(W){o&&o(P)}}if(x){o=v.join("&");break e}}return s=s.l.splice(0,i),r.D=s,o}function bu(s){s.g||s.u||(s.Y=1,nu(s.Ga,s),s.A=0)}function wu(s){return!(s.g||s.u||3<=s.A||(s.Y++,s.u=w2(m1(s.Ga,s),sd(s,s.A)),s.A++,0))}function Mu(s){null!=s.B&&(Et.clearTimeout(s.B),s.B=null)}function rd(s){s.g=new u3(s,s.h,"rpc",s.Y),null===s.o&&(s.g.H=s.s),s.g.O=0;var r=M2(s.oa);wn(r,"RID","rpc"),wn(r,"SID",s.J),wn(r,"CI",s.N?"0":"1"),wn(r,"AID",s.U),Pa(s,r),wn(r,"TYPE","xmlhttp"),s.o&&s.s&&Oa(r,s.o,s.s),s.K&&s.g.setTimeout(s.K);var i=s.g;s=s.la,i.K=1,i.v=pu(M2(r)),i.s=null,i.U=!0,cu(i,s)}function y3(s){null!=s.v&&(Et.clearTimeout(s.v),s.v=null)}function id(s,r){var i=null;if(s.g==r){y3(s),Mu(s),s.g=null;var o=2}else{if(!jn(s.i,r))return;i=r.D,im(s.i,r),o=1}if(s.I=r.N,0!=s.G)if(r.i)if(1==o){i=r.s?r.s.length:0,r=Date.now()-r.F;var u=s.C;g1(o=Lf(),new Wp(o,i,r,u)),xu(s)}else bu(s);else if(3==(u=r.o)||0==u&&0<s.I||!(1==o&&function(s,r){return!(rm(s.i)>=s.i.j-(s.m?1:0)||(s.m?(s.l=r.D.concat(s.l),0):1==s.G||2==s.G||s.C>=(s.Xa?0:s.Ya)||(s.m=w2(m1(s.Ha,s,r),sd(s,s.C)),s.C++,0)))}(s,r)||2==o&&wu(s)))switch(i&&0<i.length&&(r=s.i,r.i=r.i.concat(i)),u){case 1:fo(s,5);break;case 4:fo(s,10);break;case 3:fo(s,6);break;default:fo(s,2)}}function sd(s,r){var i=s.Pa+Math.floor(Math.random()*s.$a);return s.j||(i*=2),i*r}function fo(s,r){if(s.h.info("Error code "+r),2==r){var i=null;s.j&&(i=null);var o=m1(s.jb,s);i||(i=new Va("//www.google.com/images/cleardot.gif"),Et.location&&"http"==Et.location.protocol||Dc(i,"https"),pu(i)),function(s,r){var i=new ru;if(Et.Image){var o=new Image;o.onload=W8(fs,i,o,"TestLoadImage: loaded",!0,r),o.onerror=W8(fs,i,o,"TestLoadImage: error",!1,r),o.onabort=W8(fs,i,o,"TestLoadImage: abort",!1,r),o.ontimeout=W8(fs,i,o,"TestLoadImage: timeout",!1,r),Et.setTimeout(function(){o.ontimeout&&o.ontimeout()},1e4),o.src=s}else r(!1)}(i.toString(),o)}else Nr(2);s.G=0,s.j&&s.j.va(r),dm(s),td(s)}function dm(s){s.G=0,s.I=-1,s.j&&((0!=sm(s.i).length||0!=s.l.length)&&(s.i.i.length=0,Hp(s.l),s.l.length=0),s.j.ua())}function pm(s,r,i){var o=function(s){return s instanceof Va?M2(s):new Va(s,void 0)}(i);if(""!=o.i)r&&d3(o,r+"."+o.i),Tc(o,o.m);else{var u=Et.location;o=function(s,r,i,o){var u=new Va(null,void 0);return s&&Dc(u,s),r&&d3(u,r),i&&Tc(u,i),o&&(u.l=o),u}(u.protocol,r?r+"."+u.hostname:u.hostname,+u.port,i)}return s.aa&&Fp(s.aa,function(f,v){wn(o,v,f)}),i=s.sa,(r=s.D)&&i&&wn(o,r,i),wn(o,"VER",s.ma),Pa(s,o),o}function mm(s,r,i){if(r&&!s.H)throw Error("Can't create secondary domain capable XhrIo object.");return(r=new Fn(i&&s.Ba&&!s.qa?new p3({ib:!0}):s.qa)).L=s.H,r}function gm(){}function Eu(){if(X6&&!(10<=Number(Pi)))throw Error("Environmental error: no available transport.")}function Qr(s,r){s1.call(this),this.g=new Xf(r),this.l=s,this.h=r&&r.messageUrlParams||null,s=r&&r.messageHeaders||null,r&&r.clientProtocolHeaderRequired&&(s?s["X-Client-Protocol"]="webchannel":s={"X-Client-Protocol":"webchannel"}),this.g.s=s,s=r&&r.initMessageHeaders||null,r&&r.messageContentType&&(s?s["X-WebChannel-Content-Type"]=r.messageContentType:s={"X-WebChannel-Content-Type":r.messageContentType}),r&&r.ya&&(s?s["X-WebChannel-Client-Profile"]=r.ya:s={"X-WebChannel-Client-Profile":r.ya}),this.g.P=s,(s=r&&r.httpHeadersOverwriteParam)&&!gf(s)&&(this.g.o=s),this.A=r&&r.supportsCrossDomainXhr||!1,this.v=r&&r.sendRawJson||!1,(r=r&&r.httpSessionIdParam)&&!gf(r)&&(this.g.D=r,null!==(s=this.h)&&r in s&&r in(s=this.h)&&delete s[r]),this.j=new Rc(this)}function vm(s){su.call(this);var r=s.__sm__;if(r){e:{for(var i in r){s=i;break e}s=void 0}(this.i=s)&&(s=this.i,r=null!==r&&s in r?r[s]:void 0),this.data=r}else this.data=s}function ym(){Pf.call(this),this.status=1}function Rc(s){this.g=s}(nt=Fn.prototype).ea=function(s,r,i,o){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.H+"; newUri="+s);r=r?r.toUpperCase():"GET",this.H=s,this.j="",this.m=0,this.D=!1,this.h=!0,this.g=this.u?this.u.g():Hf.g(),this.C=function(s){return s.h||(s.h=s.i())}(this.u?this.u:Hf),this.g.onreadystatechange=m1(this.Fa,this);try{this.F=!0,this.g.open(r,String(s),!0),this.F=!1}catch(f){return void fi(this,f)}s=i||"";var u=new za(this.headers);o&&f3(o,function(f,v){u.set(v,f)}),o=function(s){e:{for(var r=Hi,i=s.length,o="string"==typeof s?s.split(""):s,u=0;u<i;u++)if(u in o&&r.call(void 0,o[u],u,s)){r=u;break e}r=-1}return 0>r?null:"string"==typeof s?s.charAt(r):s[r]}(u.T()),i=Et.FormData&&s instanceof Et.FormData,!(0<=h_(k_,r))||o||i||u.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8"),u.forEach(function(f,v){this.g.setRequestHeader(v,f)},this),this.J&&(this.g.responseType=this.J),"withCredentials"in this.g&&this.g.withCredentials!==this.L&&(this.g.withCredentials=this.L);try{um(this),0<this.B&&((this.K=function(s){return X6&&Q8()&&"number"==typeof s.timeout&&void 0!==s.ontimeout}(this.g))?(this.g.timeout=this.B,this.g.ontimeout=m1(this.pa,this)):this.A=Tf(this.pa,this.B,this)),this.v=!0,this.g.send(s),this.v=!1}catch(f){fi(this,f)}},nt.pa=function(){void 0!==G8&&this.g&&(this.j="Timed out after "+this.B+"ms, aborting",this.m=8,g1(this,"timeout"),this.abort(8))},nt.abort=function(s){this.g&&this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1,this.m=s||7,g1(this,"complete"),g1(this,"abort"),Cu(this))},nt.M=function(){this.g&&(this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1),Cu(this,!0)),Fn.Z.M.call(this)},nt.Fa=function(){this.s||(this.F||this.v||this.l?Qf(this):this.cb())},nt.cb=function(){Qf(this)},nt.ba=function(){try{return 2<ds(this)?this.g.status:-1}catch(s){return-1}},nt.ga=function(){try{return this.g?this.g.responseText:""}catch(s){return""}},nt.Qa=function(s){if(this.g){var r=this.g.responseText;return s&&0==r.indexOf(s)&&(r=r.substring(s.length)),lm(r)}},nt.Da=function(){return this.m},nt.La=function(){return"string"==typeof this.j?this.j:String(this.j)},(nt=Xf.prototype).ma=8,nt.G=1,nt.hb=function(s){try{this.h.info("Origin Trials invoked: "+s)}catch(r){}},nt.Ha=function(s){if(this.m)if(this.m=null,1==this.G){if(!s){this.V=Math.floor(1e5*Math.random()),s=this.V++;var r=new u3(this,this.h,s,void 0),i=this.s;if(this.P&&(i?vf(i=p_(i),this.P):i=this.P),null===this.o&&(r.H=i),this.ja)e:{for(var o=0,u=0;u<this.l.length;u++){var f=this.l[u];if(void 0===(f="__data__"in f.g&&"string"==typeof(f=f.g.__data__)?f.length:void 0))break;if(4096<(o+=f)){o=u;break e}if(4096===o||u===this.l.length-1){o=u+1;break e}}o=1e3}else o=1e3;o=v3(this,r,o),wn(u=M2(this.F),"RID",s),wn(u,"CVER",22),this.D&&wn(u,"X-HTTP-Session-Id",this.D),Pa(this,u),this.o&&i&&Oa(u,this.o,i),mu(this.i,r),this.Ra&&wn(u,"TYPE","init"),this.ja?(wn(u,"$req",o),wn(u,"SID","null"),r.$=!0,au(r,u,null)):au(r,u,o),this.G=2}}else 3==this.G&&(s?nd(this,s):0==this.l.length||Kf(this.i)||nd(this))},nt.Ga=function(){if(this.u=null,rd(this),this.$&&!(this.L||null==this.g||0>=this.O)){var s=2*this.O;this.h.info("BP detection timer enabled: "+s),this.B=w2(m1(this.bb,this),s)}},nt.bb=function(){this.B&&(this.B=null,this.h.info("BP detection timeout reached."),this.h.info("Buffering proxy detected and switch to long-polling!"),this.N=!1,this.L=!0,Nr(10),g3(this),rd(this))},nt.ab=function(){null!=this.v&&(this.v=null,g3(this),wu(this),Nr(19))},nt.jb=function(s){s?(this.h.info("Successfully pinged google.com"),Nr(2)):(this.h.info("Failed to ping google.com"),Nr(1))},(nt=gm.prototype).xa=function(){},nt.wa=function(){},nt.va=function(){},nt.ua=function(){},nt.Oa=function(){},Eu.prototype.g=function(s,r){return new Qr(s,r)},N1(Qr,s1),Qr.prototype.m=function(){this.g.j=this.j,this.A&&(this.g.H=!0);var s=this.g,r=this.l,i=this.h||void 0;s.Wa&&(s.h.info("Origin Trials enabled."),nu(m1(s.hb,s,r))),Nr(0),s.W=r,s.aa=i||{},s.N=s.X,s.F=pm(s,null,s.W),xu(s)},Qr.prototype.close=function(){ed(this.g)},Qr.prototype.u=function(s){if("string"==typeof s){var r={};r.__data__=s,Vc(this.g,r)}else this.v?((r={}).__data__=tu(s),Vc(this.g,r)):Vc(this.g,s)},Qr.prototype.M=function(){this.g.j=null,delete this.j,ed(this.g),delete this.g,Qr.Z.M.call(this)},N1(vm,su),N1(ym,Pf),N1(Rc,gm),Rc.prototype.xa=function(){g1(this.g,"a")},Rc.prototype.wa=function(s){g1(this.g,new vm(s))},Rc.prototype.va=function(s){g1(this.g,new ym(s))},Rc.prototype.ua=function(){g1(this.g,"b")},Eu.prototype.createWebChannel=Eu.prototype.g,Qr.prototype.send=Qr.prototype.u,Qr.prototype.open=Qr.prototype.m,Qr.prototype.close=Qr.prototype.close,iu.NO_ERROR=0,iu.TIMEOUT=8,iu.HTTP_ERROR=6,Rf.COMPLETE="complete",c3.EventType=l3,l3.OPEN="a",l3.CLOSE="b",l3.ERROR="c",l3.MESSAGE="d",s1.prototype.listen=s1.prototype.N,Fn.prototype.listenOnce=Fn.prototype.O,Fn.prototype.getLastError=Fn.prototype.La,Fn.prototype.getLastErrorCode=Fn.prototype.Da,Fn.prototype.getStatus=Fn.prototype.ba,Fn.prototype.getResponseJson=Fn.prototype.Qa,Fn.prototype.getResponseText=Fn.prototype.ga,Fn.prototype.send=Fn.prototype.ea;var Au=iu,xm=Rf,bm=Ta,od_PROXY=10,od_NOPROXY=11,wm=p3,_3=c3,Mm=Fn;class v1{constructor(r){this.uid=r}isAuthenticated(){return null!=this.uid}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(r){return r.uid===this.uid}}v1.UNAUTHENTICATED=new v1(null),v1.GOOGLE_CREDENTIALS=new v1("google-credentials-uid"),v1.FIRST_PARTY=new v1("first-party-uid"),v1.MOCK_USER=new v1("mock-user");let Ha="9.0.0";const ps=new ar.Yd("@firebase/firestore");function Su(){return ps.logLevel}function Ke(s,...r){if(ps.logLevel<=ar.in.DEBUG){const i=r.map(Iu);ps.debug(`Firestore (${Ha}): ${s}`,...i)}}function $n(s,...r){if(ps.logLevel<=ar.in.ERROR){const i=r.map(Iu);ps.error(`Firestore (${Ha}): ${s}`,...i)}}function Fa(s,...r){if(ps.logLevel<=ar.in.WARN){const i=r.map(Iu);ps.warn(`Firestore (${Ha}): ${s}`,...i)}}function Iu(s){if("string"==typeof s)return s;try{return JSON.stringify(s)}catch(i){return s}}function st(s="Unexpected state"){const r=`FIRESTORE (${Ha}) INTERNAL ASSERTION FAILED: `+s;throw $n(r),new Error(r)}function bt(s,r){s||st()}function Ye(s,r){return s}const Te={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class je extends Error{constructor(r,i){super(i),this.code=r,this.message=i,this.name="FirebaseError",this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}class z1{constructor(){this.promise=new Promise((r,i)=>{this.resolve=r,this.reject=i})}}class ad{constructor(r,i){this.user=i,this.type="OAuth",this.authHeaders={},this.authHeaders.Authorization=`Bearer ${r}`}}class Am{getToken(){return Promise.resolve(null)}invalidateToken(){}start(r,i){r.enqueueRetryable(()=>i(v1.UNAUTHENTICATED))}shutdown(){}}class qb{constructor(r){this.token=r,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(r,i){this.changeListener=i,r.enqueueRetryable(()=>i(this.token.user))}shutdown(){this.changeListener=null}}class mt{constructor(r){this.t=r,this.currentUser=v1.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(r,i){var o=this;let u=this.i;const f=S=>this.i!==u?(u=this.i,i(S)):Promise.resolve();let v=new z1;this.o=()=>{this.i++,this.currentUser=this.u(),v.resolve(),v=new z1,r.enqueueRetryable(()=>f(this.currentUser))};const x=S=>{r.enqueueRetryable((0,Ae.Z)(function*(){Ke("FirebaseCredentialsProvider","Auth detected"),o.auth=S,o.auth.addAuthTokenListener(o.o),yield v.promise,yield f(o.currentUser)}))};this.t.onInit(S=>x(S)),setTimeout(()=>{if(!this.auth){const S=this.t.getImmediate({optional:!0});S?x(S):(Ke("FirebaseCredentialsProvider","Auth not yet detected"),v.resolve(),v=new z1)}},0),r.enqueueRetryable((0,Ae.Z)(function*(){0===o.i&&(yield v.promise,yield f(o.currentUser))}))}getToken(){const r=this.i,i=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(i).then(o=>this.i!==r?(Ke("FirebaseCredentialsProvider","getToken aborted due to token change."),this.getToken()):o?(bt("string"==typeof o.accessToken),new ad(o.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.auth.removeAuthTokenListener(this.o)}u(){const r=this.auth&&this.auth.getUid();return bt(null===r||"string"==typeof r),new v1(r)}}class F_{constructor(r,i,o){this.h=r,this.l=i,this.m=o,this.type="FirstParty",this.user=v1.FIRST_PARTY}get authHeaders(){const r={"X-Goog-AuthUser":this.l},i=this.h.auth.getAuthHeaderValueForFirstParty([]);return i&&(r.Authorization=i),this.m&&(r["X-Goog-Iam-Authorization-Token"]=this.m),r}}class U_{constructor(r,i,o){this.h=r,this.l=i,this.m=o}getToken(){return Promise.resolve(new F_(this.h,this.l,this.m))}start(r,i){r.enqueueRetryable(()=>i(v1.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class Jr{constructor(r,i){this.previousValue=r,i&&(i.sequenceNumberHandler=o=>this.g(o),this.p=o=>i.writeSequenceNumber(o))}g(r){return this.previousValue=Math.max(r,this.previousValue),this.previousValue}next(){const r=++this.previousValue;return this.p&&this.p(r),r}}function Du(s){const r="undefined"!=typeof self&&(self.crypto||self.msCrypto),i=new Uint8Array(s);if(r&&"function"==typeof r.getRandomValues)r.getRandomValues(i);else for(let o=0;o<s;o++)i[o]=Math.floor(256*Math.random());return i}Jr.T=-1;class Sm{static I(){const r="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",i=Math.floor(256/r.length)*r.length;let o="";for(;o.length<20;){const u=Du(40);for(let f=0;f<u.length;++f)o.length<20&&u[f]<i&&(o+=r.charAt(u[f]%r.length))}return o}}function Vt(s,r){return s<r?-1:s>r?1:0}function ms(s,r,i){return s.length===r.length&&s.every((o,u)=>i(o,r[u]))}function Vn(s){return s+"\0"}class L1{constructor(r,i){if(this.seconds=r,this.nanoseconds=i,i<0)throw new je(Te.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+i);if(i>=1e9)throw new je(Te.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+i);if(r<-62135596800)throw new je(Te.INVALID_ARGUMENT,"Timestamp seconds out of range: "+r);if(r>=253402300800)throw new je(Te.INVALID_ARGUMENT,"Timestamp seconds out of range: "+r)}static now(){return L1.fromMillis(Date.now())}static fromDate(r){return L1.fromMillis(r.getTime())}static fromMillis(r){const i=Math.floor(r/1e3),o=Math.floor(1e6*(r-1e3*i));return new L1(i,o)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/1e6}_compareTo(r){return this.seconds===r.seconds?Vt(this.nanoseconds,r.nanoseconds):Vt(this.seconds,r.seconds)}isEqual(r){return r.seconds===this.seconds&&r.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){return String(this.seconds- -62135596800).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}class Dt{constructor(r){this.timestamp=r}static fromTimestamp(r){return new Dt(r)}static min(){return new Dt(new L1(0,0))}compareTo(r){return this.timestamp._compareTo(r.timestamp)}isEqual(r){return this.timestamp.isEqual(r.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}function Tu(s){let r=0;for(const i in s)Object.prototype.hasOwnProperty.call(s,i)&&r++;return r}function Ua(s,r){for(const i in s)Object.prototype.hasOwnProperty.call(s,i)&&r(i,s[i])}function cd(s){for(const r in s)if(Object.prototype.hasOwnProperty.call(s,r))return!1;return!0}class kc{constructor(r,i,o){void 0===i?i=0:i>r.length&&st(),void 0===o?o=r.length-i:o>r.length-i&&st(),this.segments=r,this.offset=i,this.len=o}get length(){return this.len}isEqual(r){return 0===kc.comparator(this,r)}child(r){const i=this.segments.slice(this.offset,this.limit());return r instanceof kc?r.forEach(o=>{i.push(o)}):i.push(r),this.construct(i)}limit(){return this.offset+this.length}popFirst(r){return this.construct(this.segments,this.offset+(r=void 0===r?1:r),this.length-r)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(r){return this.segments[this.offset+r]}isEmpty(){return 0===this.length}isPrefixOf(r){if(r.length<this.length)return!1;for(let i=0;i<this.length;i++)if(this.get(i)!==r.get(i))return!1;return!0}isImmediateParentOf(r){if(this.length+1!==r.length)return!1;for(let i=0;i<this.length;i++)if(this.get(i)!==r.get(i))return!1;return!0}forEach(r){for(let i=this.offset,o=this.limit();i<o;i++)r(this.segments[i])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(r,i){const o=Math.min(r.length,i.length);for(let u=0;u<o;u++){const f=r.get(u),v=i.get(u);if(f<v)return-1;if(f>v)return 1}return r.length<i.length?-1:r.length>i.length?1:0}}class Gt extends kc{construct(r,i,o){return new Gt(r,i,o)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}static fromString(...r){const i=[];for(const o of r){if(o.indexOf("//")>=0)throw new je(Te.INVALID_ARGUMENT,`Invalid segment (${o}). Paths must not contain // in them.`);i.push(...o.split("/").filter(u=>u.length>0))}return new Gt(i)}static emptyPath(){return new Gt([])}}const Im=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class V1 extends kc{construct(r,i,o){return new V1(r,i,o)}static isValidIdentifier(r){return Im.test(r)}canonicalString(){return this.toArray().map(r=>(r=r.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),V1.isValidIdentifier(r)||(r="`"+r+"`"),r)).join(".")}toString(){return this.canonicalString()}isKeyField(){return 1===this.length&&"__name__"===this.get(0)}static keyField(){return new V1(["__name__"])}static fromServerFormat(r){const i=[];let o="",u=0;const f=()=>{if(0===o.length)throw new je(Te.INVALID_ARGUMENT,`Invalid field path (${r}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);i.push(o),o=""};let v=!1;for(;u<r.length;){const x=r[u];if("\\"===x){if(u+1===r.length)throw new je(Te.INVALID_ARGUMENT,"Path has trailing escape character: "+r);const S=r[u+1];if("\\"!==S&&"."!==S&&"`"!==S)throw new je(Te.INVALID_ARGUMENT,"Path has invalid escape sequence: "+r);o+=S,u+=2}else"`"===x?(v=!v,u++):"."!==x||v?(o+=x,u++):(f(),u++)}if(f(),v)throw new je(Te.INVALID_ARGUMENT,"Unterminated ` in path: "+r);return new V1(i)}static emptyPath(){return new V1([])}}class Oc{constructor(r){this.fields=r,r.sort(V1.comparator)}covers(r){for(const i of this.fields)if(i.isPrefixOf(r))return!0;return!1}isEqual(r){return ms(this.fields,r.fields,(i,o)=>i.isEqual(o))}}class Un{constructor(r){this.binaryString=r}static fromBase64String(r){const i=atob(r);return new Un(i)}static fromUint8Array(r){const i=function(o){let u="";for(let f=0;f<o.length;++f)u+=String.fromCharCode(o[f]);return u}(r);return new Un(i)}toBase64(){return btoa(this.binaryString)}toUint8Array(){return function(r){const i=new Uint8Array(r.length);for(let o=0;o<r.length;o++)i[o]=r.charCodeAt(o);return i}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(r){return Vt(this.binaryString,r.binaryString)}isEqual(r){return this.binaryString===r.binaryString}}Un.EMPTY_BYTE_STRING=new Un("");const j_=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function po(s){if(bt(!!s),"string"==typeof s){let r=0;const i=j_.exec(s);if(bt(!!i),i[1]){let u=i[1];u=(u+"000000000").substr(0,9),r=Number(u)}const o=new Date(s);return{seconds:Math.floor(o.getTime()/1e3),nanos:r}}return{seconds:Qn(s.seconds),nanos:Qn(s.nanos)}}function Qn(s){return"number"==typeof s?s:"string"==typeof s?Number(s):0}function gs(s){return"string"==typeof s?Un.fromBase64String(s):Un.fromUint8Array(s)}function Nu(s){var r,i;return"server_timestamp"===(null===(i=((null===(r=null==s?void 0:s.mapValue)||void 0===r?void 0:r.fields)||{}).__type__)||void 0===i?void 0:i.stringValue)}function ld(s){const r=s.mapValue.fields.__previous_value__;return Nu(r)?ld(r):r}function Pc(s){const r=po(s.mapValue.fields.__local_write_time__.timestampValue);return new L1(r.seconds,r.nanos)}function Ba(s){return null==s}function mo(s){return 0===s&&1/s==-1/0}function Hc(s){return"number"==typeof s&&Number.isInteger(s)&&!mo(s)&&s<=Number.MAX_SAFE_INTEGER&&s>=Number.MIN_SAFE_INTEGER}class lt{constructor(r){this.path=r}static fromPath(r){return new lt(Gt.fromString(r))}static fromName(r){return new lt(Gt.fromString(r).popFirst(5))}hasCollectionId(r){return this.path.length>=2&&this.path.get(this.path.length-2)===r}isEqual(r){return null!==r&&0===Gt.comparator(this.path,r.path)}toString(){return this.path.toString()}static comparator(r,i){return Gt.comparator(r.path,i.path)}static isDocumentKey(r){return r.length%2==0}static fromSegments(r){return new lt(new Gt(r.slice()))}}function ja(s){return"nullValue"in s?0:"booleanValue"in s?1:"integerValue"in s||"doubleValue"in s?2:"timestampValue"in s?3:"stringValue"in s?5:"bytesValue"in s?6:"referenceValue"in s?7:"geoPointValue"in s?8:"arrayValue"in s?9:"mapValue"in s?Nu(s)?4:10:st()}function A2(s,r){const i=ja(s);if(i!==ja(r))return!1;switch(i){case 0:return!0;case 1:return s.booleanValue===r.booleanValue;case 4:return Pc(s).isEqual(Pc(r));case 3:return function(o,u){if("string"==typeof o.timestampValue&&"string"==typeof u.timestampValue&&o.timestampValue.length===u.timestampValue.length)return o.timestampValue===u.timestampValue;const f=po(o.timestampValue),v=po(u.timestampValue);return f.seconds===v.seconds&&f.nanos===v.nanos}(s,r);case 5:return s.stringValue===r.stringValue;case 6:return u=r,gs(s.bytesValue).isEqual(gs(u.bytesValue));case 7:return s.referenceValue===r.referenceValue;case 8:return function(o,u){return Qn(o.geoPointValue.latitude)===Qn(u.geoPointValue.latitude)&&Qn(o.geoPointValue.longitude)===Qn(u.geoPointValue.longitude)}(s,r);case 2:return function(o,u){if("integerValue"in o&&"integerValue"in u)return Qn(o.integerValue)===Qn(u.integerValue);if("doubleValue"in o&&"doubleValue"in u){const f=Qn(o.doubleValue),v=Qn(u.doubleValue);return f===v?mo(f)===mo(v):isNaN(f)&&isNaN(v)}return!1}(s,r);case 9:return ms(s.arrayValue.values||[],r.arrayValue.values||[],A2);case 10:return function(o,u){const f=o.mapValue.fields||{},v=u.mapValue.fields||{};if(Tu(f)!==Tu(v))return!1;for(const x in f)if(f.hasOwnProperty(x)&&(void 0===v[x]||!A2(f[x],v[x])))return!1;return!0}(s,r);default:return st()}var u}function Fc(s,r){return void 0!==(s.values||[]).find(i=>A2(i,r))}function $a(s,r){const i=ja(s),o=ja(r);if(i!==o)return Vt(i,o);switch(i){case 0:return 0;case 1:return Vt(s.booleanValue,r.booleanValue);case 2:return function(u,f){const v=Qn(u.integerValue||u.doubleValue),x=Qn(f.integerValue||f.doubleValue);return v<x?-1:v>x?1:v===x?0:isNaN(v)?isNaN(x)?0:-1:1}(s,r);case 3:return ud(s.timestampValue,r.timestampValue);case 4:return ud(Pc(s),Pc(r));case 5:return Vt(s.stringValue,r.stringValue);case 6:return function(u,f){const v=gs(u),x=gs(f);return v.compareTo(x)}(s.bytesValue,r.bytesValue);case 7:return function(u,f){const v=u.split("/"),x=f.split("/");for(let S=0;S<v.length&&S<x.length;S++){const L=Vt(v[S],x[S]);if(0!==L)return L}return Vt(v.length,x.length)}(s.referenceValue,r.referenceValue);case 8:return function(u,f){const v=Vt(Qn(u.latitude),Qn(f.latitude));return 0!==v?v:Vt(Qn(u.longitude),Qn(f.longitude))}(s.geoPointValue,r.geoPointValue);case 9:return function(u,f){const v=u.values||[],x=f.values||[];for(let S=0;S<v.length&&S<x.length;++S){const L=$a(v[S],x[S]);if(L)return L}return Vt(v.length,x.length)}(s.arrayValue,r.arrayValue);case 10:return function(u,f){const v=u.fields||{},x=Object.keys(v),S=f.fields||{},L=Object.keys(S);x.sort(),L.sort();for(let P=0;P<x.length&&P<L.length;++P){const W=Vt(x[P],L[P]);if(0!==W)return W;const he=$a(v[x[P]],S[L[P]]);if(0!==he)return he}return Vt(x.length,L.length)}(s.mapValue,r.mapValue);default:throw st()}}function ud(s,r){if("string"==typeof s&&"string"==typeof r&&s.length===r.length)return Vt(s,r);const i=po(s),o=po(r),u=Vt(i.seconds,o.seconds);return 0!==u?u:Vt(i.nanos,o.nanos)}function hd(s){return zu(s)}function zu(s){return"nullValue"in s?"null":"booleanValue"in s?""+s.booleanValue:"integerValue"in s?""+s.integerValue:"doubleValue"in s?""+s.doubleValue:"timestampValue"in s?function(o){const u=po(o);return`time(${u.seconds},${u.nanos})`}(s.timestampValue):"stringValue"in s?s.stringValue:"bytesValue"in s?gs(s.bytesValue).toBase64():"referenceValue"in s?lt.fromName(s.referenceValue).toString():"geoPointValue"in s?`geo(${(r=s.geoPointValue).latitude},${r.longitude})`:"arrayValue"in s?function(o){let u="[",f=!0;for(const v of o.values||[])f?f=!1:u+=",",u+=zu(v);return u+"]"}(s.arrayValue):"mapValue"in s?function(o){const u=Object.keys(o.fields||{}).sort();let f="{",v=!0;for(const x of u)v?v=!1:f+=",",f+=`${x}:${zu(o.fields[x])}`;return f+"}"}(s.mapValue):st();var r}function Lu(s,r){return{referenceValue:`projects/${s.projectId}/databases/${s.database}/documents/${r.path.canonicalString()}`}}function fd(s){return!!s&&"integerValue"in s}function Dm(s){return!!s&&"arrayValue"in s}function $_(s){return!!s&&"nullValue"in s}function G_(s){return!!s&&"doubleValue"in s&&isNaN(Number(s.doubleValue))}function dd(s){return!!s&&"mapValue"in s}function Uc(s){if(s.geoPointValue)return{geoPointValue:Object.assign({},s.geoPointValue)};if(s.timestampValue&&"object"==typeof s.timestampValue)return{timestampValue:Object.assign({},s.timestampValue)};if(s.mapValue){const r={mapValue:{fields:{}}};return Ua(s.mapValue.fields,(i,o)=>r.mapValue.fields[i]=Uc(o)),r}if(s.arrayValue){const r={arrayValue:{values:[]}};for(let i=0;i<(s.arrayValue.values||[]).length;++i)r.arrayValue.values[i]=Uc(s.arrayValue.values[i]);return r}return Object.assign({},s)}class o1{constructor(r){this.value=r}static empty(){return new o1({mapValue:{}})}field(r){if(r.isEmpty())return this.value;{let i=this.value;for(let o=0;o<r.length-1;++o)if(i=(i.mapValue.fields||{})[r.get(o)],!dd(i))return null;return i=(i.mapValue.fields||{})[r.lastSegment()],i||null}}set(r,i){this.getFieldsMap(r.popLast())[r.lastSegment()]=Uc(i)}setAll(r){let i=V1.emptyPath(),o={},u=[];r.forEach((v,x)=>{if(!i.isImmediateParentOf(x)){const S=this.getFieldsMap(i);this.applyChanges(S,o,u),o={},u=[],i=x.popLast()}v?o[x.lastSegment()]=Uc(v):u.push(x.lastSegment())});const f=this.getFieldsMap(i);this.applyChanges(f,o,u)}delete(r){const i=this.field(r.popLast());dd(i)&&i.mapValue.fields&&delete i.mapValue.fields[r.lastSegment()]}isEqual(r){return A2(this.value,r.value)}getFieldsMap(r){let i=this.value;i.mapValue.fields||(i.mapValue={fields:{}});for(let o=0;o<r.length;++o){let u=i.mapValue.fields[r.get(o)];dd(u)&&u.mapValue.fields||(u={mapValue:{fields:{}}},i.mapValue.fields[r.get(o)]=u),i=u}return i.mapValue.fields}applyChanges(r,i,o){Ua(i,(u,f)=>r[u]=f);for(const u of o)delete r[u]}clone(){return new o1(Uc(this.value))}}function Tm(s){const r=[];return Ua(s.fields,(i,o)=>{const u=new V1([i]);if(dd(o)){const f=Tm(o.mapValue).fields;if(0===f.length)r.push(u);else for(const v of f)r.push(u.child(v))}else r.push(u)}),new Oc(r)}class En{constructor(r,i,o,u,f){this.key=r,this.documentType=i,this.version=o,this.data=u,this.documentState=f}static newInvalidDocument(r){return new En(r,0,Dt.min(),o1.empty(),0)}static newFoundDocument(r,i,o){return new En(r,1,i,o,0)}static newNoDocument(r,i){return new En(r,2,i,o1.empty(),0)}static newUnknownDocument(r,i){return new En(r,3,i,o1.empty(),2)}convertToFoundDocument(r,i){return this.version=r,this.documentType=1,this.data=i,this.documentState=0,this}convertToNoDocument(r){return this.version=r,this.documentType=2,this.data=o1.empty(),this.documentState=0,this}convertToUnknownDocument(r){return this.version=r,this.documentType=3,this.data=o1.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this}get hasLocalMutations(){return 1===this.documentState}get hasCommittedMutations(){return 2===this.documentState}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return 0!==this.documentType}isFoundDocument(){return 1===this.documentType}isNoDocument(){return 2===this.documentType}isUnknownDocument(){return 3===this.documentType}isEqual(r){return r instanceof En&&this.key.isEqual(r.key)&&this.version.isEqual(r.version)&&this.documentType===r.documentType&&this.documentState===r.documentState&&this.data.isEqual(r.data)}clone(){return new En(this.key,this.documentType,this.version,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}class Nm{constructor(r,i=null,o=[],u=[],f=null,v=null,x=null){this.path=r,this.collectionGroup=i,this.orderBy=o,this.filters=u,this.limit=f,this.startAt=v,this.endAt=x,this.A=null}}function Bc(s,r=null,i=[],o=[],u=null,f=null,v=null){return new Nm(s,r,i,o,u,f,v)}function C3(s){const r=Ye(s);if(null===r.A){let i=r.path.canonicalString();null!==r.collectionGroup&&(i+="|cg:"+r.collectionGroup),i+="|f:",i+=r.filters.map(o=>function(s){return s.field.canonicalString()+s.op.toString()+hd(s.value)}(o)).join(","),i+="|ob:",i+=r.orderBy.map(o=>{return(u=o).field.canonicalString()+u.dir;var u}).join(","),Ba(r.limit)||(i+="|l:",i+=r.limit),r.startAt&&(i+="|lb:",i+=ku(r.startAt)),r.endAt&&(i+="|ub:",i+=ku(r.endAt)),r.A=i}return r.A}function Vu(s,r){if(s.limit!==r.limit||s.orderBy.length!==r.orderBy.length)return!1;for(let u=0;u<s.orderBy.length;u++)if(!Q_(s.orderBy[u],r.orderBy[u]))return!1;if(s.filters.length!==r.filters.length)return!1;for(let u=0;u<s.filters.length;u++)if((i=s.filters[u]).op!==(o=r.filters[u]).op||!i.field.isEqual(o.field)||!A2(i.value,o.value))return!1;var i,o;return s.collectionGroup===r.collectionGroup&&!!s.path.isEqual(r.path)&&!!md(s.startAt,r.startAt)&&md(s.endAt,r.endAt)}function Ru(s){return lt.isDocumentKey(s.path)&&null===s.collectionGroup&&0===s.filters.length}class lr extends class{}{constructor(r,i,o){super(),this.field=r,this.op=i,this.value=o}static create(r,i,o){return r.isKeyField()?"in"===i||"not-in"===i?this.R(r,i,o):new Z_(r,i,o):"array-contains"===i?new Vm(r,o):"in"===i?new K_(r,o):"not-in"===i?new Rm(r,o):"array-contains-any"===i?new Y_(r,o):new lr(r,i,o)}static R(r,i,o){return"in"===i?new q_(r,o):new jc(r,o)}matches(r){const i=r.data.field(this.field);return"!="===this.op?null!==i&&this.P($a(i,this.value)):null!==i&&ja(this.value)===ja(i)&&this.P($a(i,this.value))}P(r){switch(this.op){case"<":return r<0;case"<=":return r<=0;case"==":return 0===r;case"!=":return 0!==r;case">":return r>0;case">=":return r>=0;default:return st()}}v(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}}class Z_ extends lr{constructor(r,i,o){super(r,i,o),this.key=lt.fromName(o.referenceValue)}matches(r){const i=lt.comparator(r.key,this.key);return this.P(i)}}class q_ extends lr{constructor(r,i){super(r,"in",i),this.keys=Lm(0,i)}matches(r){return this.keys.some(i=>i.isEqual(r.key))}}class jc extends lr{constructor(r,i){super(r,"not-in",i),this.keys=Lm(0,i)}matches(r){return!this.keys.some(i=>i.isEqual(r.key))}}function Lm(s,r){var i;return((null===(i=r.arrayValue)||void 0===i?void 0:i.values)||[]).map(o=>lt.fromName(o.referenceValue))}class Vm extends lr{constructor(r,i){super(r,"array-contains",i)}matches(r){const i=r.data.field(this.field);return Dm(i)&&Fc(i.arrayValue,this.value)}}class K_ extends lr{constructor(r,i){super(r,"in",i)}matches(r){const i=r.data.field(this.field);return null!==i&&Fc(this.value.arrayValue,i)}}class Rm extends lr{constructor(r,i){super(r,"not-in",i)}matches(r){if(Fc(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const i=r.data.field(this.field);return null!==i&&!Fc(this.value.arrayValue,i)}}class Y_ extends lr{constructor(r,i){super(r,"array-contains-any",i)}matches(r){const i=r.data.field(this.field);return!(!Dm(i)||!i.arrayValue.values)&&i.arrayValue.values.some(o=>Fc(this.value.arrayValue,o))}}class $c{constructor(r,i){this.position=r,this.before=i}}function ku(s){return`${s.before?"b":"a"}:${s.position.map(r=>hd(r)).join(",")}`}class go{constructor(r,i="asc"){this.field=r,this.dir=i}}function Q_(s,r){return s.dir===r.dir&&s.field.isEqual(r.field)}function pd(s,r,i){let o=0;for(let u=0;u<s.position.length;u++){const f=r[u],v=s.position[u];if(o=f.field.isKeyField()?lt.comparator(lt.fromName(v.referenceValue),i.key):$a(v,i.data.field(f.field)),"desc"===f.dir&&(o*=-1),0!==o)break}return s.before?o<=0:o<0}function md(s,r){if(null===s)return null===r;if(null===r||s.before!==r.before||s.position.length!==r.position.length)return!1;for(let i=0;i<s.position.length;i++)if(!A2(s.position[i],r.position[i]))return!1;return!0}class vs{constructor(r,i=null,o=[],u=[],f=null,v="F",x=null,S=null){this.path=r,this.collectionGroup=i,this.explicitOrderBy=o,this.filters=u,this.limit=f,this.limitType=v,this.startAt=x,this.endAt=S,this.V=null,this.S=null}}function km(s,r,i,o,u,f,v,x){return new vs(s,r,i,o,u,f,v,x)}function Gc(s){return new vs(s)}function Wc(s){return!Ba(s.limit)&&"F"===s.limitType}function Ou(s){return!Ba(s.limit)&&"L"===s.limitType}function Pu(s){return s.explicitOrderBy.length>0?s.explicitOrderBy[0].field:null}function gd(s){for(const r of s.filters)if(r.v())return r.field;return null}function vd(s){return null!==s.collectionGroup}function Zc(s){const r=Ye(s);if(null===r.V){r.V=[];const i=gd(r),o=Pu(r);if(null!==i&&null===o)i.isKeyField()||r.V.push(new go(i)),r.V.push(new go(V1.keyField(),"asc"));else{let u=!1;for(const f of r.explicitOrderBy)r.V.push(f),f.field.isKeyField()&&(u=!0);if(!u){const f=r.explicitOrderBy.length>0?r.explicitOrderBy[r.explicitOrderBy.length-1].dir:"asc";r.V.push(new go(V1.keyField(),f))}}}return r.V}function di(s){const r=Ye(s);if(!r.S)if("F"===r.limitType)r.S=Bc(r.path,r.collectionGroup,Zc(r),r.filters,r.limit,r.startAt,r.endAt);else{const i=[];for(const f of Zc(r))i.push(new go(f.field,"desc"===f.dir?"asc":"desc"));const o=r.endAt?new $c(r.endAt.position,!r.endAt.before):null,u=r.startAt?new $c(r.startAt.position,!r.startAt.before):null;r.S=Bc(r.path,r.collectionGroup,i,r.filters,r.limit,o,u)}return r.S}function Om(s,r,i){return new vs(s.path,s.collectionGroup,s.explicitOrderBy.slice(),s.filters.slice(),r,i,s.startAt,s.endAt)}function x3(s,r){return Vu(di(s),di(r))&&s.limitType===r.limitType}function Pm(s){return`${C3(di(s))}|lt:${s.limitType}`}function yd(s){return`Query(target=${function(s){let r=s.path.canonicalString();return null!==s.collectionGroup&&(r+=" collectionGroup="+s.collectionGroup),s.filters.length>0&&(r+=`, filters: [${s.filters.map(i=>{return`${(o=i).field.canonicalString()} ${o.op} ${hd(o.value)}`;var o}).join(", ")}]`),Ba(s.limit)||(r+=", limit: "+s.limit),s.orderBy.length>0&&(r+=`, orderBy: [${s.orderBy.map(i=>{return`${(o=i).field.canonicalString()} (${o.dir})`;var o}).join(", ")}]`),s.startAt&&(r+=", startAt: "+ku(s.startAt)),s.endAt&&(r+=", endAt: "+ku(s.endAt)),`Target(${r})`}(di(s))}; limitType=${s.limitType})`}function qc(s,r){return r.isFoundDocument()&&function(i,o){const u=o.key.path;return null!==i.collectionGroup?o.key.hasCollectionId(i.collectionGroup)&&i.path.isPrefixOf(u):lt.isDocumentKey(i.path)?i.path.isEqual(u):i.path.isImmediateParentOf(u)}(s,r)&&function(i,o){for(const u of i.explicitOrderBy)if(!u.field.isKeyField()&&null===o.data.field(u.field))return!1;return!0}(s,r)&&function(i,o){for(const u of i.filters)if(!u.matches(o))return!1;return!0}(s,r)&&(o=r,!((i=s).startAt&&!pd(i.startAt,Zc(i),o)||i.endAt&&pd(i.endAt,Zc(i),o)));var i,o}function _d(s){return(r,i)=>{let o=!1;for(const u of Zc(s)){const f=J_(u,r,i);if(0!==f)return f;o=o||u.field.isKeyField()}return 0}}function J_(s,r,i){const o=s.field.isKeyField()?lt.comparator(r.key,i.key):function(u,f,v){const x=f.data.field(u),S=v.data.field(u);return null!==x&&null!==S?$a(x,S):st()}(s.field,r,i);switch(s.dir){case"asc":return o;case"desc":return-1*o;default:return st()}}function Hm(s,r){if(s.D){if(isNaN(r))return{doubleValue:"NaN"};if(r===1/0)return{doubleValue:"Infinity"};if(r===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:mo(r)?"-0":r}}function Cd(s){return{integerValue:""+s}}function Fm(s,r){return Hc(r)?Cd(r):Hm(s,r)}class Hu{constructor(){this._=void 0}}function X_(s,r,i){return s instanceof Ga?function(o,u){const f={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:o.seconds,nanos:o.nanoseconds}}}};return u&&(f.fields.__previous_value__=u),{mapValue:f}}(i,r):s instanceof ys?Um(s,r):s instanceof Wa?Uu(s,r):function(o,u){const f=Fu(o,u),v=bd(f)+bd(o.C);return fd(f)&&fd(o.C)?Cd(v):Hm(o.N,v)}(s,r)}function xd(s,r,i){return s instanceof ys?Um(s,r):s instanceof Wa?Uu(s,r):i}function Fu(s,r){return s instanceof Kc?fd(i=r)||(o=i)&&"doubleValue"in o?r:{integerValue:0}:null;var o,i}class Ga extends Hu{}class ys extends Hu{constructor(r){super(),this.elements=r}}function Um(s,r){const i=Bm(r);for(const o of s.elements)i.some(u=>A2(u,o))||i.push(o);return{arrayValue:{values:i}}}class Wa extends Hu{constructor(r){super(),this.elements=r}}function Uu(s,r){let i=Bm(r);for(const o of s.elements)i=i.filter(u=>!A2(u,o));return{arrayValue:{values:i}}}class Kc extends Hu{constructor(r,i){super(),this.N=r,this.C=i}}function bd(s){return Qn(s.integerValue||s.doubleValue)}function Bm(s){return Dm(s)&&s.arrayValue.values?s.arrayValue.values.slice():[]}class Yc{constructor(r,i){this.field=r,this.transform=i}}class $m{constructor(r,i){this.version=r,this.transformResults=i}}class a1{constructor(r,i){this.updateTime=r,this.exists=i}static none(){return new a1}static exists(r){return new a1(void 0,r)}static updateTime(r){return new a1(r)}get isNone(){return void 0===this.updateTime&&void 0===this.exists}isEqual(r){return this.exists===r.exists&&(this.updateTime?!!r.updateTime&&this.updateTime.isEqual(r.updateTime):!r.updateTime)}}function Bu(s,r){return void 0!==s.updateTime?r.isFoundDocument()&&r.version.isEqual(s.updateTime):void 0===s.exists||s.exists===r.isFoundDocument()}class S2{}function Kb(s,r,i){s instanceof w3?function(o,u,f){const v=o.value.clone(),x=Fi(o.fieldTransforms,u,f.transformResults);v.setAll(x),u.convertToFoundDocument(f.version,v).setHasCommittedMutations()}(s,r,i):s instanceof qa?function(o,u,f){if(!Bu(o.precondition,u))return void u.convertToUnknownDocument(f.version);const v=Fi(o.fieldTransforms,u,f.transformResults),x=u.data;x.setAll(Wm(o)),x.setAll(v),u.convertToFoundDocument(f.version,x).setHasCommittedMutations()}(s,r,i):r.convertToNoDocument(i.version).setHasCommittedMutations()}function b3(s,r,i){var u;s instanceof w3?function(o,u,f){if(!Bu(o.precondition,u))return;const v=o.value.clone(),x=wd(o.fieldTransforms,f,u);v.setAll(x),u.convertToFoundDocument(Za(u),v).setHasLocalMutations()}(s,r,i):s instanceof qa?function(o,u,f){if(!Bu(o.precondition,u))return;const v=wd(o.fieldTransforms,f,u),x=u.data;x.setAll(Wm(o)),x.setAll(v),u.convertToFoundDocument(Za(u),x).setHasLocalMutations()}(s,r,i):Bu(s.precondition,u=r)&&u.convertToNoDocument(Dt.min())}function ju(s,r){let i=null;for(const o of s.fieldTransforms){const u=r.data.field(o.field),f=Fu(o.transform,u||null);null!=f&&(null==i&&(i=o1.empty()),i.set(o.field,f))}return i||null}function Gm(s,r){return s.type===r.type&&!!s.key.isEqual(r.key)&&!!s.precondition.isEqual(r.precondition)&&(o=r.fieldTransforms,!!(void 0===(i=s.fieldTransforms)&&void 0===o||i&&o&&ms(i,o,(u,f)=>function(s,r){return s.field.isEqual(r.field)&&(o=r.transform,(i=s.transform)instanceof ys&&o instanceof ys||i instanceof Wa&&o instanceof Wa?ms(i.elements,o.elements,A2):i instanceof Kc&&o instanceof Kc?A2(i.C,o.C):i instanceof Ga&&o instanceof Ga);var i,o}(u,f))))&&(0===s.type?s.value.isEqual(r.value):1!==s.type||s.data.isEqual(r.data)&&s.fieldMask.isEqual(r.fieldMask));var i,o}function Za(s){return s.isFoundDocument()?s.version:Dt.min()}class w3 extends S2{constructor(r,i,o,u=[]){super(),this.key=r,this.value=i,this.precondition=o,this.fieldTransforms=u,this.type=0}}class qa extends S2{constructor(r,i,o,u,f=[]){super(),this.key=r,this.data=i,this.fieldMask=o,this.precondition=u,this.fieldTransforms=f,this.type=1}}function Wm(s){const r=new Map;return s.fieldMask.fields.forEach(i=>{if(!i.isEmpty()){const o=s.data.field(i);r.set(i,o)}}),r}function Fi(s,r,i){const o=new Map;bt(s.length===i.length);for(let u=0;u<i.length;u++){const f=s[u],v=f.transform,x=r.data.field(f.field);o.set(f.field,xd(v,x,i[u]))}return o}function wd(s,r,i){const o=new Map;for(const u of s){const f=u.transform,v=i.data.field(u.field);o.set(u.field,X_(f,v,r))}return o}class $u extends S2{constructor(r,i){super(),this.key=r,this.precondition=i,this.type=2,this.fieldTransforms=[]}}class Qc extends S2{constructor(r,i){super(),this.key=r,this.precondition=i,this.type=3,this.fieldTransforms=[]}}class eC{constructor(r){this.count=r}}var Jn,Wt;function Zm(s){switch(s){case Te.OK:return st();case Te.CANCELLED:case Te.UNKNOWN:case Te.DEADLINE_EXCEEDED:case Te.RESOURCE_EXHAUSTED:case Te.INTERNAL:case Te.UNAVAILABLE:case Te.UNAUTHENTICATED:return!1;case Te.INVALID_ARGUMENT:case Te.NOT_FOUND:case Te.ALREADY_EXISTS:case Te.PERMISSION_DENIED:case Te.FAILED_PRECONDITION:case Te.ABORTED:case Te.OUT_OF_RANGE:case Te.UNIMPLEMENTED:case Te.DATA_LOSS:return!0;default:return st()}}function qm(s){if(void 0===s)return $n("GRPC error has no .code"),Te.UNKNOWN;switch(s){case Jn.OK:return Te.OK;case Jn.CANCELLED:return Te.CANCELLED;case Jn.UNKNOWN:return Te.UNKNOWN;case Jn.DEADLINE_EXCEEDED:return Te.DEADLINE_EXCEEDED;case Jn.RESOURCE_EXHAUSTED:return Te.RESOURCE_EXHAUSTED;case Jn.INTERNAL:return Te.INTERNAL;case Jn.UNAVAILABLE:return Te.UNAVAILABLE;case Jn.UNAUTHENTICATED:return Te.UNAUTHENTICATED;case Jn.INVALID_ARGUMENT:return Te.INVALID_ARGUMENT;case Jn.NOT_FOUND:return Te.NOT_FOUND;case Jn.ALREADY_EXISTS:return Te.ALREADY_EXISTS;case Jn.PERMISSION_DENIED:return Te.PERMISSION_DENIED;case Jn.FAILED_PRECONDITION:return Te.FAILED_PRECONDITION;case Jn.ABORTED:return Te.ABORTED;case Jn.OUT_OF_RANGE:return Te.OUT_OF_RANGE;case Jn.UNIMPLEMENTED:return Te.UNIMPLEMENTED;case Jn.DATA_LOSS:return Te.DATA_LOSS;default:return st()}}(Wt=Jn||(Jn={}))[Wt.OK=0]="OK",Wt[Wt.CANCELLED=1]="CANCELLED",Wt[Wt.UNKNOWN=2]="UNKNOWN",Wt[Wt.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",Wt[Wt.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",Wt[Wt.NOT_FOUND=5]="NOT_FOUND",Wt[Wt.ALREADY_EXISTS=6]="ALREADY_EXISTS",Wt[Wt.PERMISSION_DENIED=7]="PERMISSION_DENIED",Wt[Wt.UNAUTHENTICATED=16]="UNAUTHENTICATED",Wt[Wt.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",Wt[Wt.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",Wt[Wt.ABORTED=10]="ABORTED",Wt[Wt.OUT_OF_RANGE=11]="OUT_OF_RANGE",Wt[Wt.UNIMPLEMENTED=12]="UNIMPLEMENTED",Wt[Wt.INTERNAL=13]="INTERNAL",Wt[Wt.UNAVAILABLE=14]="UNAVAILABLE",Wt[Wt.DATA_LOSS=15]="DATA_LOSS";class c1{constructor(r,i){this.comparator=r,this.root=i||y1.EMPTY}insert(r,i){return new c1(this.comparator,this.root.insert(r,i,this.comparator).copy(null,null,y1.BLACK,null,null))}remove(r){return new c1(this.comparator,this.root.remove(r,this.comparator).copy(null,null,y1.BLACK,null,null))}get(r){let i=this.root;for(;!i.isEmpty();){const o=this.comparator(r,i.key);if(0===o)return i.value;o<0?i=i.left:o>0&&(i=i.right)}return null}indexOf(r){let i=0,o=this.root;for(;!o.isEmpty();){const u=this.comparator(r,o.key);if(0===u)return i+o.left.size;u<0?o=o.left:(i+=o.left.size+1,o=o.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(r){return this.root.inorderTraversal(r)}forEach(r){this.inorderTraversal((i,o)=>(r(i,o),!1))}toString(){const r=[];return this.inorderTraversal((i,o)=>(r.push(`${i}:${o}`),!1)),`{${r.join(", ")}}`}reverseTraversal(r){return this.root.reverseTraversal(r)}getIterator(){return new Jc(this.root,null,this.comparator,!1)}getIteratorFrom(r){return new Jc(this.root,r,this.comparator,!1)}getReverseIterator(){return new Jc(this.root,null,this.comparator,!0)}getReverseIteratorFrom(r){return new Jc(this.root,r,this.comparator,!0)}}class Jc{constructor(r,i,o,u){this.isReverse=u,this.nodeStack=[];let f=1;for(;!r.isEmpty();)if(f=i?o(r.key,i):1,u&&(f*=-1),f<0)r=this.isReverse?r.left:r.right;else{if(0===f){this.nodeStack.push(r);break}this.nodeStack.push(r),r=this.isReverse?r.right:r.left}}getNext(){let r=this.nodeStack.pop();const i={key:r.key,value:r.value};if(this.isReverse)for(r=r.left;!r.isEmpty();)this.nodeStack.push(r),r=r.right;else for(r=r.right;!r.isEmpty();)this.nodeStack.push(r),r=r.left;return i}hasNext(){return this.nodeStack.length>0}peek(){if(0===this.nodeStack.length)return null;const r=this.nodeStack[this.nodeStack.length-1];return{key:r.key,value:r.value}}}class y1{constructor(r,i,o,u,f){this.key=r,this.value=i,this.color=null!=o?o:y1.RED,this.left=null!=u?u:y1.EMPTY,this.right=null!=f?f:y1.EMPTY,this.size=this.left.size+1+this.right.size}copy(r,i,o,u,f){return new y1(null!=r?r:this.key,null!=i?i:this.value,null!=o?o:this.color,null!=u?u:this.left,null!=f?f:this.right)}isEmpty(){return!1}inorderTraversal(r){return this.left.inorderTraversal(r)||r(this.key,this.value)||this.right.inorderTraversal(r)}reverseTraversal(r){return this.right.reverseTraversal(r)||r(this.key,this.value)||this.left.reverseTraversal(r)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(r,i,o){let u=this;const f=o(r,u.key);return u=f<0?u.copy(null,null,null,u.left.insert(r,i,o),null):0===f?u.copy(null,i,null,null,null):u.copy(null,null,null,null,u.right.insert(r,i,o)),u.fixUp()}removeMin(){if(this.left.isEmpty())return y1.EMPTY;let r=this;return r.left.isRed()||r.left.left.isRed()||(r=r.moveRedLeft()),r=r.copy(null,null,null,r.left.removeMin(),null),r.fixUp()}remove(r,i){let o,u=this;if(i(r,u.key)<0)u.left.isEmpty()||u.left.isRed()||u.left.left.isRed()||(u=u.moveRedLeft()),u=u.copy(null,null,null,u.left.remove(r,i),null);else{if(u.left.isRed()&&(u=u.rotateRight()),u.right.isEmpty()||u.right.isRed()||u.right.left.isRed()||(u=u.moveRedRight()),0===i(r,u.key)){if(u.right.isEmpty())return y1.EMPTY;o=u.right.min(),u=u.copy(o.key,o.value,null,null,u.right.removeMin())}u=u.copy(null,null,null,null,u.right.remove(r,i))}return u.fixUp()}isRed(){return this.color}fixUp(){let r=this;return r.right.isRed()&&!r.left.isRed()&&(r=r.rotateLeft()),r.left.isRed()&&r.left.left.isRed()&&(r=r.rotateRight()),r.left.isRed()&&r.right.isRed()&&(r=r.colorFlip()),r}moveRedLeft(){let r=this.colorFlip();return r.right.left.isRed()&&(r=r.copy(null,null,null,null,r.right.rotateRight()),r=r.rotateLeft(),r=r.colorFlip()),r}moveRedRight(){let r=this.colorFlip();return r.left.left.isRed()&&(r=r.rotateRight(),r=r.colorFlip()),r}rotateLeft(){const r=this.copy(null,null,y1.RED,null,this.right.left);return this.right.copy(null,null,this.color,r,null)}rotateRight(){const r=this.copy(null,null,y1.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,r)}colorFlip(){const r=this.left.copy(null,null,!this.left.color,null,null),i=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,r,i)}checkMaxDepth(){const r=this.check();return Math.pow(2,r)<=this.size+1}check(){if(this.isRed()&&this.left.isRed()||this.right.isRed())throw st();const r=this.left.check();if(r!==this.right.check())throw st();return r+(this.isRed()?0:1)}}y1.EMPTY=null,y1.RED=!0,y1.BLACK=!1,y1.EMPTY=new class{constructor(){this.size=0}get key(){throw st()}get value(){throw st()}get color(){throw st()}get left(){throw st()}get right(){throw st()}copy(s,r,i,o,u){return this}insert(s,r,i){return new y1(s,r)}remove(s,r){return this}isEmpty(){return!0}inorderTraversal(s){return!1}reverseTraversal(s){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};class An{constructor(r){this.comparator=r,this.data=new c1(this.comparator)}has(r){return null!==this.data.get(r)}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(r){return this.data.indexOf(r)}forEach(r){this.data.inorderTraversal((i,o)=>(r(i),!1))}forEachInRange(r,i){const o=this.data.getIteratorFrom(r[0]);for(;o.hasNext();){const u=o.getNext();if(this.comparator(u.key,r[1])>=0)return;i(u.key)}}forEachWhile(r,i){let o;for(o=void 0!==i?this.data.getIteratorFrom(i):this.data.getIterator();o.hasNext();)if(!r(o.getNext().key))return}firstAfterOrEqual(r){const i=this.data.getIteratorFrom(r);return i.hasNext()?i.getNext().key:null}getIterator(){return new Md(this.data.getIterator())}getIteratorFrom(r){return new Md(this.data.getIteratorFrom(r))}add(r){return this.copy(this.data.remove(r).insert(r,!0))}delete(r){return this.has(r)?this.copy(this.data.remove(r)):this}isEmpty(){return this.data.isEmpty()}unionWith(r){let i=this;return i.size<r.size&&(i=r,r=this),r.forEach(o=>{i=i.add(o)}),i}isEqual(r){if(!(r instanceof An)||this.size!==r.size)return!1;const i=this.data.getIterator(),o=r.data.getIterator();for(;i.hasNext();){const u=i.getNext().key,f=o.getNext().key;if(0!==this.comparator(u,f))return!1}return!0}toArray(){const r=[];return this.forEach(i=>{r.push(i)}),r}toString(){const r=[];return this.forEach(i=>r.push(i)),"SortedSet("+r.toString()+")"}copy(r){const i=new An(this.comparator);return i.data=r,i}}class Md{constructor(r){this.iter=r}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}const tC=new c1(lt.comparator);function Ui(){return tC}const nC=new c1(lt.comparator);function Ed(){return nC}const rC=new c1(lt.comparator);function Ad(){return rC}const Km=new An(lt.comparator);function en(...s){let r=Km;for(const i of s)r=r.add(i);return r}const iC=new An(Vt);function Gu(){return iC}class Xc{constructor(r,i,o,u,f){this.snapshotVersion=r,this.targetChanges=i,this.targetMismatches=o,this.documentUpdates=u,this.resolvedLimboDocuments=f}static createSynthesizedRemoteEventForCurrentChange(r,i){const o=new Map;return o.set(r,vo.createSynthesizedTargetChangeForCurrentChange(r,i)),new Xc(Dt.min(),o,Gu(),Ui(),en())}}class vo{constructor(r,i,o,u,f){this.resumeToken=r,this.current=i,this.addedDocuments=o,this.modifiedDocuments=u,this.removedDocuments=f}static createSynthesizedTargetChangeForCurrentChange(r,i){return new vo(Un.EMPTY_BYTE_STRING,i,en(),en(),en())}}class Wu{constructor(r,i,o,u){this.k=r,this.removedTargetIds=i,this.key=o,this.$=u}}class Sd{constructor(r,i){this.targetId=r,this.O=i}}class M3{constructor(r,i,o=Un.EMPTY_BYTE_STRING,u=null){this.state=r,this.targetIds=i,this.resumeToken=o,this.cause=u}}class E3{constructor(){this.F=0,this.M=Qm(),this.L=Un.EMPTY_BYTE_STRING,this.B=!1,this.U=!0}get current(){return this.B}get resumeToken(){return this.L}get q(){return 0!==this.F}get K(){return this.U}j(r){r.approximateByteSize()>0&&(this.U=!0,this.L=r)}W(){let r=en(),i=en(),o=en();return this.M.forEach((u,f)=>{switch(f){case 0:r=r.add(u);break;case 2:i=i.add(u);break;case 1:o=o.add(u);break;default:st()}}),new vo(this.L,this.B,r,i,o)}G(){this.U=!1,this.M=Qm()}H(r,i){this.U=!0,this.M=this.M.insert(r,i)}J(r){this.U=!0,this.M=this.M.remove(r)}Y(){this.F+=1}X(){this.F-=1}Z(){this.U=!0,this.B=!0}}class A3{constructor(r){this.tt=r,this.et=new Map,this.nt=Ui(),this.st=Ym(),this.it=new An(Vt)}rt(r){for(const i of r.k)r.$&&r.$.isFoundDocument()?this.ot(i,r.$):this.at(i,r.key,r.$);for(const i of r.removedTargetIds)this.at(i,r.key,r.$)}ct(r){this.forEachTarget(r,i=>{const o=this.ut(i);switch(r.state){case 0:this.ht(i)&&o.j(r.resumeToken);break;case 1:o.X(),o.q||o.G(),o.j(r.resumeToken);break;case 2:o.X(),o.q||this.removeTarget(i);break;case 3:this.ht(i)&&(o.Z(),o.j(r.resumeToken));break;case 4:this.ht(i)&&(this.lt(i),o.j(r.resumeToken));break;default:st()}})}forEachTarget(r,i){r.targetIds.length>0?r.targetIds.forEach(i):this.et.forEach((o,u)=>{this.ht(u)&&i(u)})}ft(r){const i=r.targetId,o=r.O.count,u=this.dt(i);if(u){const f=u.target;if(Ru(f))if(0===o){const v=new lt(f.path);this.at(i,v,En.newNoDocument(v,Dt.min()))}else bt(1===o);else this.wt(i)!==o&&(this.lt(i),this.it=this.it.add(i))}}_t(r){const i=new Map;this.et.forEach((f,v)=>{const x=this.dt(v);if(x){if(f.current&&Ru(x.target)){const S=new lt(x.target.path);null!==this.nt.get(S)||this.gt(v,S)||this.at(v,S,En.newNoDocument(S,r))}f.K&&(i.set(v,f.W()),f.G())}});let o=en();this.st.forEach((f,v)=>{let x=!0;v.forEachWhile(S=>{const L=this.dt(S);return!L||2===L.purpose||(x=!1,!1)}),x&&(o=o.add(f))});const u=new Xc(r,i,this.it,this.nt,o);return this.nt=Ui(),this.st=Ym(),this.it=new An(Vt),u}ot(r,i){if(!this.ht(r))return;const o=this.gt(r,i.key)?2:0;this.ut(r).H(i.key,o),this.nt=this.nt.insert(i.key,i),this.st=this.st.insert(i.key,this.yt(i.key).add(r))}at(r,i,o){if(!this.ht(r))return;const u=this.ut(r);this.gt(r,i)?u.H(i,1):u.J(i),this.st=this.st.insert(i,this.yt(i).delete(r)),o&&(this.nt=this.nt.insert(i,o))}removeTarget(r){this.et.delete(r)}wt(r){const i=this.ut(r).W();return this.tt.getRemoteKeysForTarget(r).size+i.addedDocuments.size-i.removedDocuments.size}Y(r){this.ut(r).Y()}ut(r){let i=this.et.get(r);return i||(i=new E3,this.et.set(r,i)),i}yt(r){let i=this.st.get(r);return i||(i=new An(Vt),this.st=this.st.insert(r,i)),i}ht(r){const i=null!==this.dt(r);return i||Ke("WatchChangeAggregator","Detected inactive target",r),i}dt(r){const i=this.et.get(r);return i&&i.q?null:this.tt.Et(r)}lt(r){this.et.set(r,new E3),this.tt.getRemoteKeysForTarget(r).forEach(i=>{this.at(r,i,null)})}gt(r,i){return this.tt.getRemoteKeysForTarget(r).has(i)}}function Ym(){return new c1(lt.comparator)}function Qm(){return new c1(lt.comparator)}const Yb={asc:"ASCENDING",desc:"DESCENDING"},sC={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"};class oC{constructor(r,i){this.databaseId=r,this.D=i}}function S3(s,r){return s.D?`${new Date(1e3*r.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+r.nanoseconds).slice(-9)}Z`:{seconds:""+r.seconds,nanos:r.nanoseconds}}function Jm(s,r){return s.D?r.toBase64():r.toUint8Array()}function aC(s,r){return S3(s,r.toTimestamp())}function _1(s){return bt(!!s),Dt.fromTimestamp(function(r){const i=po(r);return new L1(i.seconds,i.nanos)}(s))}function Id(s,r){return(i=s,new Gt(["projects",i.projectId,"databases",i.database])).child("documents").child(r).canonicalString();var i}function Xm(s){const r=Gt.fromString(s);return bt(z3(r)),r}function I3(s,r){return Id(s.databaseId,r.path)}function _s(s,r){const i=Xm(r);if(i.get(1)!==s.databaseId.projectId)throw new je(Te.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+i.get(1)+" vs "+s.databaseId.projectId);if(i.get(3)!==s.databaseId.database)throw new je(Te.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+i.get(3)+" vs "+s.databaseId.database);return new lt(eg(i))}function Dd(s,r){return Id(s.databaseId,r)}function e4(s){const r=Xm(s);return 4===r.length?Gt.emptyPath():eg(r)}function D3(s){return new Gt(["projects",s.databaseId.projectId,"databases",s.databaseId.database]).canonicalString()}function eg(s){return bt(s.length>4&&"documents"===s.get(4)),s.popFirst(5)}function tg(s,r,i){return{name:I3(s,r),fields:i.value.mapValue.fields}}function T3(s,r,i){const o=_s(s,r.name),u=_1(r.updateTime),f=new o1({mapValue:{fields:r.fields}}),v=En.newFoundDocument(o,u,f);return i&&v.setHasCommittedMutations(),i?v.setHasCommittedMutations():v}function Zu(s,r){let i;if(r instanceof w3)i={update:tg(s,r.key,r.value)};else if(r instanceof $u)i={delete:I3(s,r.key)};else if(r instanceof qa)i={update:tg(s,r.key,r.data),updateMask:Ku(r.fieldMask)};else{if(!(r instanceof Qc))return st();i={verify:I3(s,r.key)}}return r.fieldTransforms.length>0&&(i.updateTransforms=r.fieldTransforms.map(o=>function(u,f){const v=f.transform;if(v instanceof Ga)return{fieldPath:f.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(v instanceof ys)return{fieldPath:f.field.canonicalString(),appendMissingElements:{values:v.elements}};if(v instanceof Wa)return{fieldPath:f.field.canonicalString(),removeAllFromArray:{values:v.elements}};if(v instanceof Kc)return{fieldPath:f.field.canonicalString(),increment:v.C};throw st()}(0,o))),r.precondition.isNone||(i.currentDocument=void 0!==(u=r.precondition).updateTime?{updateTime:aC(s,u.updateTime)}:void 0!==u.exists?{exists:u.exists}:st()),i;var u}function cC(s,r){const i=r.currentDocument?void 0!==(u=r.currentDocument).updateTime?a1.updateTime(_1(u.updateTime)):void 0!==u.exists?a1.exists(u.exists):a1.none():a1.none(),o=r.updateTransforms?r.updateTransforms.map(u=>function(f,v){let x=null;"setToServerValue"in v?(bt("REQUEST_TIME"===v.setToServerValue),x=new Ga):"appendMissingElements"in v?x=new ys(v.appendMissingElements.values||[]):"removeAllFromArray"in v?x=new Wa(v.removeAllFromArray.values||[]):"increment"in v?x=new Kc(f,v.increment):st();const S=V1.fromServerFormat(v.fieldPath);return new Yc(S,x)}(s,u)):[];var u;if(r.update){const u=_s(s,r.update.name),f=new o1({mapValue:{fields:r.update.fields}});if(r.updateMask){const v=new Oc((r.updateMask.fieldPaths||[]).map(L=>V1.fromServerFormat(L)));return new qa(u,f,v,i,o)}return new w3(u,f,i,o)}if(r.delete){const u=_s(s,r.delete);return new $u(u,i)}if(r.verify){const u=_s(s,r.verify);return new Qc(u,i)}return st()}function N3(s,r){return{documents:[Dd(s,r.path)]}}function rg(s,r){const i={structuredQuery:{}},o=r.path;null!==r.collectionGroup?(i.parent=Dd(s,o),i.structuredQuery.from=[{collectionId:r.collectionGroup,allDescendants:!0}]):(i.parent=Dd(s,o.popLast()),i.structuredQuery.from=[{collectionId:o.lastSegment()}]);const u=function(x){if(0===x.length)return;const S=x.map(L=>function(P){if("=="===P.op){if(G_(P.value))return{unaryFilter:{field:t4(P.field),op:"IS_NAN"}};if($_(P.value))return{unaryFilter:{field:t4(P.field),op:"IS_NULL"}}}else if("!="===P.op){if(G_(P.value))return{unaryFilter:{field:t4(P.field),op:"IS_NOT_NAN"}};if($_(P.value))return{unaryFilter:{field:t4(P.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:t4(P.field),op:uC(P.op),value:P.value}}}(L));return 1===S.length?S[0]:{compositeFilter:{op:"AND",filters:S}}}(r.filters);u&&(i.structuredQuery.where=u);const f=function(x){if(0!==x.length)return x.map(S=>{return{field:t4((L=S).field),direction:og(L.dir)};var L})}(r.orderBy);f&&(i.structuredQuery.orderBy=f);const v=(S=r.limit,s.D||Ba(S)?S:{value:S});var S;return null!==v&&(i.structuredQuery.limit=v),r.startAt&&(i.structuredQuery.startAt=qu(r.startAt)),r.endAt&&(i.structuredQuery.endAt=qu(r.endAt)),i}function ig(s){let r=e4(s.parent);const i=s.structuredQuery,o=i.from?i.from.length:0;let u=null;if(o>0){bt(1===o);const P=i.from[0];P.allDescendants?u=P.collectionId:r=r.child(P.collectionId)}let f=[];i.where&&(f=Td(i.where));let v=[];i.orderBy&&(v=i.orderBy.map(P=>{return new go(Ya((W=P).field),function(he){switch(he){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(W.direction));var W}));let x=null;i.limit&&(x=function(P){let W;return W="object"==typeof P?P.value:P,Ba(W)?null:W}(i.limit));let S=null;i.startAt&&(S=Nd(i.startAt));let L=null;return i.endAt&&(L=Nd(i.endAt)),km(r,u,v,f,x,"F",S,L)}function Td(s){return s?void 0!==s.unaryFilter?[ag(s)]:void 0!==s.fieldFilter?[hC(s)]:void 0!==s.compositeFilter?s.compositeFilter.filters.map(r=>Td(r)).reduce((r,i)=>r.concat(i)):st():[]}function qu(s){return{before:s.before,values:s.position}}function Nd(s){return new $c(s.values||[],!!s.before)}function og(s){return Yb[s]}function uC(s){return sC[s]}function t4(s){return{fieldPath:s.canonicalString()}}function Ya(s){return V1.fromServerFormat(s.fieldPath)}function hC(s){return lr.create(Ya(s.fieldFilter.field),function(r){switch(r){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":default:return st()}}(s.fieldFilter.op),s.fieldFilter.value)}function ag(s){switch(s.unaryFilter.op){case"IS_NAN":const r=Ya(s.unaryFilter.field);return lr.create(r,"==",{doubleValue:NaN});case"IS_NULL":const i=Ya(s.unaryFilter.field);return lr.create(i,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const o=Ya(s.unaryFilter.field);return lr.create(o,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const u=Ya(s.unaryFilter.field);return lr.create(u,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":default:return st()}}function Ku(s){const r=[];return s.fields.forEach(i=>r.push(i.canonicalString())),{fieldPaths:r}}function z3(s){return s.length>=4&&"projects"===s.get(0)&&"databases"===s.get(2)}function I2(s){let r="";for(let i=0;i<s.length;i++)r.length>0&&(r=Xt(r)),r=L3(s.get(i),r);return Xt(r)}function L3(s,r){let i=r;const o=s.length;for(let u=0;u<o;u++){const f=s.charAt(u);switch(f){case"\0":i+="\x01\x10";break;case"\x01":i+="\x01\x11";break;default:i+=f}}return i}function Xt(s){return s+"\x01\x01"}function q1(s){const r=s.length;if(bt(r>=2),2===r)return bt("\x01"===s.charAt(0)&&"\x01"===s.charAt(1)),Gt.emptyPath();const i=r-2,o=[];let u="";for(let f=0;f<r;){const v=s.indexOf("\x01",f);switch((v<0||v>i)&&st(),s.charAt(v+1)){case"\x01":const x=s.substring(f,v);let S;0===u.length?S=x:(u+=x,S=u,u=""),o.push(S);break;case"\x10":u+=s.substring(f,v),u+="\0";break;case"\x11":u+=s.substring(f,v+1);break;default:st()}f=v+2}return new Gt(o)}class n4{constructor(r,i){this.seconds=r,this.nanoseconds=i}}class R1{constructor(r,i,o){this.ownerId=r,this.allowTabSynchronization=i,this.leaseTimestampMs=o}}R1.store="owner",R1.key="owner";class Qa{constructor(r,i,o){this.userId=r,this.lastAcknowledgedBatchId=i,this.lastStreamToken=o}}Qa.store="mutationQueues",Qa.keyPath="userId";class tt{constructor(r,i,o,u,f){this.userId=r,this.batchId=i,this.localWriteTimeMs=o,this.baseMutations=u,this.mutations=f}}tt.store="mutations",tt.keyPath="batchId",tt.userMutationsIndex="userMutationsIndex",tt.userMutationsKeyPath=["userId","batchId"];class ln{constructor(){}static prefixForUser(r){return[r]}static prefixForPath(r,i){return[r,I2(i)]}static key(r,i,o){return[r,I2(i),o]}}ln.store="documentMutations",ln.PLACEHOLDER=new ln;class zd{constructor(r,i){this.path=r,this.readTime=i}}class Ja{constructor(r,i){this.path=r,this.version=i}}class Gn{constructor(r,i,o,u,f,v){this.unknownDocument=r,this.noDocument=i,this.document=o,this.hasCommittedMutations=u,this.readTime=f,this.parentPath=v}}Gn.store="remoteDocuments",Gn.readTimeIndex="readTimeIndex",Gn.readTimeIndexPath="readTime",Gn.collectionReadTimeIndex="collectionReadTimeIndex",Gn.collectionReadTimeIndexPath=["parentPath","readTime"];class Bi{constructor(r){this.byteSize=r}}Bi.store="remoteDocumentGlobal",Bi.key="remoteDocumentGlobalKey";class ur{constructor(r,i,o,u,f,v,x){this.targetId=r,this.canonicalId=i,this.readTime=o,this.resumeToken=u,this.lastListenSequenceNumber=f,this.lastLimboFreeSnapshotVersion=v,this.query=x}}ur.store="targets",ur.keyPath="targetId",ur.queryTargetsIndexName="queryTargetsIndex",ur.queryTargetsKeyPath=["canonicalId","targetId"];class K1{constructor(r,i,o){this.targetId=r,this.path=i,this.sequenceNumber=o}}K1.store="targetDocuments",K1.keyPath=["targetId","path"],K1.documentTargetsIndex="documentTargetsIndex",K1.documentTargetsKeyPath=["path","targetId"];class Xr{constructor(r,i,o,u){this.highestTargetId=r,this.highestListenSequenceNumber=i,this.lastRemoteSnapshotVersion=o,this.targetCount=u}}Xr.key="targetGlobalKey",Xr.store="targetGlobal";class Xa{constructor(r,i){this.collectionId=r,this.parent=i}}Xa.store="collectionParents",Xa.keyPath=["collectionId","parent"];class Xn{constructor(r,i,o,u){this.clientId=r,this.updateTimeMs=i,this.networkEnabled=o,this.inForeground=u}}Xn.store="clientMetadata",Xn.keyPath="clientId";class rn{constructor(r,i,o){this.bundleId=r,this.createTime=i,this.version=o}}rn.store="bundles",rn.keyPath="bundleId";class Y1{constructor(r,i,o){this.name=r,this.readTime=i,this.bundledQuery=o}}Y1.store="namedQueries",Y1.keyPath="name";const cg=[Qa.store,tt.store,ln.store,Gn.store,ur.store,R1.store,Xr.store,K1.store,Xn.store,Bi.store,Xa.store,rn.store,Y1.store],lg="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class Ld{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(r){this.onCommittedListeners.push(r)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(r=>r())}}class Be{constructor(r){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,r(i=>{this.isDone=!0,this.result=i,this.nextCallback&&this.nextCallback(i)},i=>{this.isDone=!0,this.error=i,this.catchCallback&&this.catchCallback(i)})}catch(r){return this.next(void 0,r)}next(r,i){return this.callbackAttached&&st(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(i,this.error):this.wrapSuccess(r,this.result):new Be((o,u)=>{this.nextCallback=f=>{this.wrapSuccess(r,f).next(o,u)},this.catchCallback=f=>{this.wrapFailure(i,f).next(o,u)}})}toPromise(){return new Promise((r,i)=>{this.next(r,i)})}wrapUserFunction(r){try{const i=r();return i instanceof Be?i:Be.resolve(i)}catch(i){return Be.reject(i)}}wrapSuccess(r,i){return r?this.wrapUserFunction(()=>r(i)):Be.resolve(i)}wrapFailure(r,i){return r?this.wrapUserFunction(()=>r(i)):Be.reject(i)}static resolve(r){return new Be((i,o)=>{i(r)})}static reject(r){return new Be((i,o)=>{o(r)})}static waitFor(r){return new Be((i,o)=>{let u=0,f=0,v=!1;r.forEach(x=>{++u,x.next(()=>{++f,v&&f===u&&i()},S=>o(S))}),v=!0,f===u&&i()})}static or(r){let i=Be.resolve(!1);for(const o of r)i=i.next(u=>u?Be.resolve(u):o());return i}static forEach(r,i){const o=[];return r.forEach((u,f)=>{o.push(i.call(this,u,f))}),this.waitFor(o)}}class Cs{constructor(r,i){this.action=r,this.transaction=i,this.aborted=!1,this.Tt=new z1,this.transaction.oncomplete=()=>{this.Tt.resolve()},this.transaction.onabort=()=>{i.error?this.Tt.reject(new ji(r,i.error)):this.Tt.resolve()},this.transaction.onerror=o=>{const u=V3(o.target.error);this.Tt.reject(new ji(r,u))}}static open(r,i,o,u){try{return new Cs(i,r.transaction(u,o))}catch(f){throw new ji(i,f)}}get It(){return this.Tt.promise}abort(r){r&&this.Tt.reject(r),this.aborted||(Ke("SimpleDb","Aborting transaction:",r?r.message:"Client-initiated abort"),this.aborted=!0,this.transaction.abort())}store(r){const i=this.transaction.objectStore(r);return new ug(i)}}class hr{constructor(r,i,o){this.name=r,this.version=i,this.At=o,12.2===hr.Rt((0,$t.z$)())&&$n("Firestore persistence suffers from a bug in iOS 12.2 Safari that may cause your app to stop working. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.")}static delete(r){return Ke("SimpleDb","Removing database:",r),xs(window.indexedDB.deleteDatabase(r)).toPromise()}static Pt(){if("undefined"==typeof indexedDB)return!1;if(hr.bt())return!0;const r=(0,$t.z$)(),i=hr.Rt(r),o=0<i&&i<10,u=hr.vt(r),f=0<u&&u<4.5;return!(r.indexOf("MSIE ")>0||r.indexOf("Trident/")>0||r.indexOf("Edge/")>0||o||f)}static bt(){var r;return"undefined"!=typeof process&&"YES"===(null===(r=process.env)||void 0===r?void 0:r.Vt)}static St(r,i){return r.store(i)}static Rt(r){const i=r.match(/i(?:phone|pad|pod) os ([\d_]+)/i),o=i?i[1].split("_").slice(0,2).join("."):"-1";return Number(o)}static vt(r){const i=r.match(/Android ([\d.]+)/i),o=i?i[1].split(".").slice(0,2).join("."):"-1";return Number(o)}Dt(r){var i=this;return(0,Ae.Z)(function*(){return i.db||(Ke("SimpleDb","Opening database:",i.name),i.db=yield new Promise((o,u)=>{const f=indexedDB.open(i.name,i.version);f.onsuccess=v=>{o(v.target.result)},f.onblocked=()=>{u(new ji(r,"Cannot upgrade IndexedDB schema while another tab is open. Close all tabs that access Firestore and reload this page to proceed."))},f.onerror=v=>{const x=v.target.error;u("VersionError"===x.name?new je(Te.FAILED_PRECONDITION,"A newer version of the Firestore SDK was previously used and so the persisted data is not compatible with the version of the SDK you are now using. The SDK will operate with persistence disabled. If you need persistence, please re-upgrade to a newer version of the SDK or else clear the persisted IndexedDB data for your app to start fresh."):new ji(r,x))},f.onupgradeneeded=v=>{Ke("SimpleDb",'Database "'+i.name+'" requires upgrade from version:',v.oldVersion),i.At.Ct(v.target.result,f.transaction,v.oldVersion,i.version).next(()=>{Ke("SimpleDb","Database upgrade to version "+i.version+" complete")})}})),i.Nt&&(i.db.onversionchange=o=>i.Nt(o)),i.db})()}xt(r){this.Nt=r,this.db&&(this.db.onversionchange=i=>r(i))}runTransaction(r,i,o,u){var f=this;return(0,Ae.Z)(function*(){const v="readonly"===i;let x=0;for(;;){++x;try{f.db=yield f.Dt(r);const S=Cs.open(f.db,r,v?"readonly":"readwrite",o),L=u(S).catch(P=>(S.abort(P),Be.reject(P))).toPromise();return L.catch(()=>{}),yield S.It,L}catch(S){const L="FirebaseError"!==S.name&&x<3;if(Ke("SimpleDb","Transaction failed with error:",S.message,"Retrying:",L),f.close(),!L)return Promise.reject(S)}}})()}close(){this.db&&this.db.close(),this.db=void 0}}class fC{constructor(r){this.kt=r,this.$t=!1,this.Ot=null}get isDone(){return this.$t}get Ft(){return this.Ot}set cursor(r){this.kt=r}done(){this.$t=!0}Mt(r){this.Ot=r}delete(){return xs(this.kt.delete())}}class ji extends je{constructor(r,i){super(Te.UNAVAILABLE,`IndexedDB transaction '${r}' failed: ${i}`),this.name="IndexedDbTransactionError"}}function e0(s){return"IndexedDbTransactionError"===s.name}class ug{constructor(r){this.store=r}put(r,i){let o;return void 0!==i?(Ke("SimpleDb","PUT",this.store.name,r,i),o=this.store.put(i,r)):(Ke("SimpleDb","PUT",this.store.name,"<auto-key>",r),o=this.store.put(r)),xs(o)}add(r){return Ke("SimpleDb","ADD",this.store.name,r,r),xs(this.store.add(r))}get(r){return xs(this.store.get(r)).next(i=>(void 0===i&&(i=null),Ke("SimpleDb","GET",this.store.name,r,i),i))}delete(r){return Ke("SimpleDb","DELETE",this.store.name,r),xs(this.store.delete(r))}count(){return Ke("SimpleDb","COUNT",this.store.name),xs(this.store.count())}Lt(r,i){const o=this.cursor(this.options(r,i)),u=[];return this.Bt(o,(f,v)=>{u.push(v)}).next(()=>u)}Ut(r,i){Ke("SimpleDb","DELETE ALL",this.store.name);const o=this.options(r,i);o.qt=!1;const u=this.cursor(o);return this.Bt(u,(f,v,x)=>x.delete())}Kt(r,i){let o;i?o=r:(o={},i=r);const u=this.cursor(o);return this.Bt(u,i)}jt(r){const i=this.cursor({});return new Be((o,u)=>{i.onerror=f=>{const v=V3(f.target.error);u(v)},i.onsuccess=f=>{const v=f.target.result;v?r(v.primaryKey,v.value).next(x=>{x?v.continue():o()}):o()}})}Bt(r,i){const o=[];return new Be((u,f)=>{r.onerror=v=>{f(v.target.error)},r.onsuccess=v=>{const x=v.target.result;if(!x)return void u();const S=new fC(x),L=i(x.primaryKey,x.value,S);if(L instanceof Be){const P=L.catch(W=>(S.done(),Be.reject(W)));o.push(P)}S.isDone?u():null===S.Ft?x.continue():x.continue(S.Ft)}}).next(()=>Be.waitFor(o))}options(r,i){let o;return void 0!==r&&("string"==typeof r?o=r:i=r),{index:o,range:i}}cursor(r){let i="next";if(r.reverse&&(i="prev"),r.index){const o=this.store.index(r.index);return r.qt?o.openKeyCursor(r.range,i):o.openCursor(r.range,i)}return this.store.openCursor(r.range,i)}}function xs(s){return new Be((r,i)=>{s.onsuccess=o=>{r(o.target.result)},s.onerror=o=>{const u=V3(o.target.error);i(u)}})}let r4=!1;function V3(s){const r=hr.Rt((0,$t.z$)());if(r>=12.2&&r<13){const i="An internal error was encountered in the Indexed Database server";if(s.message.indexOf(i)>=0){const o=new je("internal",`IOS_INDEXEDDB_BUG1: IndexedDb has thrown '${i}'. This is likely due to an unavoidable bug in iOS. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.`);return r4||(r4=!0,setTimeout(()=>{throw o},0)),o}}return s}class Vd extends Ld{constructor(r,i){super(),this.Qt=r,this.currentSequenceNumber=i}}function l1(s,r){const i=Ye(s);return hr.St(i.Qt,r)}class Rd{constructor(r,i,o,u){this.batchId=r,this.localWriteTime=i,this.baseMutations=o,this.mutations=u}applyToRemoteDocument(r,i){const o=i.mutationResults;for(let u=0;u<this.mutations.length;u++){const f=this.mutations[u];f.key.isEqual(r.key)&&Kb(f,r,o[u])}}applyToLocalView(r){for(const i of this.baseMutations)i.key.isEqual(r.key)&&b3(i,r,this.localWriteTime);for(const i of this.mutations)i.key.isEqual(r.key)&&b3(i,r,this.localWriteTime)}applyToLocalDocumentSet(r){this.mutations.forEach(i=>{const o=r.get(i.key),u=o;this.applyToLocalView(u),o.isValidDocument()||u.convertToNoDocument(Dt.min())})}keys(){return this.mutations.reduce((r,i)=>r.add(i.key),en())}isEqual(r){return this.batchId===r.batchId&&ms(this.mutations,r.mutations,(i,o)=>Gm(i,o))&&ms(this.baseMutations,r.baseMutations,(i,o)=>Gm(i,o))}}class i4{constructor(r,i,o,u){this.batch=r,this.commitVersion=i,this.mutationResults=o,this.docVersions=u}static from(r,i,o){bt(r.mutations.length===o.length);let u=Ad();const f=r.mutations;for(let v=0;v<f.length;v++)u=u.insert(f[v].key,o[v].version);return new i4(r,i,o,u)}}class bs{constructor(r,i,o,u,f=Dt.min(),v=Dt.min(),x=Un.EMPTY_BYTE_STRING){this.target=r,this.targetId=i,this.purpose=o,this.sequenceNumber=u,this.snapshotVersion=f,this.lastLimboFreeSnapshotVersion=v,this.resumeToken=x}withSequenceNumber(r){return new bs(this.target,this.targetId,this.purpose,r,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken)}withResumeToken(r,i){return new bs(this.target,this.targetId,this.purpose,this.sequenceNumber,i,this.lastLimboFreeSnapshotVersion,r)}withLastLimboFreeSnapshotVersion(r){return new bs(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,r,this.resumeToken)}}class kd{constructor(r){this.Wt=r}}function Yu(s,r){if(r.document)return T3(s.Wt,r.document,!!r.hasCommittedMutations);if(r.noDocument){const i=lt.fromSegments(r.noDocument.path),o=k3(r.noDocument.readTime),u=En.newNoDocument(i,o);return r.hasCommittedMutations?u.setHasCommittedMutations():u}if(r.unknownDocument){const i=lt.fromSegments(r.unknownDocument.path),o=k3(r.unknownDocument.version);return En.newUnknownDocument(i,o)}return st()}function R3(s,r,i){const o=Od(i),u=r.key.path.popLast().toArray();if(r.isFoundDocument()){const f={name:I3(x=s.Wt,(S=r).key),fields:S.data.value.mapValue.fields,updateTime:S3(x,S.version.toTimestamp())};return new Gn(null,null,f,r.hasCommittedMutations,o,u)}var x,S;if(r.isNoDocument()){const f=r.key.path.toArray(),v=yo(r.version),x=r.hasCommittedMutations;return new Gn(null,new zd(f,v),null,x,o,u)}if(r.isUnknownDocument()){const f=r.key.path.toArray(),v=yo(r.version);return new Gn(new Ja(f,v),null,null,!0,o,u)}return st()}function Od(s){const r=s.toTimestamp();return[r.seconds,r.nanoseconds]}function Qu(s){const r=new L1(s[0],s[1]);return Dt.fromTimestamp(r)}function yo(s){const r=s.toTimestamp();return new n4(r.seconds,r.nanoseconds)}function k3(s){const r=new L1(s.seconds,s.nanoseconds);return Dt.fromTimestamp(r)}function O3(s,r){const i=(r.baseMutations||[]).map(f=>cC(s.Wt,f));for(let f=0;f<r.mutations.length-1;++f){const v=r.mutations[f];f+1<r.mutations.length&&void 0!==r.mutations[f+1].transform&&(v.updateTransforms=r.mutations[f+1].transform.fieldTransforms,r.mutations.splice(f+1,1),++f)}const o=r.mutations.map(f=>cC(s.Wt,f)),u=L1.fromMillis(r.localWriteTimeMs);return new Rd(r.batchId,u,i,o)}function yt(s){const r=k3(s.readTime),i=void 0!==s.lastLimboFreeSnapshotVersion?k3(s.lastLimboFreeSnapshotVersion):Dt.min();let o;var u;return void 0!==s.query.documents?(bt(1===(u=s.query).documents.length),o=di(Gc(e4(u.documents[0])))):o=di(ig(s.query)),new bs(o,s.targetId,0,s.lastListenSequenceNumber,r,i,Un.fromBase64String(s.resumeToken))}function dC(s,r){const i=yo(r.snapshotVersion),o=yo(r.lastLimboFreeSnapshotVersion);let u;u=Ru(r.target)?N3(s.Wt,r.target):rg(s.Wt,r.target);const f=r.resumeToken.toBase64();return new ur(r.targetId,C3(r.target),i,f,r.sequenceNumber,o,u)}function t0(s){const r=ig({parent:s.parent,structuredQuery:s.structuredQuery});return"LAST"===s.limitType?Om(r,r.limit,"L"):r}class pC{getBundleMetadata(r,i){return hg(r).get(i).next(o=>{if(o)return{id:(u=o).bundleId,createTime:k3(u.createTime),version:u.version};var u})}saveBundleMetadata(r,i){return hg(r).put({bundleId:(o=i).id,createTime:yo(_1(o.createTime)),version:o.version});var o}getNamedQuery(r,i){return fg(r).get(i).next(o=>{if(o)return{name:(u=o).name,query:t0(u.bundledQuery),readTime:k3(u.readTime)};var u})}saveNamedQuery(r,i){return fg(r).put({name:(o=i).name,readTime:yo(_1(o.readTime)),bundledQuery:o.bundledQuery});var o}}function hg(s){return l1(s,rn.store)}function fg(s){return l1(s,Y1.store)}class Qb{constructor(){this.Gt=new dg}addToCollectionParentIndex(r,i){return this.Gt.add(i),Be.resolve()}getCollectionParents(r,i){return Be.resolve(this.Gt.getEntries(i))}}class dg{constructor(){this.index={}}add(r){const i=r.lastSegment(),o=r.popLast(),u=this.index[i]||new An(Gt.comparator),f=!u.has(o);return this.index[i]=u.add(o),f}has(r){const i=r.lastSegment(),o=r.popLast(),u=this.index[i];return u&&u.has(o)}getEntries(r){return(this.index[r]||new An(Gt.comparator)).toArray()}}class mC{constructor(){this.zt=new dg}addToCollectionParentIndex(r,i){if(!this.zt.has(i)){const o=i.lastSegment(),u=i.popLast();r.addOnCommittedListener(()=>{this.zt.add(i)});const f={collectionId:o,parent:I2(u)};return k1(r).put(f)}return Be.resolve()}getCollectionParents(r,i){const o=[],u=IDBKeyRange.bound([i,""],[Vn(i),""],!1,!0);return k1(r).Lt(u).next(f=>{for(const v of f){if(v.collectionId!==i)break;o.push(q1(v.parent))}return o})}}function k1(s){return l1(s,Xa.store)}const pg={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0};class zr{constructor(r,i,o){this.cacheSizeCollectionThreshold=r,this.percentileToCollect=i,this.maximumSequenceNumbersToCollect=o}static withCacheSize(r){return new zr(r,zr.DEFAULT_COLLECTION_PERCENTILE,zr.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}}function Ju(s,r,i){const o=s.store(tt.store),u=s.store(ln.store),f=[],v=IDBKeyRange.only(i.batchId);let x=0;const S=o.Kt({range:v},(P,W,he)=>(x++,he.delete()));f.push(S.next(()=>{bt(1===x)}));const L=[];for(const P of i.mutations){const W=ln.key(r,P.key.path,i.batchId);f.push(u.delete(W)),L.push(P.key)}return Be.waitFor(f).next(()=>L)}function Xu(s){if(!s)return 0;let r;if(s.document)r=s.document;else if(s.unknownDocument)r=s.unknownDocument;else{if(!s.noDocument)throw st();r=s.noDocument}return JSON.stringify(r).length}zr.DEFAULT_COLLECTION_PERCENTILE=10,zr.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,zr.DEFAULT=new zr(41943040,zr.DEFAULT_COLLECTION_PERCENTILE,zr.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),zr.DISABLED=new zr(-1,0,0);class Pd{constructor(r,i,o,u){this.userId=r,this.N=i,this.Ht=o,this.referenceDelegate=u,this.Jt={}}static Yt(r,i,o,u){bt(""!==r.uid);const f=r.isAuthenticated()?r.uid:"";return new Pd(f,i,o,u)}checkEmpty(r){let i=!0;const o=IDBKeyRange.bound([this.userId,Number.NEGATIVE_INFINITY],[this.userId,Number.POSITIVE_INFINITY]);return _o(r).Kt({index:tt.userMutationsIndex,range:o},(u,f,v)=>{i=!1,v.done()}).next(()=>i)}addMutationBatch(r,i,o,u){const f=s4(r),v=_o(r);return v.add({}).next(x=>{bt("number"==typeof x);const S=new Rd(x,i,o,u),L=function(he,fe,Ee){const $e=Ee.baseMutations.map(Xe=>Zu(he.Wt,Xe)),Ze=Ee.mutations.map(Xe=>Zu(he.Wt,Xe));return new tt(fe,Ee.batchId,Ee.localWriteTime.toMillis(),$e,Ze)}(this.N,this.userId,S),P=[];let W=new An((he,fe)=>Vt(he.canonicalString(),fe.canonicalString()));for(const he of u){const fe=ln.key(this.userId,he.key.path,x);W=W.add(he.key.path.popLast()),P.push(v.put(L)),P.push(f.put(fe,ln.PLACEHOLDER))}return W.forEach(he=>{P.push(this.Ht.addToCollectionParentIndex(r,he))}),r.addOnCommittedListener(()=>{this.Jt[x]=S.keys()}),Be.waitFor(P).next(()=>S)})}lookupMutationBatch(r,i){return _o(r).get(i).next(o=>o?(bt(o.userId===this.userId),O3(this.N,o)):null)}Xt(r,i){return this.Jt[i]?Be.resolve(this.Jt[i]):this.lookupMutationBatch(r,i).next(o=>{if(o){const u=o.keys();return this.Jt[i]=u,u}return null})}getNextMutationBatchAfterBatchId(r,i){const o=i+1,u=IDBKeyRange.lowerBound([this.userId,o]);let f=null;return _o(r).Kt({index:tt.userMutationsIndex,range:u},(v,x,S)=>{x.userId===this.userId&&(bt(x.batchId>=o),f=O3(this.N,x)),S.done()}).next(()=>f)}getHighestUnacknowledgedBatchId(r){const i=IDBKeyRange.upperBound([this.userId,Number.POSITIVE_INFINITY]);let o=-1;return _o(r).Kt({index:tt.userMutationsIndex,range:i,reverse:!0},(u,f,v)=>{o=f.batchId,v.done()}).next(()=>o)}getAllMutationBatches(r){const i=IDBKeyRange.bound([this.userId,-1],[this.userId,Number.POSITIVE_INFINITY]);return _o(r).Lt(tt.userMutationsIndex,i).next(o=>o.map(u=>O3(this.N,u)))}getAllMutationBatchesAffectingDocumentKey(r,i){const o=ln.prefixForPath(this.userId,i.path),u=IDBKeyRange.lowerBound(o),f=[];return s4(r).Kt({range:u},(v,x,S)=>{const[L,P,W]=v,he=q1(P);if(L===this.userId&&i.path.isEqual(he))return _o(r).get(W).next(fe=>{if(!fe)throw st();bt(fe.userId===this.userId),f.push(O3(this.N,fe))});S.done()}).next(()=>f)}getAllMutationBatchesAffectingDocumentKeys(r,i){let o=new An(Vt);const u=[];return i.forEach(f=>{const v=ln.prefixForPath(this.userId,f.path),x=IDBKeyRange.lowerBound(v),S=s4(r).Kt({range:x},(L,P,W)=>{const[he,fe,Ee]=L,$e=q1(fe);he===this.userId&&f.path.isEqual($e)?o=o.add(Ee):W.done()});u.push(S)}),Be.waitFor(u).next(()=>this.Zt(r,o))}getAllMutationBatchesAffectingQuery(r,i){const o=i.path,u=o.length+1,f=ln.prefixForPath(this.userId,o),v=IDBKeyRange.lowerBound(f);let x=new An(Vt);return s4(r).Kt({range:v},(S,L,P)=>{const[W,he,fe]=S,Ee=q1(he);W===this.userId&&o.isPrefixOf(Ee)?Ee.length===u&&(x=x.add(fe)):P.done()}).next(()=>this.Zt(r,x))}Zt(r,i){const o=[],u=[];return i.forEach(f=>{u.push(_o(r).get(f).next(v=>{if(null===v)throw st();bt(v.userId===this.userId),o.push(O3(this.N,v))}))}),Be.waitFor(u).next(()=>o)}removeMutationBatch(r,i){return Ju(r.Qt,this.userId,i).next(o=>(r.addOnCommittedListener(()=>{this.te(i.batchId)}),Be.forEach(o,u=>this.referenceDelegate.markPotentiallyOrphaned(r,u))))}te(r){delete this.Jt[r]}performConsistencyCheck(r){return this.checkEmpty(r).next(i=>{if(!i)return Be.resolve();const o=IDBKeyRange.lowerBound(ln.prefixForUser(this.userId)),u=[];return s4(r).Kt({range:o},(f,v,x)=>{if(f[0]===this.userId){const S=q1(f[1]);u.push(S)}else x.done()}).next(()=>{bt(0===u.length)})})}containsKey(r,i){return mg(r,this.userId,i)}ee(r){return gg(r).get(this.userId).next(i=>i||new Qa(this.userId,-1,""))}}function mg(s,r,i){const o=ln.prefixForPath(r,i.path),u=o[1],f=IDBKeyRange.lowerBound(o);let v=!1;return s4(s).Kt({range:f,qt:!0},(x,S,L)=>{const[P,W,he]=x;P===r&&W===u&&(v=!0),L.done()}).next(()=>v)}function _o(s){return l1(s,tt.store)}function s4(s){return l1(s,ln.store)}function gg(s){return l1(s,Qa.store)}class ws{constructor(r){this.ne=r}next(){return this.ne+=2,this.ne}static se(){return new ws(0)}static ie(){return new ws(-1)}}class gC{constructor(r,i){this.referenceDelegate=r,this.N=i}allocateTargetId(r){return this.re(r).next(i=>{const o=new ws(i.highestTargetId);return i.highestTargetId=o.next(),this.oe(r,i).next(()=>i.highestTargetId)})}getLastRemoteSnapshotVersion(r){return this.re(r).next(i=>Dt.fromTimestamp(new L1(i.lastRemoteSnapshotVersion.seconds,i.lastRemoteSnapshotVersion.nanoseconds)))}getHighestSequenceNumber(r){return this.re(r).next(i=>i.highestListenSequenceNumber)}setTargetsMetadata(r,i,o){return this.re(r).next(u=>(u.highestListenSequenceNumber=i,o&&(u.lastRemoteSnapshotVersion=o.toTimestamp()),i>u.highestListenSequenceNumber&&(u.highestListenSequenceNumber=i),this.oe(r,u)))}addTargetData(r,i){return this.ae(r,i).next(()=>this.re(r).next(o=>(o.targetCount+=1,this.ce(i,o),this.oe(r,o))))}updateTargetData(r,i){return this.ae(r,i)}removeTargetData(r,i){return this.removeMatchingKeysForTargetId(r,i.targetId).next(()=>o4(r).delete(i.targetId)).next(()=>this.re(r)).next(o=>(bt(o.targetCount>0),o.targetCount-=1,this.oe(r,o)))}removeTargets(r,i,o){let u=0;const f=[];return o4(r).Kt((v,x)=>{const S=yt(x);S.sequenceNumber<=i&&null===o.get(S.targetId)&&(u++,f.push(this.removeTargetData(r,S)))}).next(()=>Be.waitFor(f)).next(()=>u)}forEachTarget(r,i){return o4(r).Kt((o,u)=>{const f=yt(u);i(f)})}re(r){return Hd(r).get(Xr.key).next(i=>(bt(null!==i),i))}oe(r,i){return Hd(r).put(Xr.key,i)}ae(r,i){return o4(r).put(dC(this.N,i))}ce(r,i){let o=!1;return r.targetId>i.highestTargetId&&(i.highestTargetId=r.targetId,o=!0),r.sequenceNumber>i.highestListenSequenceNumber&&(i.highestListenSequenceNumber=r.sequenceNumber,o=!0),o}getTargetCount(r){return this.re(r).next(i=>i.targetCount)}getTargetData(r,i){const o=C3(i),u=IDBKeyRange.bound([o,Number.NEGATIVE_INFINITY],[o,Number.POSITIVE_INFINITY]);let f=null;return o4(r).Kt({range:u,index:ur.queryTargetsIndexName},(v,x,S)=>{const L=yt(x);Vu(i,L.target)&&(f=L,S.done())}).next(()=>f)}addMatchingKeys(r,i,o){const u=[],f=D2(r);return i.forEach(v=>{const x=I2(v.path);u.push(f.put(new K1(o,x))),u.push(this.referenceDelegate.addReference(r,o,v))}),Be.waitFor(u)}removeMatchingKeys(r,i,o){const u=D2(r);return Be.forEach(i,f=>{const v=I2(f.path);return Be.waitFor([u.delete([o,v]),this.referenceDelegate.removeReference(r,o,f)])})}removeMatchingKeysForTargetId(r,i){const o=D2(r),u=IDBKeyRange.bound([i],[i+1],!1,!0);return o.delete(u)}getMatchingKeysForTargetId(r,i){const o=IDBKeyRange.bound([i],[i+1],!1,!0),u=D2(r);let f=en();return u.Kt({range:o,qt:!0},(v,x,S)=>{const L=q1(v[1]),P=new lt(L);f=f.add(P)}).next(()=>f)}containsKey(r,i){const o=I2(i.path),u=IDBKeyRange.bound([o],[Vn(o)],!1,!0);let f=0;return D2(r).Kt({index:K1.documentTargetsIndex,qt:!0,range:u},([v,x],S,L)=>{0!==v&&(f++,L.done())}).next(()=>f>0)}Et(r,i){return o4(r).get(i).next(o=>o?yt(o):null)}}function o4(s){return l1(s,ur.store)}function Hd(s){return l1(s,Xr.store)}function D2(s){return l1(s,K1.store)}function n0(s){return vg.apply(this,arguments)}function vg(){return(vg=(0,Ae.Z)(function*(s){if(s.code!==Te.FAILED_PRECONDITION||s.message!==lg)throw s;Ke("LocalStore","Unexpectedly lost primary lease")})).apply(this,arguments)}function yg([s,r],[i,o]){const u=Vt(s,i);return 0===u?Vt(r,o):u}class vC{constructor(r){this.ue=r,this.buffer=new An(yg),this.he=0}le(){return++this.he}fe(r){const i=[r,this.le()];if(this.buffer.size<this.ue)this.buffer=this.buffer.add(i);else{const o=this.buffer.last();yg(i,o)<0&&(this.buffer=this.buffer.delete(o).add(i))}}get maxValue(){return this.buffer.last()[0]}}class yC{constructor(r,i){this.garbageCollector=r,this.asyncQueue=i,this.de=!1,this.we=null}start(r){-1!==this.garbageCollector.params.cacheSizeCollectionThreshold&&this._e(r)}stop(){this.we&&(this.we.cancel(),this.we=null)}get started(){return null!==this.we}_e(r){var i=this;const o=this.de?3e5:6e4;Ke("LruGarbageCollector",`Garbage collection scheduled in ${o}ms`),this.we=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",o,(0,Ae.Z)(function*(){i.we=null,i.de=!0;try{yield r.collectGarbage(i.garbageCollector)}catch(u){e0(u)?Ke("LruGarbageCollector","Ignoring IndexedDB error during garbage collection: ",u):yield n0(u)}yield i._e(r)}))}}class _C{constructor(r,i){this.me=r,this.params=i}calculateTargetCount(r,i){return this.me.ge(r).next(o=>Math.floor(i/100*o))}nthSequenceNumber(r,i){if(0===i)return Be.resolve(Jr.T);const o=new vC(i);return this.me.forEachTarget(r,u=>o.fe(u.sequenceNumber)).next(()=>this.me.ye(r,u=>o.fe(u))).next(()=>o.maxValue)}removeTargets(r,i,o){return this.me.removeTargets(r,i,o)}removeOrphanedDocuments(r,i){return this.me.removeOrphanedDocuments(r,i)}collect(r,i){return-1===this.params.cacheSizeCollectionThreshold?(Ke("LruGarbageCollector","Garbage collection skipped; disabled"),Be.resolve(pg)):this.getCacheSize(r).next(o=>o<this.params.cacheSizeCollectionThreshold?(Ke("LruGarbageCollector",`Garbage collection skipped; Cache size ${o} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),pg):this.pe(r,i))}getCacheSize(r){return this.me.getCacheSize(r)}pe(r,i){let o,u,f,v,x,S,L;const P=Date.now();return this.calculateTargetCount(r,this.params.percentileToCollect).next(W=>(W>this.params.maximumSequenceNumbersToCollect?(Ke("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${W}`),u=this.params.maximumSequenceNumbersToCollect):u=W,v=Date.now(),this.nthSequenceNumber(r,u))).next(W=>(o=W,x=Date.now(),this.removeTargets(r,o,i))).next(W=>(f=W,S=Date.now(),this.removeOrphanedDocuments(r,o))).next(W=>(L=Date.now(),Su()<=ar.in.DEBUG&&Ke("LruGarbageCollector",`LRU Garbage Collection\n\tCounted targets in ${v-P}ms\n\tDetermined least recently used ${u} in `+(x-v)+`ms\n\tRemoved ${f} targets in `+(S-x)+`ms\n\tRemoved ${W} documents in `+(L-S)+`ms\nTotal Duration: ${L-P}ms`),Be.resolve({didRun:!0,sequenceNumbersCollected:u,targetsRemoved:f,documentsRemoved:W})))}}class CC{constructor(r,i){this.db=r,this.garbageCollector=new _C(this,i)}ge(r){const i=this.Ee(r);return this.db.getTargetCache().getTargetCount(r).next(o=>i.next(u=>o+u))}Ee(r){let i=0;return this.ye(r,o=>{i++}).next(()=>i)}forEachTarget(r,i){return this.db.getTargetCache().forEachTarget(r,i)}ye(r,i){return this.Te(r,(o,u)=>i(u))}addReference(r,i,o){return e5(r,o)}removeReference(r,i,o){return e5(r,o)}removeTargets(r,i,o){return this.db.getTargetCache().removeTargets(r,i,o)}markPotentiallyOrphaned(r,i){return e5(r,i)}Ie(r,i){return function(o,u){let f=!1;return gg(o).jt(v=>mg(o,v,u).next(x=>(x&&(f=!0),Be.resolve(!x)))).next(()=>f)}(r,i)}removeOrphanedDocuments(r,i){const o=this.db.getRemoteDocumentCache().newChangeBuffer(),u=[];let f=0;return this.Te(r,(v,x)=>{if(x<=i){const S=this.Ie(r,v).next(L=>{if(!L)return f++,o.getEntry(r,v).next(()=>(o.removeEntry(v),D2(r).delete([0,I2(v.path)])))});u.push(S)}}).next(()=>Be.waitFor(u)).next(()=>o.apply(r)).next(()=>f)}removeTarget(r,i){const o=i.withSequenceNumber(r.currentSequenceNumber);return this.db.getTargetCache().updateTargetData(r,o)}updateLimboDocument(r,i){return e5(r,i)}Te(r,i){const o=D2(r);let u,f=Jr.T;return o.Kt({index:K1.documentTargetsIndex},([v,x],{path:S,sequenceNumber:L})=>{0===v?(f!==Jr.T&&i(new lt(q1(u)),f),f=L,u=S):f=Jr.T}).next(()=>{f!==Jr.T&&i(new lt(q1(u)),f)})}getCacheSize(r){return this.db.getRemoteDocumentCache().getSize(r)}}function e5(s,r){return D2(s).put((o=s.currentSequenceNumber,new K1(0,I2(r.path),o)));var o}class T2{constructor(r,i){this.mapKeyFn=r,this.equalsFn=i,this.inner={}}get(r){const i=this.mapKeyFn(r),o=this.inner[i];if(void 0!==o)for(const[u,f]of o)if(this.equalsFn(u,r))return f}has(r){return void 0!==this.get(r)}set(r,i){const o=this.mapKeyFn(r),u=this.inner[o];if(void 0!==u){for(let f=0;f<u.length;f++)if(this.equalsFn(u[f][0],r))return void(u[f]=[r,i]);u.push([r,i])}else this.inner[o]=[[r,i]]}delete(r){const i=this.mapKeyFn(r),o=this.inner[i];if(void 0===o)return!1;for(let u=0;u<o.length;u++)if(this.equalsFn(o[u][0],r))return 1===o.length?delete this.inner[i]:o.splice(u,1),!0;return!1}forEach(r){Ua(this.inner,(i,o)=>{for(const[u,f]of o)r(u,f)})}isEmpty(){return cd(this.inner)}}class _g{constructor(){this.changes=new T2(r=>r.toString(),(r,i)=>r.isEqual(i)),this.changesApplied=!1}getReadTime(r){const i=this.changes.get(r);return i?i.readTime:Dt.min()}addEntry(r,i){this.assertNotApplied(),this.changes.set(r.key,{document:r,readTime:i})}removeEntry(r,i=null){this.assertNotApplied(),this.changes.set(r,{document:En.newInvalidDocument(r),readTime:i})}getEntry(r,i){this.assertNotApplied();const o=this.changes.get(i);return void 0!==o?Be.resolve(o.document):this.getFromCache(r,i)}getEntries(r,i){return this.getAllFromCache(r,i)}apply(r){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(r)}assertNotApplied(){}}class xC{constructor(r,i){this.N=r,this.Ht=i}addEntry(r,i,o){return r0(r).put(P3(i),o)}removeEntry(r,i){const o=r0(r),u=P3(i);return o.delete(u)}updateMetadata(r,i){return this.getMetadata(r).next(o=>(o.byteSize+=i,this.Ae(r,o)))}getEntry(r,i){return r0(r).get(P3(i)).next(o=>this.Re(i,o))}Pe(r,i){return r0(r).get(P3(i)).next(o=>({document:this.Re(i,o),size:Xu(o)}))}getEntries(r,i){let o=Ui();return this.be(r,i,(u,f)=>{const v=this.Re(u,f);o=o.insert(u,v)}).next(()=>o)}ve(r,i){let o=Ui(),u=new c1(lt.comparator);return this.be(r,i,(f,v)=>{const x=this.Re(f,v);o=o.insert(f,x),u=u.insert(f,Xu(v))}).next(()=>({documents:o,Ve:u}))}be(r,i,o){if(i.isEmpty())return Be.resolve();const u=IDBKeyRange.bound(i.first().path.toArray(),i.last().path.toArray()),f=i.getIterator();let v=f.getNext();return r0(r).Kt({range:u},(x,S,L)=>{const P=lt.fromSegments(x);for(;v&&lt.comparator(v,P)<0;)o(v,null),v=f.getNext();v&&v.isEqual(P)&&(o(v,S),v=f.hasNext()?f.getNext():null),v?L.Mt(v.path.toArray()):L.done()}).next(()=>{for(;v;)o(v,null),v=f.hasNext()?f.getNext():null})}getDocumentsMatchingQuery(r,i,o){let u=Ui();const f=i.path.length+1,v={};if(o.isEqual(Dt.min())){const x=i.path.toArray();v.range=IDBKeyRange.lowerBound(x)}else{const x=i.path.toArray(),S=Od(o);v.range=IDBKeyRange.lowerBound([x,S],!0),v.index=Gn.collectionReadTimeIndex}return r0(r).Kt(v,(x,S,L)=>{if(x.length!==f)return;const P=Yu(this.N,S);i.path.isPrefixOf(P.key.path)?qc(i,P)&&(u=u.insert(P.key,P)):L.done()}).next(()=>u)}newChangeBuffer(r){return new Cg(this,!!r&&r.trackRemovals)}getSize(r){return this.getMetadata(r).next(i=>i.byteSize)}getMetadata(r){return a4(r).get(Bi.key).next(i=>(bt(!!i),i))}Ae(r,i){return a4(r).put(Bi.key,i)}Re(r,i){if(i){const o=Yu(this.N,i);if(!o.isNoDocument()||!o.version.isEqual(Dt.min()))return o}return En.newInvalidDocument(r)}}class Cg extends _g{constructor(r,i){super(),this.Se=r,this.trackRemovals=i,this.De=new T2(o=>o.toString(),(o,u)=>o.isEqual(u))}applyChanges(r){const i=[];let o=0,u=new An((f,v)=>Vt(f.canonicalString(),v.canonicalString()));return this.changes.forEach((f,v)=>{const x=this.De.get(f);if(v.document.isValidDocument()){const S=R3(this.Se.N,v.document,this.getReadTime(f));u=u.add(f.path.popLast()),o+=Xu(S)-x,i.push(this.Se.addEntry(r,f,S))}else if(o-=x,this.trackRemovals){const S=R3(this.Se.N,En.newNoDocument(f,Dt.min()),this.getReadTime(f));i.push(this.Se.addEntry(r,f,S))}else i.push(this.Se.removeEntry(r,f))}),u.forEach(f=>{i.push(this.Se.Ht.addToCollectionParentIndex(r,f))}),i.push(this.Se.updateMetadata(r,o)),Be.waitFor(i)}getFromCache(r,i){return this.Se.Pe(r,i).next(o=>(this.De.set(i,o.size),o.document))}getAllFromCache(r,i){return this.Se.ve(r,i).next(({documents:o,Ve:u})=>(u.forEach((f,v)=>{this.De.set(f,v)}),o))}}function a4(s){return l1(s,Bi.store)}function r0(s){return l1(s,Gn.store)}function P3(s){return s.path.toArray()}class bC{constructor(r){this.N=r}Ct(r,i,o,u){bt(o<u&&o>=0&&u<=11);const f=new Cs("createOrUpgrade",i);var x;o<1&&u>=1&&(r.createObjectStore(R1.store),(x=r).createObjectStore(Qa.store,{keyPath:Qa.keyPath}),x.createObjectStore(tt.store,{keyPath:tt.keyPath,autoIncrement:!0}).createIndex(tt.userMutationsIndex,tt.userMutationsKeyPath,{unique:!0}),x.createObjectStore(ln.store),xg(r),function(x){x.createObjectStore(Gn.store)}(r));let v=Be.resolve();return o<3&&u>=3&&(0!==o&&(function(x){x.deleteObjectStore(K1.store),x.deleteObjectStore(ur.store),x.deleteObjectStore(Xr.store)}(r),xg(r)),v=v.next(()=>function(x){const S=x.store(Xr.store),L=new Xr(0,0,Dt.min().toTimestamp(),0);return S.put(Xr.key,L)}(f))),o<4&&u>=4&&(0!==o&&(v=v.next(()=>function(x,S){return S.store(tt.store).Lt().next(L=>{x.deleteObjectStore(tt.store),x.createObjectStore(tt.store,{keyPath:tt.keyPath,autoIncrement:!0}).createIndex(tt.userMutationsIndex,tt.userMutationsKeyPath,{unique:!0});const P=S.store(tt.store),W=L.map(he=>P.put(he));return Be.waitFor(W)})}(r,f))),v=v.next(()=>{!function(x){x.createObjectStore(Xn.store,{keyPath:Xn.keyPath})}(r)})),o<5&&u>=5&&(v=v.next(()=>this.Ce(f))),o<6&&u>=6&&(v=v.next(()=>(function(x){x.createObjectStore(Bi.store)}(r),this.Ne(f)))),o<7&&u>=7&&(v=v.next(()=>this.xe(f))),o<8&&u>=8&&(v=v.next(()=>this.ke(r,f))),o<9&&u>=9&&(v=v.next(()=>{(function(x){x.objectStoreNames.contains("remoteDocumentChanges")&&x.deleteObjectStore("remoteDocumentChanges")})(r),function(x){const S=x.objectStore(Gn.store);S.createIndex(Gn.readTimeIndex,Gn.readTimeIndexPath,{unique:!1}),S.createIndex(Gn.collectionReadTimeIndex,Gn.collectionReadTimeIndexPath,{unique:!1})}(i)})),o<10&&u>=10&&(v=v.next(()=>this.$e(f))),o<11&&u>=11&&(v=v.next(()=>{(function(x){x.createObjectStore(rn.store,{keyPath:rn.keyPath})})(r),function(x){x.createObjectStore(Y1.store,{keyPath:Y1.keyPath})}(r)})),v}Ne(r){let i=0;return r.store(Gn.store).Kt((o,u)=>{i+=Xu(u)}).next(()=>{const o=new Bi(i);return r.store(Bi.store).put(Bi.key,o)})}Ce(r){const i=r.store(Qa.store),o=r.store(tt.store);return i.Lt().next(u=>Be.forEach(u,f=>{const v=IDBKeyRange.bound([f.userId,-1],[f.userId,f.lastAcknowledgedBatchId]);return o.Lt(tt.userMutationsIndex,v).next(x=>Be.forEach(x,S=>{bt(S.userId===f.userId);const L=O3(this.N,S);return Ju(r,f.userId,L).next(()=>{})}))}))}xe(r){const i=r.store(K1.store),o=r.store(Gn.store);return r.store(Xr.store).get(Xr.key).next(u=>{const f=[];return o.Kt((v,x)=>{const S=new Gt(v),L=[0,I2(S)];f.push(i.get(L).next(P=>P?Be.resolve():i.put(new K1(0,I2(S),u.highestListenSequenceNumber))))}).next(()=>Be.waitFor(f))})}ke(r,i){r.createObjectStore(Xa.store,{keyPath:Xa.keyPath});const o=i.store(Xa.store),u=new dg,f=v=>{if(u.add(v)){const x=v.lastSegment(),S=v.popLast();return o.put({collectionId:x,parent:I2(S)})}};return i.store(Gn.store).Kt({qt:!0},(v,x)=>{const S=new Gt(v);return f(S.popLast())}).next(()=>i.store(ln.store).Kt({qt:!0},([v,x,S],L)=>{const P=q1(x);return f(P.popLast())}))}$e(r){const i=r.store(ur.store);return i.Kt((o,u)=>{const f=yt(u),v=dC(this.N,f);return i.put(v)})}}function xg(s){s.createObjectStore(K1.store,{keyPath:K1.keyPath}).createIndex(K1.documentTargetsIndex,K1.documentTargetsKeyPath,{unique:!0}),s.createObjectStore(ur.store,{keyPath:ur.keyPath}).createIndex(ur.queryTargetsIndexName,ur.queryTargetsKeyPath,{unique:!0}),s.createObjectStore(Xr.store)}const Fd="Failed to obtain exclusive access to the persistence layer. To allow shared access, multi-tab synchronization has to be enabled in all tabs. If you are using `experimentalForceOwningTab:true`, make sure that only one tab has persistence enabled at any given time.";class Ud{constructor(r,i,o,u,f,v,x,S,L,P){if(this.allowTabSynchronization=r,this.persistenceKey=i,this.clientId=o,this.Oe=f,this.window=v,this.document=x,this.Fe=L,this.Me=P,this.Le=null,this.Be=!1,this.isPrimary=!1,this.networkEnabled=!0,this.Ue=null,this.inForeground=!1,this.qe=null,this.Ke=null,this.je=Number.NEGATIVE_INFINITY,this.Qe=W=>Promise.resolve(),!Ud.Pt())throw new je(Te.UNIMPLEMENTED,"This platform is either missing IndexedDB or is known to have an incomplete implementation. Offline persistence has been disabled.");this.referenceDelegate=new CC(this,u),this.We=i+"main",this.N=new kd(S),this.Ge=new hr(this.We,11,new bC(this.N)),this.ze=new gC(this.referenceDelegate,this.N),this.Ht=new mC,this.He=new xC(this.N,this.Ht),this.Je=new pC,this.window&&this.window.localStorage?this.Ye=this.window.localStorage:(this.Ye=null,!1===P&&$n("IndexedDbPersistence","LocalStorage is unavailable. As a result, persistence may not work reliably. In particular enablePersistence() could fail immediately after refreshing the page."))}start(){return this.Xe().then(()=>{if(!this.isPrimary&&!this.allowTabSynchronization)throw new je(Te.FAILED_PRECONDITION,Fd);return this.Ze(),this.tn(),this.en(),this.runTransaction("getHighestListenSequenceNumber","readonly",r=>this.ze.getHighestSequenceNumber(r))}).then(r=>{this.Le=new Jr(r,this.Fe)}).then(()=>{this.Be=!0}).catch(r=>(this.Ge&&this.Ge.close(),Promise.reject(r)))}nn(r){var i=this;return this.Qe=function(){var o=(0,Ae.Z)(function*(u){if(i.started)return r(u)});return function(u){return o.apply(this,arguments)}}(),r(this.isPrimary)}setDatabaseDeletedListener(r){this.Ge.xt(function(){var i=(0,Ae.Z)(function*(o){null===o.newVersion&&(yield r())});return function(o){return i.apply(this,arguments)}}())}setNetworkEnabled(r){var i=this;this.networkEnabled!==r&&(this.networkEnabled=r,this.Oe.enqueueAndForget((0,Ae.Z)(function*(){i.started&&(yield i.Xe())})))}Xe(){return this.runTransaction("updateClientMetadataAndTryBecomePrimary","readwrite",r=>F3(r).put(new Xn(this.clientId,Date.now(),this.networkEnabled,this.inForeground)).next(()=>{if(this.isPrimary)return this.sn(r).next(i=>{i||(this.isPrimary=!1,this.Oe.enqueueRetryable(()=>this.Qe(!1)))})}).next(()=>this.rn(r)).next(i=>this.isPrimary&&!i?this.on(r).next(()=>!1):!!i&&this.an(r).next(()=>!0))).catch(r=>{if(e0(r))return Ke("IndexedDbPersistence","Failed to extend owner lease: ",r),this.isPrimary;if(!this.allowTabSynchronization)throw r;return Ke("IndexedDbPersistence","Releasing owner lease after error during lease refresh",r),!1}).then(r=>{this.isPrimary!==r&&this.Oe.enqueueRetryable(()=>this.Qe(r)),this.isPrimary=r})}sn(r){return H3(r).get(R1.key).next(i=>Be.resolve(this.cn(i)))}un(r){return F3(r).delete(this.clientId)}hn(){var r=this;return(0,Ae.Z)(function*(){if(r.isPrimary&&!r.ln(r.je,18e5)){r.je=Date.now();const i=yield r.runTransaction("maybeGarbageCollectMultiClientState","readwrite-primary",o=>{const u=l1(o,Xn.store);return u.Lt().next(f=>{const v=r.fn(f,18e5),x=f.filter(S=>-1===v.indexOf(S));return Be.forEach(x,S=>u.delete(S.clientId)).next(()=>x)})}).catch(()=>[]);if(r.Ye)for(const o of i)r.Ye.removeItem(r.dn(o.clientId))}})()}en(){this.Ke=this.Oe.enqueueAfterDelay("client_metadata_refresh",4e3,()=>this.Xe().then(()=>this.hn()).then(()=>this.en()))}cn(r){return!!r&&r.ownerId===this.clientId}rn(r){return this.Me?Be.resolve(!0):H3(r).get(R1.key).next(i=>{if(null!==i&&this.ln(i.leaseTimestampMs,5e3)&&!this.wn(i.ownerId)){if(this.cn(i)&&this.networkEnabled)return!0;if(!this.cn(i)){if(!i.allowTabSynchronization)throw new je(Te.FAILED_PRECONDITION,Fd);return!1}}return!(!this.networkEnabled||!this.inForeground)||F3(r).Lt().next(o=>void 0===this.fn(o,5e3).find(u=>{if(this.clientId!==u.clientId){const v=!this.inForeground&&u.inForeground,x=this.networkEnabled===u.networkEnabled;if(!this.networkEnabled&&u.networkEnabled||v&&x)return!0}return!1}))}).next(i=>(this.isPrimary!==i&&Ke("IndexedDbPersistence",`Client ${i?"is":"is not"} eligible for a primary lease.`),i))}shutdown(){var r=this;return(0,Ae.Z)(function*(){r.Be=!1,r._n(),r.Ke&&(r.Ke.cancel(),r.Ke=null),r.mn(),r.gn(),yield r.Ge.runTransaction("shutdown","readwrite",[R1.store,Xn.store],i=>{const o=new Vd(i,Jr.T);return r.on(o).next(()=>r.un(o))}),r.Ge.close(),r.yn()})()}fn(r,i){return r.filter(o=>this.ln(o.updateTimeMs,i)&&!this.wn(o.clientId))}pn(){return this.runTransaction("getActiveClients","readonly",r=>F3(r).Lt().next(i=>this.fn(i,18e5).map(o=>o.clientId)))}get started(){return this.Be}getMutationQueue(r){return Pd.Yt(r,this.N,this.Ht,this.referenceDelegate)}getTargetCache(){return this.ze}getRemoteDocumentCache(){return this.He}getIndexManager(){return this.Ht}getBundleCache(){return this.Je}runTransaction(r,i,o){let f;return Ke("IndexedDbPersistence","Starting transaction:",r),this.Ge.runTransaction(r,"readonly"===i?"readonly":"readwrite",cg,v=>(f=new Vd(v,this.Le?this.Le.next():Jr.T),"readwrite-primary"===i?this.sn(f).next(x=>!!x||this.rn(f)).next(x=>{if(!x)throw $n(`Failed to obtain primary lease for action '${r}'.`),this.isPrimary=!1,this.Oe.enqueueRetryable(()=>this.Qe(!1)),new je(Te.FAILED_PRECONDITION,lg);return o(f)}).next(x=>this.an(f).next(()=>x)):this.En(f).next(()=>o(f)))).then(v=>(f.raiseOnCommittedEvent(),v))}En(r){return H3(r).get(R1.key).next(i=>{if(null!==i&&this.ln(i.leaseTimestampMs,5e3)&&!this.wn(i.ownerId)&&!this.cn(i)&&!(this.Me||this.allowTabSynchronization&&i.allowTabSynchronization))throw new je(Te.FAILED_PRECONDITION,Fd)})}an(r){const i=new R1(this.clientId,this.allowTabSynchronization,Date.now());return H3(r).put(R1.key,i)}static Pt(){return hr.Pt()}on(r){const i=H3(r);return i.get(R1.key).next(o=>this.cn(o)?(Ke("IndexedDbPersistence","Releasing primary lease."),i.delete(R1.key)):Be.resolve())}ln(r,i){const o=Date.now();return!(r<o-i||r>o&&($n(`Detected an update time that is in the future: ${r} > ${o}`),1))}Ze(){null!==this.document&&"function"==typeof this.document.addEventListener&&(this.qe=()=>{this.Oe.enqueueAndForget(()=>(this.inForeground="visible"===this.document.visibilityState,this.Xe()))},this.document.addEventListener("visibilitychange",this.qe),this.inForeground="visible"===this.document.visibilityState)}mn(){this.qe&&(this.document.removeEventListener("visibilitychange",this.qe),this.qe=null)}tn(){var r;"function"==typeof(null===(r=this.window)||void 0===r?void 0:r.addEventListener)&&(this.Ue=()=>{this._n(),(0,$t.G6)()&&navigator.appVersion.match("Version/14")&&this.Oe.enterRestrictedMode(!0),this.Oe.enqueueAndForget(()=>this.shutdown())},this.window.addEventListener("pagehide",this.Ue))}gn(){this.Ue&&(this.window.removeEventListener("pagehide",this.Ue),this.Ue=null)}wn(r){var i;try{const o=null!==(null===(i=this.Ye)||void 0===i?void 0:i.getItem(this.dn(r)));return Ke("IndexedDbPersistence",`Client '${r}' ${o?"is":"is not"} zombied in LocalStorage`),o}catch(o){return $n("IndexedDbPersistence","Failed to get zombied client id.",o),!1}}_n(){if(this.Ye)try{this.Ye.setItem(this.dn(this.clientId),String(Date.now()))}catch(r){$n("Failed to set zombie client id.",r)}}yn(){if(this.Ye)try{this.Ye.removeItem(this.dn(this.clientId))}catch(r){}}dn(r){return`firestore_zombie_${this.persistenceKey}_${r}`}}function H3(s){return l1(s,R1.store)}function F3(s){return l1(s,Xn.store)}function Bd(s,r){let i=s.projectId;return s.isDefaultDatabase||(i+="."+s.database),"firestore/"+r+"/"+i+"/"}class wC{constructor(r,i){this.progress=r,this.Tn=i}}class MC{constructor(r,i,o){this.He=r,this.In=i,this.Ht=o}An(r,i){return this.In.getAllMutationBatchesAffectingDocumentKey(r,i).next(o=>this.Rn(r,i,o))}Rn(r,i,o){return this.He.getEntry(r,i).next(u=>{for(const f of o)f.applyToLocalView(u);return u})}Pn(r,i){r.forEach((o,u)=>{for(const f of i)f.applyToLocalView(u)})}bn(r,i){return this.He.getEntries(r,i).next(o=>this.vn(r,o).next(()=>o))}vn(r,i){return this.In.getAllMutationBatchesAffectingDocumentKeys(r,i).next(o=>this.Pn(i,o))}getDocumentsMatchingQuery(r,i,o){return lt.isDocumentKey((u=i).path)&&null===u.collectionGroup&&0===u.filters.length?this.Vn(r,i.path):vd(i)?this.Sn(r,i,o):this.Dn(r,i,o);var u}Vn(r,i){return this.An(r,new lt(i)).next(o=>{let u=Ed();return o.isFoundDocument()&&(u=u.insert(o.key,o)),u})}Sn(r,i,o){const u=i.collectionGroup;let f=Ed();return this.Ht.getCollectionParents(r,u).next(v=>Be.forEach(v,x=>{const S=(L=i,P=x.child(u),new vs(P,null,L.explicitOrderBy.slice(),L.filters.slice(),L.limit,L.limitType,L.startAt,L.endAt));var L,P;return this.Dn(r,S,o).next(L=>{L.forEach((P,W)=>{f=f.insert(P,W)})})}).next(()=>f))}Dn(r,i,o){let u,f;return this.He.getDocumentsMatchingQuery(r,i,o).next(v=>(u=v,this.In.getAllMutationBatchesAffectingQuery(r,i))).next(v=>(f=v,this.Cn(r,f,u).next(x=>{u=x;for(const S of f)for(const L of S.mutations){const P=L.key;let W=u.get(P);null==W&&(W=En.newInvalidDocument(P),u=u.insert(P,W)),b3(L,W,S.localWriteTime),W.isFoundDocument()||(u=u.remove(P))}}))).next(()=>(u.forEach((v,x)=>{qc(i,x)||(u=u.remove(v))}),u))}Cn(r,i,o){let u=en();for(const v of i)for(const x of v.mutations)x instanceof qa&&null===o.get(x.key)&&(u=u.add(x.key));let f=o;return this.He.getEntries(r,u).next(v=>(v.forEach((x,S)=>{S.isFoundDocument()&&(f=f.insert(x,S))}),f))}}class bg{constructor(r,i,o,u){this.targetId=r,this.fromCache=i,this.Nn=o,this.xn=u}static kn(r,i){let o=en(),u=en();for(const f of i.docChanges)switch(f.type){case 0:o=o.add(f.doc.key);break;case 1:u=u.add(f.doc.key)}return new bg(r,i.fromCache,o,u)}}class EC{$n(r){this.On=r}getDocumentsMatchingQuery(r,i,o,u){return 0===(f=i).filters.length&&null===f.limit&&null==f.startAt&&null==f.endAt&&(0===f.explicitOrderBy.length||1===f.explicitOrderBy.length&&f.explicitOrderBy[0].field.isKeyField())||o.isEqual(Dt.min())?this.Fn(r,i):this.On.bn(r,u).next(f=>{const v=this.Mn(i,f);return(Wc(i)||Ou(i))&&this.Ln(i.limitType,v,u,o)?this.Fn(r,i):(Su()<=ar.in.DEBUG&&Ke("QueryEngine","Re-using previous result from %s to execute query: %s",o.toString(),yd(i)),this.On.getDocumentsMatchingQuery(r,i,o).next(x=>(v.forEach(S=>{x=x.insert(S.key,S)}),x)))});var f}Mn(r,i){let o=new An(_d(r));return i.forEach((u,f)=>{qc(r,f)&&(o=o.add(f))}),o}Ln(r,i,o,u){if(o.size!==i.size)return!0;const f="F"===r?i.last():i.first();return!!f&&(f.hasPendingWrites||f.version.compareTo(u)>0)}Fn(r,i){return Su()<=ar.in.DEBUG&&Ke("QueryEngine","Using full collection scan to execute query:",yd(i)),this.On.getDocumentsMatchingQuery(r,i,Dt.min())}}class jd{constructor(r,i,o,u){this.persistence=r,this.Bn=i,this.N=u,this.Un=new c1(Vt),this.qn=new T2(f=>C3(f),Vu),this.Kn=Dt.min(),this.In=r.getMutationQueue(o),this.jn=r.getRemoteDocumentCache(),this.ze=r.getTargetCache(),this.Qn=new MC(this.jn,this.In,this.persistence.getIndexManager()),this.Je=r.getBundleCache(),this.Bn.$n(this.Qn)}collectGarbage(r){return this.persistence.runTransaction("Collect garbage","readwrite-primary",i=>r.collect(i,this.Un))}}function wg(s,r,i,o){return new jd(s,r,i,o)}function Mg(s,r){return $d.apply(this,arguments)}function $d(){return($d=(0,Ae.Z)(function*(s,r){const i=Ye(s);let o=i.In,u=i.Qn;const f=yield i.persistence.runTransaction("Handle user change","readonly",v=>{let x;return i.In.getAllMutationBatches(v).next(S=>(x=S,o=i.persistence.getMutationQueue(r),u=new MC(i.jn,o,i.persistence.getIndexManager()),o.getAllMutationBatches(v))).next(S=>{const L=[],P=[];let W=en();for(const he of x){L.push(he.batchId);for(const fe of he.mutations)W=W.add(fe.key)}for(const he of S){P.push(he.batchId);for(const fe of he.mutations)W=W.add(fe.key)}return u.bn(v,W).next(he=>({Wn:he,removedBatchIds:L,addedBatchIds:P}))})});return i.In=o,i.Qn=u,i.Bn.$n(i.Qn),f})).apply(this,arguments)}function AC(s,r){const i=Ye(s);return i.persistence.runTransaction("Acknowledge batch","readwrite-primary",o=>{const u=r.batch.keys(),f=i.jn.newChangeBuffer({trackRemovals:!0});return function(v,x,S,L){const P=S.batch,W=P.keys();let he=Be.resolve();return W.forEach(fe=>{he=he.next(()=>L.getEntry(x,fe)).next(Ee=>{const $e=S.docVersions.get(fe);bt(null!==$e),Ee.version.compareTo($e)<0&&(P.applyToRemoteDocument(Ee,S),Ee.isValidDocument()&&L.addEntry(Ee,S.commitVersion))})}),he.next(()=>v.In.removeMutationBatch(x,P))}(i,o,r,f).next(()=>f.apply(o)).next(()=>i.In.performConsistencyCheck(o)).next(()=>i.Qn.bn(o,u))})}function Eg(s){const r=Ye(s);return r.persistence.runTransaction("Get last remote snapshot version","readonly",i=>r.ze.getLastRemoteSnapshotVersion(i))}function SC(s,r){const i=Ye(s),o=r.snapshotVersion;let u=i.Un;return i.persistence.runTransaction("Apply remote event","readwrite-primary",f=>{const v=i.jn.newChangeBuffer({trackRemovals:!0});u=i.Un;const x=[];r.targetChanges.forEach((L,P)=>{const W=u.get(P);if(!W)return;x.push(i.ze.removeMatchingKeys(f,L.removedDocuments,P).next(()=>i.ze.addMatchingKeys(f,L.addedDocuments,P)));const he=L.resumeToken;if(he.approximateByteSize()>0){const fe=W.withResumeToken(he,o).withSequenceNumber(f.currentSequenceNumber);u=u.insert(P,fe),Ee=W,Ze=L,bt(($e=fe).resumeToken.approximateByteSize()>0),(0===Ee.resumeToken.approximateByteSize()||$e.snapshotVersion.toMicroseconds()-Ee.snapshotVersion.toMicroseconds()>=3e8||Ze.addedDocuments.size+Ze.modifiedDocuments.size+Ze.removedDocuments.size>0)&&x.push(i.ze.updateTargetData(f,fe))}var Ee,$e,Ze});let S=Ui();if(r.documentUpdates.forEach((L,P)=>{r.resolvedLimboDocuments.has(L)&&x.push(i.persistence.referenceDelegate.updateLimboDocument(f,L))}),x.push(Gd(f,v,r.documentUpdates,o,void 0).next(L=>{S=L})),!o.isEqual(Dt.min())){const L=i.ze.getLastRemoteSnapshotVersion(f).next(P=>i.ze.setTargetsMetadata(f,f.currentSequenceNumber,o));x.push(L)}return Be.waitFor(x).next(()=>v.apply(f)).next(()=>i.Qn.vn(f,S)).next(()=>S)}).then(f=>(i.Un=u,f))}function Gd(s,r,i,o,u){let f=en();return i.forEach(v=>f=f.add(v)),r.getEntries(s,f).next(v=>{let x=Ui();return i.forEach((S,L)=>{const P=v.get(S),W=(null==u?void 0:u.get(S))||o;L.isNoDocument()&&L.version.isEqual(Dt.min())?(r.removeEntry(S,W),x=x.insert(S,L)):!P.isValidDocument()||L.version.compareTo(P.version)>0||0===L.version.compareTo(P.version)&&P.hasPendingWrites?(r.addEntry(L,W),x=x.insert(S,L)):Ke("LocalStore","Ignoring outdated watch update for ",S,". Current version:",P.version," Watch version:",L.version)}),x})}function Wd(s,r){const i=Ye(s);return i.persistence.runTransaction("Get next mutation batch","readonly",o=>(void 0===r&&(r=-1),i.In.getNextMutationBatchAfterBatchId(o,r)))}function c4(s,r){const i=Ye(s);return i.persistence.runTransaction("Allocate target","readwrite",o=>{let u;return i.ze.getTargetData(o,r).next(f=>f?(u=f,Be.resolve(u)):i.ze.allocateTargetId(o).next(v=>(u=new bs(r,v,0,o.currentSequenceNumber),i.ze.addTargetData(o,u).next(()=>u))))}).then(o=>{const u=i.Un.get(o.targetId);return(null===u||o.snapshotVersion.compareTo(u.snapshotVersion)>0)&&(i.Un=i.Un.insert(o.targetId,o),i.qn.set(r,o.targetId)),o})}function $i(s,r,i){return C1.apply(this,arguments)}function C1(){return(C1=(0,Ae.Z)(function*(s,r,i){const o=Ye(s),u=o.Un.get(r),f=i?"readwrite":"readwrite-primary";try{i||(yield o.persistence.runTransaction("Release target",f,v=>o.persistence.referenceDelegate.removeTarget(v,u)))}catch(v){if(!e0(v))throw v;Ke("LocalStore",`Failed to update sequence numbers for target ${r}: ${v}`)}o.Un=o.Un.remove(r),o.qn.delete(u.target)})).apply(this,arguments)}function U3(s,r,i){const o=Ye(s);let u=Dt.min(),f=en();return o.persistence.runTransaction("Execute query","readonly",v=>function(x,S,L){const P=Ye(x),W=P.qn.get(L);return void 0!==W?Be.resolve(P.Un.get(W)):P.ze.getTargetData(S,L)}(o,v,di(r)).next(x=>{if(x)return u=x.lastLimboFreeSnapshotVersion,o.ze.getMatchingKeysForTargetId(v,x.targetId).next(S=>{f=S})}).next(()=>o.Bn.getDocumentsMatchingQuery(v,r,i?u:Dt.min(),i?f:en())).next(x=>({documents:x,Gn:f})))}function pi(s,r){const i=Ye(s),o=Ye(i.ze),u=i.Un.get(r);return u?Promise.resolve(u.target):i.persistence.runTransaction("Get target data","readonly",f=>o.Et(f,r).next(v=>v?v.target:null))}function t5(s){const r=Ye(s);return r.persistence.runTransaction("Get new document changes","readonly",i=>function(o,u,f){const v=Ye(o);let x=Ui(),S=Od(f);const L=r0(u),P=IDBKeyRange.lowerBound(S,!0);return L.Kt({index:Gn.readTimeIndex,range:P},(W,he)=>{const fe=Yu(v.N,he);x=x.insert(fe.key,fe),S=he.readTime}).next(()=>({Tn:x,readTime:Qu(S)}))}(r.jn,i,r.Kn)).then(({Tn:i,readTime:o})=>(r.Kn=o,i))}function n5(){return(n5=(0,Ae.Z)(function*(s){const r=Ye(s);return r.persistence.runTransaction("Synchronize last document change read time","readonly",i=>function(o){const u=r0(o);let f=Dt.min();return u.Kt({index:Gn.readTimeIndex,reverse:!0},(v,x,S)=>{x.readTime&&(f=Qu(x.readTime)),S.done()}).next(()=>f)}(i)).then(i=>{r.Kn=i})})).apply(this,arguments)}function r5(){return(r5=(0,Ae.Z)(function*(s,r,i,o){const u=Ye(s);let f=en(),v=Ui(),x=Ad();for(const P of i){const W=r.zn(P.metadata.name);P.document&&(f=f.add(W)),v=v.insert(W,r.Hn(P)),x=x.insert(W,r.Jn(P.metadata.readTime))}const S=u.jn.newChangeBuffer({trackRemovals:!0}),L=yield c4(u,(P=o,di(Gc(Gt.fromString(`__bundle__/docs/${P}`)))));var P;return u.persistence.runTransaction("Apply bundle documents","readwrite",P=>Gd(P,S,v,Dt.min(),x).next(W=>(S.apply(P),W)).next(W=>u.ze.removeMatchingKeysForTargetId(P,L.targetId).next(()=>u.ze.addMatchingKeys(P,f,L.targetId)).next(()=>u.Qn.vn(P,W)).next(()=>W)))})).apply(this,arguments)}function DC(s,r){return Zd.apply(this,arguments)}function Zd(){return(Zd=(0,Ae.Z)(function*(s,r,i=en()){const o=yield c4(s,di(t0(r.bundledQuery))),u=Ye(s);return u.persistence.runTransaction("Save named query","readwrite",f=>{const v=_1(r.readTime);if(o.snapshotVersion.compareTo(v)>=0)return u.Je.saveNamedQuery(f,r);const x=o.withResumeToken(Un.EMPTY_BYTE_STRING,v);return u.Un=u.Un.insert(x.targetId,x),u.ze.updateTargetData(f,x).next(()=>u.ze.removeMatchingKeysForTargetId(f,o.targetId)).next(()=>u.ze.addMatchingKeys(f,i,o.targetId)).next(()=>u.Je.saveNamedQuery(f,r))})})).apply(this,arguments)}class TC{constructor(r){this.N=r,this.Yn=new Map,this.Xn=new Map}getBundleMetadata(r,i){return Be.resolve(this.Yn.get(i))}saveBundleMetadata(r,i){var o;return this.Yn.set(i.id,{id:(o=i).id,version:o.version,createTime:_1(o.createTime)}),Be.resolve()}getNamedQuery(r,i){return Be.resolve(this.Xn.get(i))}saveNamedQuery(r,i){return this.Xn.set(i.name,{name:(o=i).name,query:t0(o.bundledQuery),readTime:_1(o.readTime)}),Be.resolve();var o}}class i5{constructor(){this.Zn=new An(x1.ts),this.es=new An(x1.ns)}isEmpty(){return this.Zn.isEmpty()}addReference(r,i){const o=new x1(r,i);this.Zn=this.Zn.add(o),this.es=this.es.add(o)}ss(r,i){r.forEach(o=>this.addReference(o,i))}removeReference(r,i){this.rs(new x1(r,i))}os(r,i){r.forEach(o=>this.removeReference(o,i))}cs(r){const i=new lt(new Gt([])),o=new x1(i,r),u=new x1(i,r+1),f=[];return this.es.forEachInRange([o,u],v=>{this.rs(v),f.push(v.key)}),f}us(){this.Zn.forEach(r=>this.rs(r))}rs(r){this.Zn=this.Zn.delete(r),this.es=this.es.delete(r)}hs(r){const i=new lt(new Gt([])),o=new x1(i,r),u=new x1(i,r+1);let f=en();return this.es.forEachInRange([o,u],v=>{f=f.add(v.key)}),f}containsKey(r){const i=new x1(r,0),o=this.Zn.firstAfterOrEqual(i);return null!==o&&r.isEqual(o.key)}}class x1{constructor(r,i){this.key=r,this.ls=i}static ts(r,i){return lt.comparator(r.key,i.key)||Vt(r.ls,i.ls)}static ns(r,i){return Vt(r.ls,i.ls)||lt.comparator(r.key,i.key)}}class Jb{constructor(r,i){this.Ht=r,this.referenceDelegate=i,this.In=[],this.fs=1,this.ds=new An(x1.ts)}checkEmpty(r){return Be.resolve(0===this.In.length)}addMutationBatch(r,i,o,u){const f=this.fs;this.fs++;const v=new Rd(f,i,o,u);this.In.push(v);for(const x of u)this.ds=this.ds.add(new x1(x.key,f)),this.Ht.addToCollectionParentIndex(r,x.key.path.popLast());return Be.resolve(v)}lookupMutationBatch(r,i){return Be.resolve(this.ws(i))}getNextMutationBatchAfterBatchId(r,i){const u=this._s(i+1),f=u<0?0:u;return Be.resolve(this.In.length>f?this.In[f]:null)}getHighestUnacknowledgedBatchId(){return Be.resolve(0===this.In.length?-1:this.fs-1)}getAllMutationBatches(r){return Be.resolve(this.In.slice())}getAllMutationBatchesAffectingDocumentKey(r,i){const o=new x1(i,0),u=new x1(i,Number.POSITIVE_INFINITY),f=[];return this.ds.forEachInRange([o,u],v=>{const x=this.ws(v.ls);f.push(x)}),Be.resolve(f)}getAllMutationBatchesAffectingDocumentKeys(r,i){let o=new An(Vt);return i.forEach(u=>{const f=new x1(u,0),v=new x1(u,Number.POSITIVE_INFINITY);this.ds.forEachInRange([f,v],x=>{o=o.add(x.ls)})}),Be.resolve(this.gs(o))}getAllMutationBatchesAffectingQuery(r,i){const o=i.path,u=o.length+1;let f=o;lt.isDocumentKey(f)||(f=f.child(""));const v=new x1(new lt(f),0);let x=new An(Vt);return this.ds.forEachWhile(S=>{const L=S.key.path;return!!o.isPrefixOf(L)&&(L.length===u&&(x=x.add(S.ls)),!0)},v),Be.resolve(this.gs(x))}gs(r){const i=[];return r.forEach(o=>{const u=this.ws(o);null!==u&&i.push(u)}),i}removeMutationBatch(r,i){bt(0===this.ys(i.batchId,"removed")),this.In.shift();let o=this.ds;return Be.forEach(i.mutations,u=>{const f=new x1(u.key,i.batchId);return o=o.delete(f),this.referenceDelegate.markPotentiallyOrphaned(r,u.key)}).next(()=>{this.ds=o})}te(r){}containsKey(r,i){const o=new x1(i,0),u=this.ds.firstAfterOrEqual(o);return Be.resolve(i.isEqual(u&&u.key))}performConsistencyCheck(r){return Be.resolve()}ys(r,i){return this._s(r)}_s(r){return 0===this.In.length?0:r-this.In[0].batchId}ws(r){const i=this._s(r);return i<0||i>=this.In.length?null:this.In[i]}}class NC{constructor(r,i){this.Ht=r,this.ps=i,this.docs=new c1(lt.comparator),this.size=0}addEntry(r,i,o){const u=i.key,f=this.docs.get(u),v=f?f.size:0,x=this.ps(i);return this.docs=this.docs.insert(u,{document:i.clone(),size:x,readTime:o}),this.size+=x-v,this.Ht.addToCollectionParentIndex(r,u.path.popLast())}removeEntry(r){const i=this.docs.get(r);i&&(this.docs=this.docs.remove(r),this.size-=i.size)}getEntry(r,i){const o=this.docs.get(i);return Be.resolve(o?o.document.clone():En.newInvalidDocument(i))}getEntries(r,i){let o=Ui();return i.forEach(u=>{const f=this.docs.get(u);o=o.insert(u,f?f.document.clone():En.newInvalidDocument(u))}),Be.resolve(o)}getDocumentsMatchingQuery(r,i,o){let u=Ui();const f=new lt(i.path.child("")),v=this.docs.getIteratorFrom(f);for(;v.hasNext();){const{key:x,value:{document:S,readTime:L}}=v.getNext();if(!i.path.isPrefixOf(x.path))break;L.compareTo(o)<=0||qc(i,S)&&(u=u.insert(S.key,S.clone()))}return Be.resolve(u)}Es(r,i){return Be.forEach(this.docs,o=>i(o))}newChangeBuffer(r){return new zC(this)}getSize(r){return Be.resolve(this.size)}}class zC extends _g{constructor(r){super(),this.Se=r}applyChanges(r){const i=[];return this.changes.forEach((o,u)=>{u.document.isValidDocument()?i.push(this.Se.addEntry(r,u.document,this.getReadTime(o))):this.Se.removeEntry(o)}),Be.waitFor(i)}getFromCache(r,i){return this.Se.getEntry(r,i)}getAllFromCache(r,i){return this.Se.getEntries(r,i)}}class l4{constructor(r){this.persistence=r,this.Ts=new T2(i=>C3(i),Vu),this.lastRemoteSnapshotVersion=Dt.min(),this.highestTargetId=0,this.Is=0,this.As=new i5,this.targetCount=0,this.Rs=ws.se()}forEachTarget(r,i){return this.Ts.forEach((o,u)=>i(u)),Be.resolve()}getLastRemoteSnapshotVersion(r){return Be.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(r){return Be.resolve(this.Is)}allocateTargetId(r){return this.highestTargetId=this.Rs.next(),Be.resolve(this.highestTargetId)}setTargetsMetadata(r,i,o){return o&&(this.lastRemoteSnapshotVersion=o),i>this.Is&&(this.Is=i),Be.resolve()}ae(r){this.Ts.set(r.target,r);const i=r.targetId;i>this.highestTargetId&&(this.Rs=new ws(i),this.highestTargetId=i),r.sequenceNumber>this.Is&&(this.Is=r.sequenceNumber)}addTargetData(r,i){return this.ae(i),this.targetCount+=1,Be.resolve()}updateTargetData(r,i){return this.ae(i),Be.resolve()}removeTargetData(r,i){return this.Ts.delete(i.target),this.As.cs(i.targetId),this.targetCount-=1,Be.resolve()}removeTargets(r,i,o){let u=0;const f=[];return this.Ts.forEach((v,x)=>{x.sequenceNumber<=i&&null===o.get(x.targetId)&&(this.Ts.delete(v),f.push(this.removeMatchingKeysForTargetId(r,x.targetId)),u++)}),Be.waitFor(f).next(()=>u)}getTargetCount(r){return Be.resolve(this.targetCount)}getTargetData(r,i){const o=this.Ts.get(i)||null;return Be.resolve(o)}addMatchingKeys(r,i,o){return this.As.ss(i,o),Be.resolve()}removeMatchingKeys(r,i,o){this.As.os(i,o);const u=this.persistence.referenceDelegate,f=[];return u&&i.forEach(v=>{f.push(u.markPotentiallyOrphaned(r,v))}),Be.waitFor(f)}removeMatchingKeysForTargetId(r,i){return this.As.cs(i),Be.resolve()}getMatchingKeysForTargetId(r,i){const o=this.As.hs(i);return Be.resolve(o)}containsKey(r,i){return Be.resolve(this.As.containsKey(i))}}class Xb{constructor(r,i){this.Ps={},this.Le=new Jr(0),this.Be=!1,this.Be=!0,this.referenceDelegate=r(this),this.ze=new l4(this),this.Ht=new Qb,this.He=new NC(this.Ht,o=>this.referenceDelegate.bs(o)),this.N=new kd(i),this.Je=new TC(this.N)}start(){return Promise.resolve()}shutdown(){return this.Be=!1,Promise.resolve()}get started(){return this.Be}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(){return this.Ht}getMutationQueue(r){let i=this.Ps[r.toKey()];return i||(i=new Jb(this.Ht,this.referenceDelegate),this.Ps[r.toKey()]=i),i}getTargetCache(){return this.ze}getRemoteDocumentCache(){return this.He}getBundleCache(){return this.Je}runTransaction(r,i,o){Ke("MemoryPersistence","Starting transaction:",r);const u=new Sg(this.Le.next());return this.referenceDelegate.vs(),o(u).next(f=>this.referenceDelegate.Vs(u).next(()=>f)).toPromise().then(f=>(u.raiseOnCommittedEvent(),f))}Ss(r,i){return Be.or(Object.values(this.Ps).map(o=>()=>o.containsKey(r,i)))}}class Sg extends Ld{constructor(r){super(),this.currentSequenceNumber=r}}class qd{constructor(r){this.persistence=r,this.Ds=new i5,this.Cs=null}static Ns(r){return new qd(r)}get xs(){if(this.Cs)return this.Cs;throw st()}addReference(r,i,o){return this.Ds.addReference(o,i),this.xs.delete(o.toString()),Be.resolve()}removeReference(r,i,o){return this.Ds.removeReference(o,i),this.xs.add(o.toString()),Be.resolve()}markPotentiallyOrphaned(r,i){return this.xs.add(i.toString()),Be.resolve()}removeTarget(r,i){this.Ds.cs(i.targetId).forEach(u=>this.xs.add(u.toString()));const o=this.persistence.getTargetCache();return o.getMatchingKeysForTargetId(r,i.targetId).next(u=>{u.forEach(f=>this.xs.add(f.toString()))}).next(()=>o.removeTargetData(r,i))}vs(){this.Cs=new Set}Vs(r){const i=this.persistence.getRemoteDocumentCache().newChangeBuffer();return Be.forEach(this.xs,o=>{const u=lt.fromPath(o);return this.ks(r,u).next(f=>{f||i.removeEntry(u)})}).next(()=>(this.Cs=null,i.apply(r)))}updateLimboDocument(r,i){return this.ks(r,i).next(o=>{o?this.xs.delete(i.toString()):this.xs.add(i.toString())})}bs(r){return 0}ks(r,i){return Be.or([()=>Be.resolve(this.Ds.containsKey(i)),()=>this.persistence.getTargetCache().containsKey(r,i),()=>this.persistence.Ss(r,i)])}}function LC(s,r){return`firestore_clients_${s}_${r}`}function Kd(s,r,i){let o=`firestore_mutations_${s}_${i}`;return r.isAuthenticated()&&(o+=`_${r.uid}`),o}function Yd(s,r){return`firestore_targets_${s}_${r}`}class u4{constructor(r,i,o,u){this.user=r,this.batchId=i,this.state=o,this.error=u}static $s(r,i,o){const u=JSON.parse(o);let f,v="object"==typeof u&&-1!==["pending","acknowledged","rejected"].indexOf(u.state)&&(void 0===u.error||"object"==typeof u.error);return v&&u.error&&(v="string"==typeof u.error.message&&"string"==typeof u.error.code,v&&(f=new je(u.error.code,u.error.message))),v?new u4(r,i,u.state,f):($n("SharedClientState",`Failed to parse mutation state for ID '${i}': ${o}`),null)}Os(){const r={state:this.state,updateTimeMs:Date.now()};return this.error&&(r.error={code:this.error.code,message:this.error.message}),JSON.stringify(r)}}class h4{constructor(r,i,o){this.targetId=r,this.state=i,this.error=o}static $s(r,i){const o=JSON.parse(i);let u,f="object"==typeof o&&-1!==["not-current","current","rejected"].indexOf(o.state)&&(void 0===o.error||"object"==typeof o.error);return f&&o.error&&(f="string"==typeof o.error.message&&"string"==typeof o.error.code,f&&(u=new je(o.error.code,o.error.message))),f?new h4(r,o.state,u):($n("SharedClientState",`Failed to parse target state for ID '${r}': ${i}`),null)}Os(){const r={state:this.state,updateTimeMs:Date.now()};return this.error&&(r.error={code:this.error.code,message:this.error.message}),JSON.stringify(r)}}class B3{constructor(r,i){this.clientId=r,this.activeTargetIds=i}static $s(r,i){const o=JSON.parse(i);let u="object"==typeof o&&o.activeTargetIds instanceof Array,f=Gu();for(let v=0;u&&v<o.activeTargetIds.length;++v)u=Hc(o.activeTargetIds[v]),f=f.add(o.activeTargetIds[v]);return u?new B3(r,f):($n("SharedClientState",`Failed to parse client data for instance '${r}': ${i}`),null)}}class Qd{constructor(r,i){this.clientId=r,this.onlineState=i}static $s(r){const i=JSON.parse(r);return"object"==typeof i&&-1!==["Unknown","Online","Offline"].indexOf(i.onlineState)&&"string"==typeof i.clientId?new Qd(i.clientId,i.onlineState):($n("SharedClientState",`Failed to parse online state: ${r}`),null)}}class Jd{constructor(){this.activeTargetIds=Gu()}Fs(r){this.activeTargetIds=this.activeTargetIds.add(r)}Ms(r){this.activeTargetIds=this.activeTargetIds.delete(r)}Os(){const r={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(r)}}class Xd{constructor(r,i,o,u,f){this.window=r,this.Oe=i,this.persistenceKey=o,this.Ls=u,this.syncEngine=null,this.onlineStateHandler=null,this.sequenceNumberHandler=null,this.Bs=this.Us.bind(this),this.qs=new c1(Vt),this.started=!1,this.Ks=[];const v=o.replace(/[.*+?^${}()|[\]\\]/g,"\\$&");this.storage=this.window.localStorage,this.currentUser=f,this.js=LC(this.persistenceKey,this.Ls),this.Qs=`firestore_sequence_number_${this.persistenceKey}`,this.qs=this.qs.insert(this.Ls,new Jd),this.Ws=new RegExp(`^firestore_clients_${v}_([^_]*)$`),this.Gs=new RegExp(`^firestore_mutations_${v}_(\\d+)(?:_(.*))?$`),this.zs=new RegExp(`^firestore_targets_${v}_(\\d+)$`),this.Hs=`firestore_online_state_${this.persistenceKey}`,this.Js=function(x){return`firestore_bundle_loaded_${x}`}(this.persistenceKey),this.window.addEventListener("storage",this.Bs)}static Pt(r){return!(!r||!r.localStorage)}start(){var r=this;return(0,Ae.Z)(function*(){const i=yield r.syncEngine.pn();for(const u of i){if(u===r.Ls)continue;const f=r.getItem(LC(r.persistenceKey,u));if(f){const v=B3.$s(u,f);v&&(r.qs=r.qs.insert(v.clientId,v))}}r.Ys();const o=r.storage.getItem(r.Hs);if(o){const u=r.Xs(o);u&&r.Zs(u)}for(const u of r.Ks)r.Us(u);r.Ks=[],r.window.addEventListener("pagehide",()=>r.shutdown()),r.started=!0})()}writeSequenceNumber(r){this.setItem(this.Qs,JSON.stringify(r))}getAllActiveQueryTargets(){return this.ti(this.qs)}isActiveQueryTarget(r){let i=!1;return this.qs.forEach((o,u)=>{u.activeTargetIds.has(r)&&(i=!0)}),i}addPendingMutation(r){this.ei(r,"pending")}updateMutationState(r,i,o){this.ei(r,i,o),this.ni(r)}addLocalQueryTarget(r){let i="not-current";if(this.isActiveQueryTarget(r)){const o=this.storage.getItem(Yd(this.persistenceKey,r));if(o){const u=h4.$s(r,o);u&&(i=u.state)}}return this.si.Fs(r),this.Ys(),i}removeLocalQueryTarget(r){this.si.Ms(r),this.Ys()}isLocalQueryTarget(r){return this.si.activeTargetIds.has(r)}clearQueryState(r){this.removeItem(Yd(this.persistenceKey,r))}updateQueryState(r,i,o){this.ii(r,i,o)}handleUserChange(r,i,o){i.forEach(u=>{this.ni(u)}),this.currentUser=r,o.forEach(u=>{this.addPendingMutation(u)})}setOnlineState(r){this.ri(r)}notifyBundleLoaded(){this.oi()}shutdown(){this.started&&(this.window.removeEventListener("storage",this.Bs),this.removeItem(this.js),this.started=!1)}getItem(r){const i=this.storage.getItem(r);return Ke("SharedClientState","READ",r,i),i}setItem(r,i){Ke("SharedClientState","SET",r,i),this.storage.setItem(r,i)}removeItem(r){Ke("SharedClientState","REMOVE",r),this.storage.removeItem(r)}Us(r){var i=this;const o=r;if(o.storageArea===this.storage){if(Ke("SharedClientState","EVENT",o.key,o.newValue),o.key===this.js)return void $n("Received WebStorage notification for local change. Another client might have garbage-collected our state");this.Oe.enqueueRetryable((0,Ae.Z)(function*(){if(i.started){if(null!==o.key)if(i.Ws.test(o.key)){if(null==o.newValue){const u=i.ai(o.key);return i.ci(u,null)}{const u=i.ui(o.key,o.newValue);if(u)return i.ci(u.clientId,u)}}else if(i.Gs.test(o.key)){if(null!==o.newValue){const u=i.hi(o.key,o.newValue);if(u)return i.li(u)}}else if(i.zs.test(o.key)){if(null!==o.newValue){const u=i.fi(o.key,o.newValue);if(u)return i.di(u)}}else if(o.key===i.Hs){if(null!==o.newValue){const u=i.Xs(o.newValue);if(u)return i.Zs(u)}}else if(o.key===i.Qs){const u=function(f){let v=Jr.T;if(null!=f)try{const x=JSON.parse(f);bt("number"==typeof x),v=x}catch(x){$n("SharedClientState","Failed to read sequence number from WebStorage",x)}return v}(o.newValue);u!==Jr.T&&i.sequenceNumberHandler(u)}else if(o.key===i.Js)return i.syncEngine.wi()}else i.Ks.push(o)}))}}get si(){return this.qs.get(this.Ls)}Ys(){this.setItem(this.js,this.si.Os())}ei(r,i,o){const u=new u4(this.currentUser,r,i,o),f=Kd(this.persistenceKey,this.currentUser,r);this.setItem(f,u.Os())}ni(r){const i=Kd(this.persistenceKey,this.currentUser,r);this.removeItem(i)}ri(r){this.storage.setItem(this.Hs,JSON.stringify({clientId:this.Ls,onlineState:r}))}ii(r,i,o){const u=Yd(this.persistenceKey,r),f=new h4(r,i,o);this.setItem(u,f.Os())}oi(){this.setItem(this.Js,"value-not-used")}ai(r){const i=this.Ws.exec(r);return i?i[1]:null}ui(r,i){const o=this.ai(r);return B3.$s(o,i)}hi(r,i){const o=this.Gs.exec(r),u=Number(o[1]);return u4.$s(new v1(void 0!==o[2]?o[2]:null),u,i)}fi(r,i){const o=this.zs.exec(r),u=Number(o[1]);return h4.$s(u,i)}Xs(r){return Qd.$s(r)}li(r){var i=this;return(0,Ae.Z)(function*(){if(r.user.uid===i.currentUser.uid)return i.syncEngine._i(r.batchId,r.state,r.error);Ke("SharedClientState",`Ignoring mutation for non-active user ${r.user.uid}`)})()}di(r){return this.syncEngine.mi(r.targetId,r.state,r.error)}ci(r,i){const o=i?this.qs.insert(r,i):this.qs.remove(r),u=this.ti(this.qs),f=this.ti(o),v=[],x=[];return f.forEach(S=>{u.has(S)||v.push(S)}),u.forEach(S=>{f.has(S)||x.push(S)}),this.syncEngine.gi(v,x).then(()=>{this.qs=o})}Zs(r){this.qs.get(r.clientId)&&this.onlineStateHandler(r.onlineState)}ti(r){let i=Gu();return r.forEach((o,u)=>{i=i.unionWith(u.activeTargetIds)}),i}}class Ig{constructor(){this.yi=new Jd,this.pi={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(r){}updateMutationState(r,i,o){}addLocalQueryTarget(r){return this.yi.Fs(r),this.pi[r]||"not-current"}updateQueryState(r,i,o){this.pi[r]=i}removeLocalQueryTarget(r){this.yi.Ms(r)}isLocalQueryTarget(r){return this.yi.activeTargetIds.has(r)}clearQueryState(r){delete this.pi[r]}getAllActiveQueryTargets(){return this.yi.activeTargetIds}isActiveQueryTarget(r){return this.yi.activeTargetIds.has(r)}start(){return this.yi=new Jd,Promise.resolve()}handleUserChange(r,i,o){}setOnlineState(r){}shutdown(){}writeSequenceNumber(r){}notifyBundleLoaded(){}}class VC{Ei(r){}shutdown(){}}class Dg{constructor(){this.Ti=()=>this.Ii(),this.Ai=()=>this.Ri(),this.Pi=[],this.bi()}Ei(r){this.Pi.push(r)}shutdown(){window.removeEventListener("online",this.Ti),window.removeEventListener("offline",this.Ai)}bi(){window.addEventListener("online",this.Ti),window.addEventListener("offline",this.Ai)}Ii(){Ke("ConnectivityMonitor","Network connectivity changed: AVAILABLE");for(const r of this.Pi)r(0)}Ri(){Ke("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");for(const r of this.Pi)r(1)}static Pt(){return"undefined"!=typeof window&&void 0!==window.addEventListener&&void 0!==window.removeEventListener}}const RC={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery"};class kC{constructor(r){this.vi=r.vi,this.Vi=r.Vi}Si(r){this.Di=r}Ci(r){this.Ni=r}onMessage(r){this.xi=r}close(){this.Vi()}send(r){this.vi(r)}ki(){this.Di()}$i(r){this.Ni(r)}Oi(r){this.xi(r)}}class j3 extends class{constructor(r){this.databaseInfo=r,this.databaseId=r.databaseId,this.Fi=(r.ssl?"https":"http")+"://"+r.host,this.Mi="projects/"+this.databaseId.projectId+"/databases/"+this.databaseId.database+"/documents"}Li(r,i,o,u){const f=this.Bi(r,i);Ke("RestConnection","Sending: ",f,o);const v={};return this.Ui(v,u),this.qi(r,f,v,o).then(x=>(Ke("RestConnection","Received: ",x),x),x=>{throw Fa("RestConnection",`${r} failed with error: `,x,"url: ",f,"request:",o),x})}Ki(r,i,o,u){return this.Li(r,i,o,u)}Ui(r,i){if(r["X-Goog-Api-Client"]="gl-js/ fire/"+Ha,r["Content-Type"]="text/plain",this.databaseInfo.appId&&(r["X-Firebase-GMPID"]=this.databaseInfo.appId),i)for(const o in i.authHeaders)i.authHeaders.hasOwnProperty(o)&&(r[o]=i.authHeaders[o])}Bi(r,i){return`${this.Fi}/v1/${i}:${RC[r]}`}}{constructor(r){super(r),this.forceLongPolling=r.forceLongPolling,this.autoDetectLongPolling=r.autoDetectLongPolling,this.useFetchStreams=r.useFetchStreams}qi(r,i,o,u){return new Promise((f,v)=>{const x=new Mm;x.listenOnce(xm.COMPLETE,()=>{try{switch(x.getLastErrorCode()){case Au.NO_ERROR:const L=x.getResponseJson();Ke("Connection","XHR received:",JSON.stringify(L)),f(L);break;case Au.TIMEOUT:Ke("Connection",'RPC "'+r+'" timed out'),v(new je(Te.DEADLINE_EXCEEDED,"Request time out"));break;case Au.HTTP_ERROR:const P=x.getStatus();if(Ke("Connection",'RPC "'+r+'" failed with status:',P,"response text:",x.getResponseText()),P>0){const W=x.getResponseJson().error;if(W&&W.status&&W.message){const he=function(fe){const Ee=fe.toLowerCase().replace(/_/g,"-");return Object.values(Te).indexOf(Ee)>=0?Ee:Te.UNKNOWN}(W.status);v(new je(he,W.message))}else v(new je(Te.UNKNOWN,"Server responded with status "+x.getStatus()))}else v(new je(Te.UNAVAILABLE,"Connection failed."));break;default:st()}}finally{Ke("Connection",'RPC "'+r+'" completed.')}});const S=JSON.stringify(u);x.send(i,"POST",S,o,15)})}ji(r,i){const o=[this.Fi,"/","google.firestore.v1.Firestore","/",r,"/channel"],u=new Eu,f=Lf(),v={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling};this.useFetchStreams&&(v.xmlHttpFactory=new wm({})),this.Ui(v.initMessageHeaders,i),(0,$t.uI)()||(0,$t.b$)()||(0,$t.d)()||(0,$t.w1)()||(0,$t.Mn)()||(0,$t.ru)()||(v.httpHeadersOverwriteParam="$httpHeaders");const x=o.join("");Ke("Connection","Creating WebChannel: "+x,v);const S=u.createWebChannel(x,v);let L=!1,P=!1;const W=new kC({vi:fe=>{P?Ke("Connection","Not sending because WebChannel is closed:",fe):(L||(Ke("Connection","Opening WebChannel transport."),S.open(),L=!0),Ke("Connection","WebChannel sending:",fe),S.send(fe))},Vi:()=>S.close()}),he=(fe,Ee,$e)=>{fe.listen(Ee,Ze=>{try{$e(Ze)}catch(Xe){setTimeout(()=>{throw Xe},0)}})};return he(S,_3.EventType.OPEN,()=>{P||Ke("Connection","WebChannel transport opened.")}),he(S,_3.EventType.CLOSE,()=>{P||(P=!0,Ke("Connection","WebChannel transport closed"),W.$i())}),he(S,_3.EventType.ERROR,fe=>{P||(P=!0,Fa("Connection","WebChannel transport errored:",fe),W.$i(new je(Te.UNAVAILABLE,"The operation could not be completed")))}),he(S,_3.EventType.MESSAGE,fe=>{var Ee;if(!P){const $e=fe.data[0];bt(!!$e);const Ze=$e,Xe=Ze.error||(null===(Ee=Ze[0])||void 0===Ee?void 0:Ee.error);if(Xe){Ke("Connection","WebChannel received error:",Xe);const ht=Xe.status;let _t=function(sn){const ti=Jn[sn];if(void 0!==ti)return qm(ti)}(ht),At=Xe.message;void 0===_t&&(_t=Te.INTERNAL,At="Unknown error status: "+ht+" with message "+Xe.message),P=!0,W.$i(new je(_t,At)),S.close()}else Ke("Connection","WebChannel received:",$e),W.Oi($e)}}),he(f,bm.STAT_EVENT,fe=>{fe.stat===od_PROXY?Ke("Connection","Detected buffering proxy"):fe.stat===od_NOPROXY&&Ke("Connection","Detected no buffering proxy")}),setTimeout(()=>{W.ki()},0),W}}function e7(){return"undefined"!=typeof window?window:null}function $3(){return"undefined"!=typeof document?document:null}function f4(s){return new oC(s,!0)}class s5{constructor(r,i,o=1e3,u=1.5,f=6e4){this.Oe=r,this.timerId=i,this.Qi=o,this.Wi=u,this.Gi=f,this.zi=0,this.Hi=null,this.Ji=Date.now(),this.reset()}reset(){this.zi=0}Yi(){this.zi=this.Gi}Xi(r){this.cancel();const i=Math.floor(this.zi+this.Zi()),o=Math.max(0,Date.now()-this.Ji),u=Math.max(0,i-o);u>0&&Ke("ExponentialBackoff",`Backing off for ${u} ms (base delay: ${this.zi} ms, delay with jitter: ${i} ms, last attempt: ${o} ms ago)`),this.Hi=this.Oe.enqueueAfterDelay(this.timerId,u,()=>(this.Ji=Date.now(),r())),this.zi*=this.Wi,this.zi<this.Qi&&(this.zi=this.Qi),this.zi>this.Gi&&(this.zi=this.Gi)}tr(){null!==this.Hi&&(this.Hi.skipDelay(),this.Hi=null)}cancel(){null!==this.Hi&&(this.Hi.cancel(),this.Hi=null)}Zi(){return(Math.random()-.5)*this.zi}}class t7{constructor(r,i,o,u,f,v){this.Oe=r,this.er=o,this.nr=u,this.credentialsProvider=f,this.listener=v,this.state=0,this.sr=0,this.ir=null,this.stream=null,this.rr=new s5(r,i)}ar(){return 1===this.state||2===this.state||4===this.state}cr(){return 2===this.state}start(){3!==this.state?this.auth():this.ur()}stop(){var r=this;return(0,Ae.Z)(function*(){r.ar()&&(yield r.close(0))})()}hr(){this.state=0,this.rr.reset()}lr(){this.cr()&&null===this.ir&&(this.ir=this.Oe.enqueueAfterDelay(this.er,6e4,()=>this.dr()))}wr(r){this._r(),this.stream.send(r)}dr(){var r=this;return(0,Ae.Z)(function*(){if(r.cr())return r.close(0)})()}_r(){this.ir&&(this.ir.cancel(),this.ir=null)}close(r,i){var o=this;return(0,Ae.Z)(function*(){o._r(),o.rr.cancel(),o.sr++,3!==r?o.rr.reset():i&&i.code===Te.RESOURCE_EXHAUSTED?($n(i.toString()),$n("Using maximum backoff delay to prevent overloading the backend."),o.rr.Yi()):i&&i.code===Te.UNAUTHENTICATED&&o.credentialsProvider.invalidateToken(),null!==o.stream&&(o.mr(),o.stream.close(),o.stream=null),o.state=r,yield o.listener.Ci(i)})()}mr(){}auth(){this.state=1;const r=this.gr(this.sr),i=this.sr;this.credentialsProvider.getToken().then(o=>{this.sr===i&&this.yr(o)},o=>{r(()=>{const u=new je(Te.UNKNOWN,"Fetching auth token failed: "+o.message);return this.pr(u)})})}yr(r){const i=this.gr(this.sr);this.stream=this.Er(r),this.stream.Si(()=>{i(()=>(this.state=2,this.listener.Si()))}),this.stream.Ci(o=>{i(()=>this.pr(o))}),this.stream.onMessage(o=>{i(()=>this.onMessage(o))})}ur(){var r=this;this.state=4,this.rr.Xi((0,Ae.Z)(function*(){r.state=0,r.start()}))}pr(r){return Ke("PersistentStream",`close with error: ${r}`),this.stream=null,this.close(3,r)}gr(r){return i=>{this.Oe.enqueueAndForget(()=>this.sr===r?i():(Ke("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class Tg extends t7{constructor(r,i,o,u,f){super(r,"listen_stream_connection_backoff","listen_stream_idle",i,o,f),this.N=u}Er(r){return this.nr.ji("Listen",r)}onMessage(r){this.rr.reset();const i=function(s,r){let i;if("targetChange"in r){const o="NO_CHANGE"===(S=r.targetChange.targetChangeType||"NO_CHANGE")?0:"ADD"===S?1:"REMOVE"===S?2:"CURRENT"===S?3:"RESET"===S?4:st(),u=r.targetChange.targetIds||[],f=function(S,L){return S.D?(bt(void 0===L||"string"==typeof L),Un.fromBase64String(L||"")):(bt(void 0===L||L instanceof Uint8Array),Un.fromUint8Array(L||new Uint8Array))}(s,r.targetChange.resumeToken),v=r.targetChange.cause,x=v&&function(S){const L=void 0===S.code?Te.UNKNOWN:qm(S.code);return new je(L,S.message||"")}(v);i=new M3(o,u,f,x||null)}else if("documentChange"in r){const o=r.documentChange,u=_s(s,o.document.name),f=_1(o.document.updateTime),v=new o1({mapValue:{fields:o.document.fields}}),x=En.newFoundDocument(u,f,v);i=new Wu(o.targetIds||[],o.removedTargetIds||[],x.key,x)}else if("documentDelete"in r){const o=r.documentDelete,u=_s(s,o.document),f=o.readTime?_1(o.readTime):Dt.min(),v=En.newNoDocument(u,f);i=new Wu([],o.removedTargetIds||[],v.key,v)}else if("documentRemove"in r){const o=r.documentRemove,u=_s(s,o.document);i=new Wu([],o.removedTargetIds||[],u,null)}else{if(!("filter"in r))return st();{const o=r.filter,f=new eC(o.count||0);i=new Sd(o.targetId,f)}}var S;return i}(this.N,r),o=function(u){if(!("targetChange"in u))return Dt.min();const f=u.targetChange;return f.targetIds&&f.targetIds.length?Dt.min():f.readTime?_1(f.readTime):Dt.min()}(r);return this.listener.Tr(i,o)}Ir(r){const i={};i.database=D3(this.N),i.addTarget=function(u,f){let v;const x=f.target;return v=Ru(x)?{documents:N3(u,x)}:{query:rg(u,x)},v.targetId=f.targetId,f.resumeToken.approximateByteSize()>0?v.resumeToken=Jm(u,f.resumeToken):f.snapshotVersion.compareTo(Dt.min())>0&&(v.readTime=S3(u,f.snapshotVersion.toTimestamp())),v}(this.N,r);const o=function(s,r){const i=function(o,u){switch(u){case 0:return null;case 1:return"existence-filter-mismatch";case 2:return"limbo-document";default:return st()}}(0,r.purpose);return null==i?null:{"goog-listen-tags":i}}(0,r);o&&(i.labels=o),this.wr(i)}Ar(r){const i={};i.database=D3(this.N),i.removeTarget=r,this.wr(i)}}class OC extends t7{constructor(r,i,o,u,f){super(r,"write_stream_connection_backoff","write_stream_idle",i,o,f),this.N=u,this.Rr=!1}get Pr(){return this.Rr}start(){this.Rr=!1,this.lastStreamToken=void 0,super.start()}mr(){this.Rr&&this.br([])}Er(r){return this.nr.ji("Write",r)}onMessage(r){if(bt(!!r.streamToken),this.lastStreamToken=r.streamToken,this.Rr){this.rr.reset();const i=function(s,r){return s&&s.length>0?(bt(void 0!==r),s.map(i=>function(o,u){let f=_1(o.updateTime?o.updateTime:u);return f.isEqual(Dt.min())&&(f=_1(u)),new $m(f,o.transformResults||[])}(i,r))):[]}(r.writeResults,r.commitTime),o=_1(r.commitTime);return this.listener.vr(o,i)}return bt(!r.writeResults||0===r.writeResults.length),this.Rr=!0,this.listener.Vr()}Sr(){const r={};r.database=D3(this.N),this.wr(r)}br(r){const i={streamToken:this.lastStreamToken,writes:r.map(o=>Zu(this.N,o))};this.wr(i)}}class PC extends class{}{constructor(r,i,o){super(),this.credentials=r,this.nr=i,this.N=o,this.Dr=!1}Cr(){if(this.Dr)throw new je(Te.FAILED_PRECONDITION,"The client has already been terminated.")}Li(r,i,o){return this.Cr(),this.credentials.getToken().then(u=>this.nr.Li(r,i,o,u)).catch(u=>{throw"FirebaseError"===u.name?(u.code===Te.UNAUTHENTICATED&&this.credentials.invalidateToken(),u):new je(Te.UNKNOWN,u.toString())})}Ki(r,i,o){return this.Cr(),this.credentials.getToken().then(u=>this.nr.Ki(r,i,o,u)).catch(u=>{throw"FirebaseError"===u.name?(u.code===Te.UNAUTHENTICATED&&this.credentials.invalidateToken(),u):new je(Te.UNKNOWN,u.toString())})}terminate(){this.Dr=!0}}class Ng{constructor(r,i){this.asyncQueue=r,this.onlineStateHandler=i,this.state="Unknown",this.Nr=0,this.kr=null,this.$r=!0}Or(){0===this.Nr&&(this.Fr("Unknown"),this.kr=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this.kr=null,this.Mr("Backend didn't respond within 10 seconds."),this.Fr("Offline"),Promise.resolve())))}Lr(r){"Online"===this.state?this.Fr("Unknown"):(this.Nr++,this.Nr>=1&&(this.Br(),this.Mr(`Connection failed 1 times. Most recent error: ${r.toString()}`),this.Fr("Offline")))}set(r){this.Br(),this.Nr=0,"Online"===r&&(this.$r=!1),this.Fr(r)}Fr(r){r!==this.state&&(this.state=r,this.onlineStateHandler(r))}Mr(r){const i=`Could not reach Cloud Firestore backend. ${r}\nThis typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.$r?($n(i),this.$r=!1):Ke("OnlineStateTracker",i)}Br(){null!==this.kr&&(this.kr.cancel(),this.kr=null)}}class HC{constructor(r,i,o,u,f){var v=this;this.localStore=r,this.datastore=i,this.asyncQueue=o,this.remoteSyncer={},this.Ur=[],this.qr=new Map,this.Kr=new Set,this.jr=[],this.Qr=f,this.Qr.Ei(x=>{o.enqueueAndForget((0,Ae.Z)(function*(){var S;Co(v)&&(Ke("RemoteStore","Restarting streams for network reachability change."),yield(S=(0,Ae.Z)(function*(L){const P=Ye(L);P.Kr.add(4),yield N2(P),P.Wr.set("Unknown"),P.Kr.delete(4),yield G3(P)}),function(L){return S.apply(this,arguments)})(v))}))}),this.Wr=new Ng(o,u)}}function G3(s){return n7.apply(this,arguments)}function n7(){return(n7=(0,Ae.Z)(function*(s){if(Co(s))for(const r of s.jr)yield r(!0)})).apply(this,arguments)}function N2(s){return s0.apply(this,arguments)}function s0(){return(s0=(0,Ae.Z)(function*(s){for(const r of s.jr)yield r(!1)})).apply(this,arguments)}function o5(s,r){const i=Ye(s);i.qr.has(r.targetId)||(i.qr.set(r.targetId,r),r7(i)?d4(i):p4(i).cr()&&mi(i,r))}function o0(s,r){const i=Ye(s),o=p4(i);i.qr.delete(r),o.cr()&&zg(i,r),0===i.qr.size&&(o.cr()?o.lr():Co(i)&&i.Wr.set("Unknown"))}function mi(s,r){s.Gr.Y(r.targetId),p4(s).Ir(r)}function zg(s,r){s.Gr.Y(r),p4(s).Ar(r)}function d4(s){s.Gr=new A3({getRemoteKeysForTarget:r=>s.remoteSyncer.getRemoteKeysForTarget(r),Et:r=>s.qr.get(r)||null}),p4(s).start(),s.Wr.Or()}function r7(s){return Co(s)&&!p4(s).ar()&&s.qr.size>0}function Co(s){return 0===Ye(s).Kr.size}function FC(s){s.Gr=void 0}function i7(s){return W3.apply(this,arguments)}function W3(){return(W3=(0,Ae.Z)(function*(s){s.qr.forEach((r,i)=>{mi(s,r)})})).apply(this,arguments)}function Lg(s,r){return Z3.apply(this,arguments)}function Z3(){return(Z3=(0,Ae.Z)(function*(s,r){FC(s),r7(s)?(s.Wr.Lr(r),d4(s)):s.Wr.set("Unknown")})).apply(this,arguments)}function s7(s,r,i){return o7.apply(this,arguments)}function o7(){return(o7=(0,Ae.Z)(function*(s,r,i){if(s.Wr.set("Online"),r instanceof M3&&2===r.state&&r.cause)try{yield(o=(0,Ae.Z)(function*(u,f){const v=f.cause;for(const x of f.targetIds)u.qr.has(x)&&(yield u.remoteSyncer.rejectListen(x,v),u.qr.delete(x),u.Gr.removeTarget(x))}),function(u,f){return o.apply(this,arguments)})(s,r)}catch(o){Ke("RemoteStore","Failed to remove targets %s: %s ",r.targetIds.join(","),o),yield a5(s,o)}else if(r instanceof Wu?s.Gr.rt(r):r instanceof Sd?s.Gr.ft(r):s.Gr.ct(r),!i.isEqual(Dt.min()))try{const o=yield Eg(s.localStore);i.compareTo(o)>=0&&(yield function(u,f){const v=u.Gr._t(f);return v.targetChanges.forEach((x,S)=>{if(x.resumeToken.approximateByteSize()>0){const L=u.qr.get(S);L&&u.qr.set(S,L.withResumeToken(x.resumeToken,f))}}),v.targetMismatches.forEach(x=>{const S=u.qr.get(x);if(!S)return;u.qr.set(x,S.withResumeToken(Un.EMPTY_BYTE_STRING,S.snapshotVersion)),zg(u,x);const L=new bs(S.target,x,1,S.sequenceNumber);mi(u,L)}),u.remoteSyncer.applyRemoteEvent(v)}(s,i))}catch(o){Ke("RemoteStore","Failed to raise snapshot:",o),yield a5(s,o)}var o})).apply(this,arguments)}function a5(s,r,i){return a7.apply(this,arguments)}function a7(){return(a7=(0,Ae.Z)(function*(s,r,i){if(!e0(r))throw r;s.Kr.add(1),yield N2(s),s.Wr.set("Offline"),i||(i=()=>Eg(s.localStore)),s.asyncQueue.enqueueRetryable((0,Ae.Z)(function*(){Ke("RemoteStore","Retrying IndexedDB access"),yield i(),s.Kr.delete(1),yield G3(s)}))})).apply(this,arguments)}function Vg(s,r){return r().catch(i=>a5(s,i,r))}function a0(s){return q3.apply(this,arguments)}function q3(){return(q3=(0,Ae.Z)(function*(s){const r=Ye(s),i=c0(r);let o=r.Ur.length>0?r.Ur[r.Ur.length-1].batchId:-1;for(;Rg(r);)try{const u=yield Wd(r.localStore,o);if(null===u){0===r.Ur.length&&i.lr();break}o=u.batchId,kg(r,u)}catch(u){yield a5(r,u)}c7(r)&&l7(r)})).apply(this,arguments)}function Rg(s){return Co(s)&&s.Ur.length<10}function kg(s,r){s.Ur.push(r);const i=c0(s);i.cr()&&i.Pr&&i.br(r.mutations)}function c7(s){return Co(s)&&!c0(s).ar()&&s.Ur.length>0}function l7(s){c0(s).start()}function UC(s){return c5.apply(this,arguments)}function c5(){return(c5=(0,Ae.Z)(function*(s){c0(s).Sr()})).apply(this,arguments)}function Og(s){return u7.apply(this,arguments)}function u7(){return(u7=(0,Ae.Z)(function*(s){const r=c0(s);for(const i of s.Ur)r.br(i.mutations)})).apply(this,arguments)}function Pg(s,r,i){return h7.apply(this,arguments)}function h7(){return(h7=(0,Ae.Z)(function*(s,r,i){const o=s.Ur.shift(),u=i4.from(o,r,i);yield Vg(s,()=>s.remoteSyncer.applySuccessfulWrite(u)),yield a0(s)})).apply(this,arguments)}function ew(s,r){return O1.apply(this,arguments)}function O1(){return(O1=(0,Ae.Z)(function*(s,r){var i;r&&c0(s).Pr&&(yield(i=(0,Ae.Z)(function*(o,u){if(Zm(f=u.code)&&f!==Te.ABORTED){const v=o.Ur.shift();c0(o).hr(),yield Vg(o,()=>o.remoteSyncer.rejectFailedWrite(v.batchId,u)),yield a0(o)}var f}),function(o,u){return i.apply(this,arguments)})(s,r)),c7(s)&&l7(s)})).apply(this,arguments)}function xo(s,r){return f7.apply(this,arguments)}function f7(){return(f7=(0,Ae.Z)(function*(s,r){const i=Ye(s);r?(i.Kr.delete(2),yield G3(i)):r||(i.Kr.add(2),yield N2(i),i.Wr.set("Unknown"))})).apply(this,arguments)}function p4(s){return s.zr||(s.zr=function(r,i,o){const u=Ye(r);return u.Cr(),new Tg(i,u.nr,u.credentials,u.N,o)}(s.datastore,s.asyncQueue,{Si:i7.bind(null,s),Ci:Lg.bind(null,s),Tr:s7.bind(null,s)}),s.jr.push(function(){var r=(0,Ae.Z)(function*(i){i?(s.zr.hr(),r7(s)?d4(s):s.Wr.set("Unknown")):(yield s.zr.stop(),FC(s))});return function(i){return r.apply(this,arguments)}}())),s.zr}function c0(s){return s.Hr||(s.Hr=function(r,i,o){const u=Ye(r);return u.Cr(),new OC(i,u.nr,u.credentials,u.N,o)}(s.datastore,s.asyncQueue,{Si:UC.bind(null,s),Ci:ew.bind(null,s),Vr:Og.bind(null,s),vr:Pg.bind(null,s)}),s.jr.push(function(){var r=(0,Ae.Z)(function*(i){i?(s.Hr.hr(),yield a0(s)):(yield s.Hr.stop(),s.Ur.length>0&&(Ke("RemoteStore",`Stopping write stream with ${s.Ur.length} pending writes`),s.Ur=[]))});return function(i){return r.apply(this,arguments)}}())),s.Hr}class l0{constructor(r,i,o,u,f){this.asyncQueue=r,this.timerId=i,this.targetTimeMs=o,this.op=u,this.removalCallback=f,this.deferred=new z1,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(v=>{})}static createAndSchedule(r,i,o,u,f){const v=Date.now()+o,x=new l0(r,i,v,u,f);return x.start(o),x}start(r){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),r)}skipDelay(){return this.handleDelayElapsed()}cancel(r){null!==this.timerHandle&&(this.clearTimeout(),this.deferred.reject(new je(Te.CANCELLED,"Operation cancelled"+(r?": "+r:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>null!==this.timerHandle?(this.clearTimeout(),this.op().then(r=>this.deferred.resolve(r))):Promise.resolve())}clearTimeout(){null!==this.timerHandle&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function m4(s,r){if($n("AsyncQueue",`${r}: ${s}`),e0(s))return new je(Te.UNAVAILABLE,`${r}: ${s}`);throw s}class bo{constructor(r){this.comparator=r?(i,o)=>r(i,o)||lt.comparator(i.key,o.key):(i,o)=>lt.comparator(i.key,o.key),this.keyedMap=Ed(),this.sortedSet=new c1(this.comparator)}static emptySet(r){return new bo(r.comparator)}has(r){return null!=this.keyedMap.get(r)}get(r){return this.keyedMap.get(r)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(r){const i=this.keyedMap.get(r);return i?this.sortedSet.indexOf(i):-1}get size(){return this.sortedSet.size}forEach(r){this.sortedSet.inorderTraversal((i,o)=>(r(i),!1))}add(r){const i=this.delete(r.key);return i.copy(i.keyedMap.insert(r.key,r),i.sortedSet.insert(r,null))}delete(r){const i=this.get(r);return i?this.copy(this.keyedMap.remove(r),this.sortedSet.remove(i)):this}isEqual(r){if(!(r instanceof bo)||this.size!==r.size)return!1;const i=this.sortedSet.getIterator(),o=r.sortedSet.getIterator();for(;i.hasNext();){const u=i.getNext().key,f=o.getNext().key;if(!u.isEqual(f))return!1}return!0}toString(){const r=[];return this.forEach(i=>{r.push(i.toString())}),0===r.length?"DocumentSet ()":"DocumentSet (\n  "+r.join("  \n")+"\n)"}copy(r,i){const o=new bo;return o.comparator=this.comparator,o.keyedMap=r,o.sortedSet=i,o}}class Hg{constructor(){this.Jr=new c1(lt.comparator)}track(r){const i=r.doc.key,o=this.Jr.get(i);o?0!==r.type&&3===o.type?this.Jr=this.Jr.insert(i,r):3===r.type&&1!==o.type?this.Jr=this.Jr.insert(i,{type:o.type,doc:r.doc}):2===r.type&&2===o.type?this.Jr=this.Jr.insert(i,{type:2,doc:r.doc}):2===r.type&&0===o.type?this.Jr=this.Jr.insert(i,{type:0,doc:r.doc}):1===r.type&&0===o.type?this.Jr=this.Jr.remove(i):1===r.type&&2===o.type?this.Jr=this.Jr.insert(i,{type:1,doc:o.doc}):0===r.type&&1===o.type?this.Jr=this.Jr.insert(i,{type:2,doc:r.doc}):st():this.Jr=this.Jr.insert(i,r)}Yr(){const r=[];return this.Jr.inorderTraversal((i,o)=>{r.push(o)}),r}}class u0{constructor(r,i,o,u,f,v,x,S){this.query=r,this.docs=i,this.oldDocs=o,this.docChanges=u,this.mutatedKeys=f,this.fromCache=v,this.syncStateChanged=x,this.excludesMetadataChanges=S}static fromInitialDocuments(r,i,o,u){const f=[];return i.forEach(v=>{f.push({type:0,doc:v})}),new u0(r,i,bo.emptySet(i),f,o,u,!0,!1)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(r){if(!(this.fromCache===r.fromCache&&this.syncStateChanged===r.syncStateChanged&&this.mutatedKeys.isEqual(r.mutatedKeys)&&x3(this.query,r.query)&&this.docs.isEqual(r.docs)&&this.oldDocs.isEqual(r.oldDocs)))return!1;const i=this.docChanges,o=r.docChanges;if(i.length!==o.length)return!1;for(let u=0;u<i.length;u++)if(i[u].type!==o[u].type||!i[u].doc.isEqual(o[u].doc))return!1;return!0}}class BC{constructor(){this.Xr=void 0,this.listeners=[]}}class jC{constructor(){this.queries=new T2(r=>Pm(r),x3),this.onlineState="Unknown",this.Zr=new Set}}function K3(s,r){return l5.apply(this,arguments)}function l5(){return(l5=(0,Ae.Z)(function*(s,r){const i=Ye(s),o=r.query;let u=!1,f=i.queries.get(o);if(f||(u=!0,f=new BC),u)try{f.Xr=yield i.onListen(o)}catch(v){const x=m4(v,`Initialization of query '${yd(r.query)}' failed`);return void r.onError(x)}i.queries.set(o,f),f.listeners.push(r),r.eo(i.onlineState),f.Xr&&r.no(f.Xr)&&h5(i)})).apply(this,arguments)}function u5(s,r){return g4.apply(this,arguments)}function g4(){return(g4=(0,Ae.Z)(function*(s,r){const i=Ye(s),o=r.query;let u=!1;const f=i.queries.get(o);if(f){const v=f.listeners.indexOf(r);v>=0&&(f.listeners.splice(v,1),u=0===f.listeners.length)}if(u)return i.queries.delete(o),i.onUnlisten(o)})).apply(this,arguments)}function d7(s,r){const i=Ye(s);let o=!1;for(const u of r){const v=i.queries.get(u.query);if(v){for(const x of v.listeners)x.no(u)&&(o=!0);v.Xr=u}}o&&h5(i)}function tw(s,r,i){const o=Ye(s),u=o.queries.get(r);if(u)for(const f of u.listeners)f.onError(i);o.queries.delete(r)}function h5(s){s.Zr.forEach(r=>{r.next()})}class p7{constructor(r,i,o){this.query=r,this.so=i,this.io=!1,this.ro=null,this.onlineState="Unknown",this.options=o||{}}no(r){if(!this.options.includeMetadataChanges){const o=[];for(const u of r.docChanges)3!==u.type&&o.push(u);r=new u0(r.query,r.docs,r.oldDocs,o,r.mutatedKeys,r.fromCache,r.syncStateChanged,!0)}let i=!1;return this.io?this.oo(r)&&(this.so.next(r),i=!0):this.ao(r,this.onlineState)&&(this.co(r),i=!0),this.ro=r,i}onError(r){this.so.error(r)}eo(r){this.onlineState=r;let i=!1;return this.ro&&!this.io&&this.ao(this.ro,r)&&(this.co(this.ro),i=!0),i}ao(r,i){return!r.fromCache||!(this.options.uo&&"Offline"!==i||r.docs.isEmpty()&&"Offline"!==i)}oo(r){return r.docChanges.length>0||!!(r.syncStateChanged||this.ro&&this.ro.hasPendingWrites!==r.hasPendingWrites)&&!0===this.options.includeMetadataChanges}co(r){r=u0.fromInitialDocuments(r.query,r.docs,r.mutatedKeys,r.fromCache),this.io=!0,this.so.next(r)}}class Fg{constructor(r,i){this.payload=r,this.byteLength=i}ho(){return"metadata"in this.payload}}class Y3{constructor(r){this.N=r}zn(r){return _s(this.N,r)}Hn(r){return r.metadata.exists?T3(this.N,r.document,!1):En.newNoDocument(this.zn(r.metadata.name),this.Jn(r.metadata.readTime))}Jn(r){return _1(r)}}class Ug{constructor(r,i,o){this.lo=r,this.localStore=i,this.N=o,this.queries=[],this.documents=[],this.progress=Bg(r)}fo(r){this.progress.bytesLoaded+=r.byteLength;let i=this.progress.documentsLoaded;return r.payload.namedQuery?this.queries.push(r.payload.namedQuery):r.payload.documentMetadata?(this.documents.push({metadata:r.payload.documentMetadata}),r.payload.documentMetadata.exists||++i):r.payload.document&&(this.documents[this.documents.length-1].document=r.payload.document,++i),i!==this.progress.documentsLoaded?(this.progress.documentsLoaded=i,Object.assign({},this.progress)):null}wo(r){const i=new Map,o=new Y3(this.N);for(const u of r)if(u.metadata.queries){const f=o.zn(u.metadata.name);for(const v of u.metadata.queries){const x=(i.get(v)||en()).add(f);i.set(v,x)}}return i}complete(){var r=this;return(0,Ae.Z)(function*(){const i=yield function(s,r,i,o){return r5.apply(this,arguments)}(r.localStore,new Y3(r.N),r.documents,r.lo.id),o=r.wo(r.documents);for(const u of r.queries)yield DC(r.localStore,u,o.get(u.name));return r.progress.taskState="Success",new wC(Object.assign({},r.progress),i)})()}}function Bg(s){return{taskState:"Running",documentsLoaded:0,bytesLoaded:0,totalDocuments:s.totalDocuments,totalBytes:s.totalBytes}}class f5{constructor(r){this.key=r}}class d5{constructor(r){this.key=r}}class jg{constructor(r,i){this.query=r,this._o=i,this.mo=null,this.current=!1,this.yo=en(),this.mutatedKeys=en(),this.po=_d(r),this.Eo=new bo(this.po)}get To(){return this._o}Io(r,i){const o=i?i.Ao:new Hg,u=i?i.Eo:this.Eo;let f=i?i.mutatedKeys:this.mutatedKeys,v=u,x=!1;const S=Wc(this.query)&&u.size===this.query.limit?u.last():null,L=Ou(this.query)&&u.size===this.query.limit?u.first():null;if(r.inorderTraversal((P,W)=>{const he=u.get(P),fe=qc(this.query,W)?W:null,Ee=!!he&&this.mutatedKeys.has(he.key),$e=!!fe&&(fe.hasLocalMutations||this.mutatedKeys.has(fe.key)&&fe.hasCommittedMutations);let Ze=!1;he&&fe?he.data.isEqual(fe.data)?Ee!==$e&&(o.track({type:3,doc:fe}),Ze=!0):this.Ro(he,fe)||(o.track({type:2,doc:fe}),Ze=!0,(S&&this.po(fe,S)>0||L&&this.po(fe,L)<0)&&(x=!0)):!he&&fe?(o.track({type:0,doc:fe}),Ze=!0):he&&!fe&&(o.track({type:1,doc:he}),Ze=!0,(S||L)&&(x=!0)),Ze&&(fe?(v=v.add(fe),f=$e?f.add(P):f.delete(P)):(v=v.delete(P),f=f.delete(P)))}),Wc(this.query)||Ou(this.query))for(;v.size>this.query.limit;){const P=Wc(this.query)?v.last():v.first();v=v.delete(P.key),f=f.delete(P.key),o.track({type:1,doc:P})}return{Eo:v,Ao:o,Ln:x,mutatedKeys:f}}Ro(r,i){return r.hasLocalMutations&&i.hasCommittedMutations&&!i.hasLocalMutations}applyChanges(r,i,o){const u=this.Eo;this.Eo=r.Eo,this.mutatedKeys=r.mutatedKeys;const f=r.Ao.Yr();f.sort((L,P)=>function(W,he){const fe=Ee=>{switch(Ee){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return st()}};return fe(W)-fe(he)}(L.type,P.type)||this.po(L.doc,P.doc)),this.Po(o);const v=i?this.bo():[],x=0===this.yo.size&&this.current?1:0,S=x!==this.mo;return this.mo=x,0!==f.length||S?{snapshot:new u0(this.query,r.Eo,u,f,r.mutatedKeys,0===x,S,!1),vo:v}:{vo:v}}eo(r){return this.current&&"Offline"===r?(this.current=!1,this.applyChanges({Eo:this.Eo,Ao:new Hg,mutatedKeys:this.mutatedKeys,Ln:!1},!1)):{vo:[]}}Vo(r){return!this._o.has(r)&&!!this.Eo.has(r)&&!this.Eo.get(r).hasLocalMutations}Po(r){r&&(r.addedDocuments.forEach(i=>this._o=this._o.add(i)),r.modifiedDocuments.forEach(i=>{}),r.removedDocuments.forEach(i=>this._o=this._o.delete(i)),this.current=r.current)}bo(){if(!this.current)return[];const r=this.yo;this.yo=en(),this.Eo.forEach(o=>{this.Vo(o.key)&&(this.yo=this.yo.add(o.key))});const i=[];return r.forEach(o=>{this.yo.has(o)||i.push(new d5(o))}),this.yo.forEach(o=>{r.has(o)||i.push(new f5(o))}),i}So(r){this._o=r.Gn,this.yo=en();const i=this.Io(r.documents);return this.applyChanges(i,!0)}Do(){return u0.fromInitialDocuments(this.query,this.Eo,this.mutatedKeys,0===this.mo)}}class $C{constructor(r,i,o){this.query=r,this.targetId=i,this.view=o}}class $g{constructor(r){this.key=r,this.Co=!1}}class Gg{constructor(r,i,o,u,f,v){this.localStore=r,this.remoteStore=i,this.eventManager=o,this.sharedClientState=u,this.currentUser=f,this.maxConcurrentLimboResolutions=v,this.No={},this.xo=new T2(x=>Pm(x),x3),this.ko=new Map,this.$o=new Set,this.Oo=new c1(lt.comparator),this.Fo=new Map,this.Mo=new i5,this.Lo={},this.Bo=new Map,this.Uo=ws.ie(),this.onlineState="Unknown",this.qo=void 0}get isPrimaryClient(){return!0===this.qo}}function Wg(s,r){return m7.apply(this,arguments)}function m7(){return(m7=(0,Ae.Z)(function*(s,r){const i=uv(s);let o,u;const f=i.xo.get(r);if(f)o=f.targetId,i.sharedClientState.addLocalQueryTarget(o),u=f.view.Do();else{const v=yield c4(i.localStore,di(r)),x=i.sharedClientState.addLocalQueryTarget(v.targetId);o=v.targetId,u=yield p5(i,r,o,"current"===x),i.isPrimaryClient&&o5(i.remoteStore,v)}return u})).apply(this,arguments)}function p5(s,r,i,o){return m5.apply(this,arguments)}function m5(){return(m5=(0,Ae.Z)(function*(s,r,i,o){s.Ko=(P,W,he)=>{return(fe=(0,Ae.Z)(function*(Ee,$e,Ze,Xe){let ht=$e.view.Io(Ze);ht.Ln&&(ht=yield U3(Ee.localStore,$e.query,!1).then(({documents:sn})=>$e.view.Io(sn,ht)));const _t=Xe&&Xe.targetChanges.get($e.targetId),At=$e.view.applyChanges(ht,Ee.isPrimaryClient,_t);return ev(Ee,$e.targetId,At.vo),At.snapshot}),function(Ee,$e,Ze,Xe){return fe.apply(this,arguments)})(s,P,W,he);var fe};const u=yield U3(s.localStore,r,!0),f=new jg(r,u.Gn),v=f.Io(u.documents),x=vo.createSynthesizedTargetChangeForCurrentChange(i,o&&"Offline"!==s.onlineState),S=f.applyChanges(v,s.isPrimaryClient,x);ev(s,i,S.vo);const L=new $C(r,i,f);return s.xo.set(r,L),s.ko.has(i)?s.ko.get(i).push(r):s.ko.set(i,[r]),S.snapshot})).apply(this,arguments)}function GC(s,r){return g7.apply(this,arguments)}function g7(){return(g7=(0,Ae.Z)(function*(s,r){const i=Ye(s),o=i.xo.get(r),u=i.ko.get(o.targetId);if(u.length>1)return i.ko.set(o.targetId,u.filter(f=>!x3(f,r))),void i.xo.delete(r);i.isPrimaryClient?(i.sharedClientState.removeLocalQueryTarget(o.targetId),i.sharedClientState.isActiveQueryTarget(o.targetId)||(yield $i(i.localStore,o.targetId,!1).then(()=>{i.sharedClientState.clearQueryState(o.targetId),o0(i.remoteStore,o.targetId),Q3(i,o.targetId)}).catch(n0))):(Q3(i,o.targetId),yield $i(i.localStore,o.targetId,!0))})).apply(this,arguments)}function v7(){return(v7=(0,Ae.Z)(function*(s,r,i){const o=E7(s);try{const u=yield function(f,v){const x=Ye(f),S=L1.now(),L=v.reduce((W,he)=>W.add(he.key),en());let P;return x.persistence.runTransaction("Locally write mutations","readwrite",W=>x.Qn.bn(W,L).next(he=>{P=he;const fe=[];for(const Ee of v){const $e=ju(Ee,P.get(Ee.key));null!=$e&&fe.push(new qa(Ee.key,$e,Tm($e.value.mapValue),a1.exists(!0)))}return x.In.addMutationBatch(W,S,fe,v)})).then(W=>(W.applyToLocalDocumentSet(P),{batchId:W.batchId,changes:P}))}(o.localStore,r);o.sharedClientState.addPendingMutation(u.batchId),function(f,v,x){let S=f.Lo[f.currentUser.toKey()];S||(S=new c1(Vt)),S=S.insert(v,x),f.Lo[f.currentUser.toKey()]=S}(o,u.batchId,i),yield wo(o,u.changes),yield a0(o.remoteStore)}catch(u){const f=m4(u,"Failed to persist write");i.reject(f)}})).apply(this,arguments)}function y7(s,r){return g5.apply(this,arguments)}function g5(){return(g5=(0,Ae.Z)(function*(s,r){const i=Ye(s);try{const o=yield SC(i.localStore,r);r.targetChanges.forEach((u,f)=>{const v=i.Fo.get(f);v&&(bt(u.addedDocuments.size+u.modifiedDocuments.size+u.removedDocuments.size<=1),u.addedDocuments.size>0?v.Co=!0:u.modifiedDocuments.size>0?bt(v.Co):u.removedDocuments.size>0&&(bt(v.Co),v.Co=!1))}),yield wo(i,o,r)}catch(o){yield n0(o)}})).apply(this,arguments)}function _7(s,r,i){const o=Ye(s);if(o.isPrimaryClient&&0===i||!o.isPrimaryClient&&1===i){const u=[];o.xo.forEach((f,v)=>{const x=v.view.eo(r);x.snapshot&&u.push(x.snapshot)}),function(f,v){const x=Ye(f);x.onlineState=v;let S=!1;x.queries.forEach((L,P)=>{for(const W of P.listeners)W.eo(v)&&(S=!0)}),S&&h5(x)}(o.eventManager,r),u.length&&o.No.Tr(u),o.onlineState=r,o.isPrimaryClient&&o.sharedClientState.setOnlineState(r)}}function qg(s,r,i){return C7.apply(this,arguments)}function C7(){return(C7=(0,Ae.Z)(function*(s,r,i){const o=Ye(s);o.sharedClientState.updateQueryState(r,"rejected",i);const u=o.Fo.get(r),f=u&&u.key;if(f){let v=new c1(lt.comparator);v=v.insert(f,En.newNoDocument(f,Dt.min()));const x=en().add(f),S=new Xc(Dt.min(),new Map,new An(Vt),v,x);yield y7(o,S),o.Oo=o.Oo.remove(f),o.Fo.delete(r),tv(o)}else yield $i(o.localStore,r,!1).then(()=>Q3(o,r,i)).catch(n0)})).apply(this,arguments)}function WC(s,r){return x7.apply(this,arguments)}function x7(){return(x7=(0,Ae.Z)(function*(s,r){const i=Ye(s),o=r.batch.batchId;try{const u=yield AC(i.localStore,r);Xg(i,o,null),Jg(i,o),i.sharedClientState.updateMutationState(o,"acknowledged"),yield wo(i,u)}catch(u){yield n0(u)}})).apply(this,arguments)}function Kg(s,r,i){return Yg.apply(this,arguments)}function Yg(){return(Yg=(0,Ae.Z)(function*(s,r,i){const o=Ye(s);try{const u=yield function(f,v){const x=Ye(f);return x.persistence.runTransaction("Reject batch","readwrite-primary",S=>{let L;return x.In.lookupMutationBatch(S,v).next(P=>(bt(null!==P),L=P.keys(),x.In.removeMutationBatch(S,P))).next(()=>x.In.performConsistencyCheck(S)).next(()=>x.Qn.bn(S,L))})}(o.localStore,r);Xg(o,r,i),Jg(o,r),o.sharedClientState.updateMutationState(r,"rejected",i),yield wo(o,u)}catch(u){yield n0(u)}})).apply(this,arguments)}function Qg(){return(Qg=(0,Ae.Z)(function*(s,r){const i=Ye(s);Co(i.remoteStore)||Ke("SyncEngine","The network is disabled. The task returned by 'awaitPendingWrites()' will not complete until the network is enabled.");try{const o=yield function(f){const v=Ye(f);return v.persistence.runTransaction("Get highest unacknowledged batch id","readonly",x=>v.In.getHighestUnacknowledgedBatchId(x))}(i.localStore);if(-1===o)return void r.resolve();const u=i.Bo.get(o)||[];u.push(r),i.Bo.set(o,u)}catch(o){const u=m4(o,"Initialization of waitForPendingWrites() operation failed");r.reject(u)}})).apply(this,arguments)}function Jg(s,r){(s.Bo.get(r)||[]).forEach(i=>{i.resolve()}),s.Bo.delete(r)}function Xg(s,r,i){const o=Ye(s);let u=o.Lo[o.currentUser.toKey()];if(u){const f=u.get(r);f&&(i?f.reject(i):f.resolve(),u=u.remove(r)),o.Lo[o.currentUser.toKey()]=u}}function Q3(s,r,i=null){s.sharedClientState.removeLocalQueryTarget(r);for(const o of s.ko.get(r))s.xo.delete(o),i&&s.No.jo(o,i);s.ko.delete(r),s.isPrimaryClient&&s.Mo.cs(r).forEach(o=>{s.Mo.containsKey(o)||ZC(s,o)})}function ZC(s,r){s.$o.delete(r.path.canonicalString());const i=s.Oo.get(r);null!==i&&(o0(s.remoteStore,i),s.Oo=s.Oo.remove(r),s.Fo.delete(i),tv(s))}function ev(s,r,i){for(const o of i)o instanceof f5?(s.Mo.addReference(o.key,r),rw(s,o)):o instanceof d5?(Ke("SyncEngine","Document no longer in limbo: "+o.key),s.Mo.removeReference(o.key,r),s.Mo.containsKey(o.key)||ZC(s,o.key)):st()}function rw(s,r){const i=r.key,o=i.path.canonicalString();s.Oo.get(i)||s.$o.has(o)||(Ke("SyncEngine","New document in limbo: "+i),s.$o.add(o),tv(s))}function tv(s){for(;s.$o.size>0&&s.Oo.size<s.maxConcurrentLimboResolutions;){const r=s.$o.values().next().value;s.$o.delete(r);const i=new lt(Gt.fromString(r)),o=s.Uo.next();s.Fo.set(o,new $g(i)),s.Oo=s.Oo.insert(i,o),o5(s.remoteStore,new bs(di(Gc(i.path)),o,2,Jr.T))}}function wo(s,r,i){return nv.apply(this,arguments)}function nv(){return(nv=(0,Ae.Z)(function*(s,r,i){const o=Ye(s),u=[],f=[],v=[];var x;o.xo.isEmpty()||(o.xo.forEach((x,S)=>{v.push(o.Ko(S,r,i).then(L=>{if(L){o.isPrimaryClient&&o.sharedClientState.updateQueryState(S.targetId,L.fromCache?"not-current":"current"),u.push(L);const P=bg.kn(S.targetId,L);f.push(P)}}))}),yield Promise.all(v),o.No.Tr(u),yield(x=(0,Ae.Z)(function*(S,L){const P=Ye(S);try{yield P.persistence.runTransaction("notifyLocalViewChanges","readwrite",W=>Be.forEach(L,he=>Be.forEach(he.Nn,fe=>P.persistence.referenceDelegate.addReference(W,he.targetId,fe)).next(()=>Be.forEach(he.xn,fe=>P.persistence.referenceDelegate.removeReference(W,he.targetId,fe)))))}catch(W){if(!e0(W))throw W;Ke("LocalStore","Failed to update sequence numbers: "+W)}for(const W of L){const he=W.targetId;if(!W.fromCache){const fe=P.Un.get(he),$e=fe.withLastLimboFreeSnapshotVersion(fe.snapshotVersion);P.Un=P.Un.insert(he,$e)}}}),function(S,L){return x.apply(this,arguments)})(o.localStore,f))})).apply(this,arguments)}function iw(s,r){return rv.apply(this,arguments)}function rv(){return(rv=(0,Ae.Z)(function*(s,r){const i=Ye(s);if(!i.currentUser.isEqual(r)){Ke("SyncEngine","User change. New user:",r.toKey());const o=yield Mg(i.localStore,r);i.currentUser=r,(u=i).Bo.forEach(v=>{v.forEach(x=>{x.reject(new je(Te.CANCELLED,"'waitForPendingWrites' promise is rejected due to a user change."))})}),u.Bo.clear(),i.sharedClientState.handleUserChange(r,o.removedBatchIds,o.addedBatchIds),yield wo(i,o.Wn)}var u})).apply(this,arguments)}function sw(s,r){const i=Ye(s),o=i.Fo.get(r);if(o&&o.Co)return en().add(o.key);{let u=en();const f=i.ko.get(r);if(!f)return u;for(const v of f){const x=i.xo.get(v);u=u.unionWith(x.view.To)}return u}}function ow(s,r){return iv.apply(this,arguments)}function iv(){return(iv=(0,Ae.Z)(function*(s,r){const i=Ye(s),o=yield U3(i.localStore,r.query,!0),u=r.view.So(o);return i.isPrimaryClient&&ev(i,r.targetId,u.vo),u})).apply(this,arguments)}function qC(s){return b7.apply(this,arguments)}function b7(){return(b7=(0,Ae.Z)(function*(s){const r=Ye(s);return t5(r.localStore).then(i=>wo(r,i))})).apply(this,arguments)}function KC(s,r,i,o){return sv.apply(this,arguments)}function sv(){return(sv=(0,Ae.Z)(function*(s,r,i,o){const u=Ye(s),f=yield function(v,x){const S=Ye(v),L=Ye(S.In);return S.persistence.runTransaction("Lookup mutation documents","readonly",P=>L.Xt(P,x).next(W=>W?S.Qn.bn(P,W):Be.resolve(null)))}(u.localStore,r);var x;null!==f?("pending"===i?yield a0(u.remoteStore):"acknowledged"===i||"rejected"===i?(Xg(u,r,o||null),Jg(u,r),x=r,Ye(Ye(u.localStore).In).te(x)):st(),yield wo(u,f)):Ke("SyncEngine","Cannot apply mutation batch with id: "+r)})).apply(this,arguments)}function ov(){return(ov=(0,Ae.Z)(function*(s,r){const i=Ye(s);if(uv(i),E7(i),!0===r&&!0!==i.qo){const o=i.sharedClientState.getAllActiveQueryTargets(),u=yield av(i,o.toArray());i.qo=!0,yield xo(i.remoteStore,!0);for(const f of u)o5(i.remoteStore,f)}else if(!1===r&&!1!==i.qo){const o=[];let u=Promise.resolve();i.ko.forEach((f,v)=>{i.sharedClientState.isLocalQueryTarget(v)?o.push(v):u=u.then(()=>(Q3(i,v),$i(i.localStore,v,!0))),o0(i.remoteStore,v)}),yield u,yield av(i,o),function(f){const v=Ye(f);v.Fo.forEach((x,S)=>{o0(v.remoteStore,S)}),v.Mo.us(),v.Fo=new Map,v.Oo=new c1(lt.comparator)}(i),i.qo=!1,yield xo(i.remoteStore,!1)}})).apply(this,arguments)}function av(s,r,i){return w7.apply(this,arguments)}function w7(){return(w7=(0,Ae.Z)(function*(s,r,i){const o=Ye(s),u=[],f=[];for(const v of r){let x;const S=o.ko.get(v);if(S&&0!==S.length){x=yield c4(o.localStore,di(S[0]));for(const L of S){const P=o.xo.get(L),W=yield ow(o,P);W.snapshot&&f.push(W.snapshot)}}else{const L=yield pi(o.localStore,v);x=yield c4(o.localStore,L),yield p5(o,cv(L),v,!1)}u.push(x)}return o.No.Tr(f),u})).apply(this,arguments)}function cv(s){return km(s.path,s.collectionGroup,s.orderBy,s.filters,s.limit,"F",s.startAt,s.endAt)}function cw(s){const r=Ye(s);return Ye(Ye(r.localStore).persistence).pn()}function lw(s,r,i,o){return lv.apply(this,arguments)}function lv(){return(lv=(0,Ae.Z)(function*(s,r,i,o){const u=Ye(s);if(u.qo)Ke("SyncEngine","Ignoring unexpected query state notification.");else if(u.ko.has(r))switch(i){case"current":case"not-current":{const f=yield t5(u.localStore),v=Xc.createSynthesizedRemoteEventForCurrentChange(r,"current"===i);yield wo(u,f,v);break}case"rejected":yield $i(u.localStore,r,!0),Q3(u,r,o);break;default:st()}})).apply(this,arguments)}function uw(s,r,i){return M7.apply(this,arguments)}function M7(){return(M7=(0,Ae.Z)(function*(s,r,i){const o=uv(s);if(o.qo){for(const u of r){if(o.ko.has(u)){Ke("SyncEngine","Adding an already active target "+u);continue}const f=yield pi(o.localStore,u),v=yield c4(o.localStore,f);yield p5(o,cv(f),v.targetId,!1),o5(o.remoteStore,v)}for(const u of i)o.ko.has(u)&&(yield $i(o.localStore,u,!1).then(()=>{o0(o.remoteStore,u),Q3(o,u)}).catch(n0))}})).apply(this,arguments)}function uv(s){const r=Ye(s);return r.remoteStore.remoteSyncer.applyRemoteEvent=y7.bind(null,r),r.remoteStore.remoteSyncer.getRemoteKeysForTarget=sw.bind(null,r),r.remoteStore.remoteSyncer.rejectListen=qg.bind(null,r),r.No.Tr=d7.bind(null,r.eventManager),r.No.jo=tw.bind(null,r.eventManager),r}function E7(s){const r=Ye(s);return r.remoteStore.remoteSyncer.applySuccessfulWrite=WC.bind(null,r),r.remoteStore.remoteSyncer.rejectFailedWrite=Kg.bind(null,r),r}class h0{constructor(){this.synchronizeTabs=!1}initialize(r){var i=this;return(0,Ae.Z)(function*(){i.N=f4(r.databaseInfo.databaseId),i.sharedClientState=i.Wo(r),i.persistence=i.Go(r),yield i.persistence.start(),i.gcScheduler=i.zo(r),i.localStore=i.Ho(r)})()}zo(r){return null}Ho(r){return wg(this.persistence,new EC,r.initialUser,this.N)}Go(r){return new Xb(qd.Ns,this.N)}Wo(r){return new Ig}terminate(){var r=this;return(0,Ae.Z)(function*(){r.gcScheduler&&r.gcScheduler.stop(),yield r.sharedClientState.shutdown(),yield r.persistence.shutdown()})()}}class S7 extends h0{constructor(r,i,o){super(),this.Jo=r,this.cacheSizeBytes=i,this.forceOwnership=o,this.synchronizeTabs=!1}initialize(r){var i=()=>super.initialize,o=this;return(0,Ae.Z)(function*(){yield i().call(o,r),yield function(s){return n5.apply(this,arguments)}(o.localStore),yield o.Jo.initialize(o,r),yield E7(o.Jo.syncEngine),yield a0(o.Jo.remoteStore),yield o.persistence.nn(()=>(o.gcScheduler&&!o.gcScheduler.started&&o.gcScheduler.start(o.localStore),Promise.resolve()))})()}Ho(r){return wg(this.persistence,new EC,r.initialUser,this.N)}zo(r){return new yC(this.persistence.referenceDelegate.garbageCollector,r.asyncQueue)}Go(r){const i=Bd(r.databaseInfo.databaseId,r.databaseInfo.persistenceKey),o=void 0!==this.cacheSizeBytes?zr.withCacheSize(this.cacheSizeBytes):zr.DEFAULT;return new Ud(this.synchronizeTabs,i,r.clientId,o,r.asyncQueue,e7(),$3(),this.N,this.sharedClientState,!!this.forceOwnership)}Wo(r){return new Ig}}class YC extends S7{constructor(r,i){super(r,i,!1),this.Jo=r,this.cacheSizeBytes=i,this.synchronizeTabs=!0}initialize(r){var i=()=>super.initialize,o=this;return(0,Ae.Z)(function*(){yield i().call(o,r);const u=o.Jo.syncEngine;o.sharedClientState instanceof Xd&&(o.sharedClientState.syncEngine={_i:KC.bind(null,u),mi:lw.bind(null,u),gi:uw.bind(null,u),pn:cw.bind(null,u),wi:qC.bind(null,u)},yield o.sharedClientState.start()),yield o.persistence.nn(function(){var f=(0,Ae.Z)(function*(v){yield function(s,r){return ov.apply(this,arguments)}(o.Jo.syncEngine,v),o.gcScheduler&&(v&&!o.gcScheduler.started?o.gcScheduler.start(o.localStore):v||o.gcScheduler.stop())});return function(v){return f.apply(this,arguments)}}())})()}Wo(r){const i=e7();if(!Xd.Pt(i))throw new je(Te.UNIMPLEMENTED,"IndexedDB persistence is only available on platforms that support LocalStorage.");const o=Bd(r.databaseInfo.databaseId,r.databaseInfo.persistenceKey);return new Xd(i,r.asyncQueue,o,r.clientId,r.initialUser)}}class I7{initialize(r,i){var o=this;return(0,Ae.Z)(function*(){o.localStore||(o.localStore=r.localStore,o.sharedClientState=r.sharedClientState,o.datastore=o.createDatastore(i),o.remoteStore=o.createRemoteStore(i),o.eventManager=o.createEventManager(i),o.syncEngine=o.createSyncEngine(i,!r.synchronizeTabs),o.sharedClientState.onlineStateHandler=u=>_7(o.syncEngine,u,1),o.remoteStore.remoteSyncer.handleCredentialChange=iw.bind(null,o.syncEngine),yield xo(o.remoteStore,o.syncEngine.isPrimaryClient))})()}createEventManager(r){return new jC}createDatastore(r){const i=f4(r.databaseInfo.databaseId),o=new j3(r.databaseInfo);return new PC(r.credentials,o,i)}createRemoteStore(r){return i=this.localStore,o=this.datastore,u=r.asyncQueue,f=x=>_7(this.syncEngine,x,0),v=Dg.Pt()?new Dg:new VC,new HC(i,o,u,f,v);var i,o,u,f,v}createSyncEngine(r,i){return function(o,u,f,v,x,S,L){const P=new Gg(o,u,f,v,x,S);return L&&(P.qo=!0),P}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,r.initialUser,r.maxConcurrentLimboResolutions,i)}terminate(){return(r=(0,Ae.Z)(function*(i){const o=Ye(i);Ke("RemoteStore","RemoteStore shutting down."),o.Kr.add(5),yield N2(o),o.Qr.shutdown(),o.Wr.set("Unknown")}),function(i){return r.apply(this,arguments)})(this.remoteStore);var r}}function v5(s,r=10240){let i=0;return{read:()=>(0,Ae.Z)(function*(){if(i<s.byteLength){const o={value:s.slice(i,i+r),done:!1};return i+=r,o}return{done:!0}})(),cancel:()=>(0,Ae.Z)(function*(){})(),releaseLock(){},closed:Promise.reject("unimplemented")}}class J3{constructor(r){this.observer=r,this.muted=!1}next(r){this.observer.next&&this.Yo(this.observer.next,r)}error(r){this.observer.error?this.Yo(this.observer.error,r):console.error("Uncaught Error in snapshot listener:",r)}Xo(){this.muted=!0}Yo(r,i){this.muted||setTimeout(()=>{this.muted||r(i)},0)}}class hv{constructor(r,i){this.Zo=r,this.N=i,this.metadata=new z1,this.buffer=new Uint8Array,this.ta=new TextDecoder("utf-8"),this.ea().then(o=>{o&&o.ho()?this.metadata.resolve(o.payload.metadata):this.metadata.reject(new Error(`The first element of the bundle is not a metadata, it is\n             ${JSON.stringify(null==o?void 0:o.payload)}`))},o=>this.metadata.reject(o))}close(){return this.Zo.cancel()}getMetadata(){var r=this;return(0,Ae.Z)(function*(){return r.metadata.promise})()}Qo(){var r=this;return(0,Ae.Z)(function*(){return yield r.getMetadata(),r.ea()})()}ea(){var r=this;return(0,Ae.Z)(function*(){const i=yield r.na();if(null===i)return null;const o=r.ta.decode(i),u=Number(o);isNaN(u)&&r.sa(`length string (${o}) is not valid number`);const f=yield r.ia(u);return new Fg(JSON.parse(f),i.length+u)})()}ra(){return this.buffer.findIndex(r=>r==="{".charCodeAt(0))}na(){var r=this;return(0,Ae.Z)(function*(){for(;r.ra()<0&&!(yield r.oa()););if(0===r.buffer.length)return null;const i=r.ra();i<0&&r.sa("Reached the end of bundle when a length string is expected.");const o=r.buffer.slice(0,i);return r.buffer=r.buffer.slice(i),o})()}ia(r){var i=this;return(0,Ae.Z)(function*(){for(;i.buffer.length<r;)(yield i.oa())&&i.sa("Reached the end of bundle when more is expected.");const o=i.ta.decode(i.buffer.slice(0,r));return i.buffer=i.buffer.slice(r),o})()}sa(r){throw this.Zo.cancel(),new Error(`Invalid bundle format: ${r}`)}oa(){var r=this;return(0,Ae.Z)(function*(){const i=yield r.Zo.read();if(!i.done){const o=new Uint8Array(r.buffer.length+i.value.length);o.set(r.buffer),o.set(i.value,r.buffer.length),r.buffer=o}return i.done})()}}class fv{constructor(r){this.datastore=r,this.readVersions=new Map,this.mutations=[],this.committed=!1,this.lastWriteError=null,this.writtenDocs=new Set}lookup(r){var i=this;return(0,Ae.Z)(function*(){if(i.ensureCommitNotCalled(),i.mutations.length>0)throw new je(Te.INVALID_ARGUMENT,"Firestore transactions require all reads to be executed before all writes.");const o=yield(u=(0,Ae.Z)(function*(f,v){const x=Ye(f),S=D3(x.N)+"/documents",L={documents:v.map(fe=>I3(x.N,fe))},P=yield x.Ki("BatchGetDocuments",S,L),W=new Map;P.forEach(fe=>{const Ee=function(s,r){return"found"in r?function(i,o){bt(!!o.found);const u=_s(i,o.found.name),f=_1(o.found.updateTime),v=new o1({mapValue:{fields:o.found.fields}});return En.newFoundDocument(u,f,v)}(s,r):"missing"in r?function(i,o){bt(!!o.missing),bt(!!o.readTime);const u=_s(i,o.missing),f=_1(o.readTime);return En.newNoDocument(u,f)}(s,r):st()}(x.N,fe);W.set(Ee.key.toString(),Ee)});const he=[];return v.forEach(fe=>{const Ee=W.get(fe.toString());bt(!!Ee),he.push(Ee)}),he}),function(f,v){return u.apply(this,arguments)})(i.datastore,r);var u;return o.forEach(u=>i.recordVersion(u)),o})()}set(r,i){this.write(i.toMutation(r,this.precondition(r))),this.writtenDocs.add(r.toString())}update(r,i){try{this.write(i.toMutation(r,this.preconditionForUpdate(r)))}catch(o){this.lastWriteError=o}this.writtenDocs.add(r.toString())}delete(r){this.write(new $u(r,this.precondition(r))),this.writtenDocs.add(r.toString())}commit(){var r=this;return(0,Ae.Z)(function*(){if(r.ensureCommitNotCalled(),r.lastWriteError)throw r.lastWriteError;const i=r.readVersions;var o;r.mutations.forEach(o=>{i.delete(o.key.toString())}),i.forEach((o,u)=>{const f=lt.fromPath(u);r.mutations.push(new Qc(f,r.precondition(f)))}),yield(o=(0,Ae.Z)(function*(u,f){const v=Ye(u),x=D3(v.N)+"/documents",S={writes:f.map(L=>Zu(v.N,L))};yield v.Li("Commit",x,S)}),function(u,f){return o.apply(this,arguments)})(r.datastore,r.mutations),r.committed=!0})()}recordVersion(r){let i;if(r.isFoundDocument())i=r.version;else{if(!r.isNoDocument())throw st();i=Dt.min()}const o=this.readVersions.get(r.key.toString());if(o){if(!i.isEqual(o))throw new je(Te.ABORTED,"Document version changed between two reads.")}else this.readVersions.set(r.key.toString(),i)}precondition(r){const i=this.readVersions.get(r.toString());return!this.writtenDocs.has(r.toString())&&i?a1.updateTime(i):a1.none()}preconditionForUpdate(r){const i=this.readVersions.get(r.toString());if(!this.writtenDocs.has(r.toString())&&i){if(i.isEqual(Dt.min()))throw new je(Te.INVALID_ARGUMENT,"Can't update a document that doesn't exist.");return a1.updateTime(i)}return a1.exists(!0)}write(r){this.ensureCommitNotCalled(),this.mutations.push(r)}ensureCommitNotCalled(){}}class hw{constructor(r,i,o,u){this.asyncQueue=r,this.datastore=i,this.updateFunction=o,this.deferred=u,this.aa=5,this.rr=new s5(this.asyncQueue,"transaction_retry")}run(){this.aa-=1,this.ca()}ca(){var r=this;this.rr.Xi((0,Ae.Z)(function*(){const i=new fv(r.datastore),o=r.ua(i);o&&o.then(u=>{r.asyncQueue.enqueueAndForget(()=>i.commit().then(()=>{r.deferred.resolve(u)}).catch(f=>{r.ha(f)}))}).catch(u=>{r.ha(u)})}))}ua(r){try{const i=this.updateFunction(r);return!Ba(i)&&i.catch&&i.then?i:(this.deferred.reject(Error("Transaction callback must return a Promise")),null)}catch(i){return this.deferred.reject(i),null}}ha(r){this.aa>0&&this.la(r)?(this.aa-=1,this.asyncQueue.enqueueAndForget(()=>(this.ca(),Promise.resolve()))):this.deferred.reject(r)}la(r){if("FirebaseError"===r.name){const i=r.code;return"aborted"===i||"failed-precondition"===i||!Zm(i)}return!1}}class dv{constructor(r,i,o){var u=this;this.credentials=r,this.asyncQueue=i,this.databaseInfo=o,this.user=v1.UNAUTHENTICATED,this.clientId=Sm.I(),this.credentialListener=()=>Promise.resolve(),this.credentials.start(i,function(){var f=(0,Ae.Z)(function*(v){Ke("FirestoreClient","Received user=",v.uid),yield u.credentialListener(v),u.user=v});return function(v){return f.apply(this,arguments)}}())}getConfiguration(){var r=this;return(0,Ae.Z)(function*(){return{asyncQueue:r.asyncQueue,databaseInfo:r.databaseInfo,clientId:r.clientId,credentials:r.credentials,initialUser:r.user,maxConcurrentLimboResolutions:100}})()}setCredentialChangeListener(r){this.credentialListener=r}verifyNotTerminated(){if(this.asyncQueue.isShuttingDown)throw new je(Te.FAILED_PRECONDITION,"The client has already been terminated.")}terminate(){var r=this;this.asyncQueue.enterRestrictedMode();const i=new z1;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted((0,Ae.Z)(function*(){try{r.onlineComponents&&(yield r.onlineComponents.terminate()),r.offlineComponents&&(yield r.offlineComponents.terminate()),r.credentials.shutdown(),i.resolve()}catch(o){const u=m4(o,"Failed to shutdown persistence");i.reject(u)}})),i.promise}}function X3(s,r){return y5.apply(this,arguments)}function y5(){return(y5=(0,Ae.Z)(function*(s,r){s.asyncQueue.verifyOperationInProgress(),Ke("FirestoreClient","Initializing OfflineComponentProvider");const i=yield s.getConfiguration();yield r.initialize(i);let o=i.initialUser;s.setCredentialChangeListener(function(){var u=(0,Ae.Z)(function*(f){o.isEqual(f)||(yield Mg(r.localStore,f),o=f)});return function(f){return u.apply(this,arguments)}}()),r.persistence.setDatabaseDeletedListener(()=>s.terminate()),s.offlineComponents=r})).apply(this,arguments)}function QC(s,r){return pv.apply(this,arguments)}function pv(){return(pv=(0,Ae.Z)(function*(s,r){s.asyncQueue.verifyOperationInProgress();const i=yield mv(s);Ke("FirestoreClient","Initializing OnlineComponentProvider");const o=yield s.getConfiguration();yield r.initialize(i,o),s.setCredentialChangeListener(u=>{return(f=(0,Ae.Z)(function*(v,x){const S=Ye(v);S.asyncQueue.verifyOperationInProgress(),Ke("RemoteStore","RemoteStore received new credentials");const L=Co(S);S.Kr.add(3),yield N2(S),L&&S.Wr.set("Unknown"),yield S.remoteSyncer.handleCredentialChange(x),S.Kr.delete(3),yield G3(S)}),function(v,x){return f.apply(this,arguments)})(r.remoteStore,u);var f}),s.onlineComponents=r})).apply(this,arguments)}function mv(s){return D7.apply(this,arguments)}function D7(){return(D7=(0,Ae.Z)(function*(s){return s.offlineComponents||(Ke("FirestoreClient","Using default OfflineComponentProvider"),yield X3(s,new h0)),s.offlineComponents})).apply(this,arguments)}function T7(s){return v4.apply(this,arguments)}function v4(){return(v4=(0,Ae.Z)(function*(s){return s.onlineComponents||(Ke("FirestoreClient","Using default OnlineComponentProvider"),yield QC(s,new I7)),s.onlineComponents})).apply(this,arguments)}function gv(s){return mv(s).then(r=>r.persistence)}function vv(s){return mv(s).then(r=>r.localStore)}function JC(s){return T7(s).then(r=>r.remoteStore)}function el(s){return T7(s).then(r=>r.syncEngine)}function y4(s){return yv.apply(this,arguments)}function yv(){return(yv=(0,Ae.Z)(function*(s){const r=yield T7(s),i=r.eventManager;return i.onListen=Wg.bind(null,r.syncEngine),i.onUnlisten=GC.bind(null,r.syncEngine),i})).apply(this,arguments)}function N7(s,r,i={}){const o=new z1;return s.asyncQueue.enqueueAndForget((0,Ae.Z)(function*(){return function(u,f,v,x,S){const L=new J3({next:W=>{f.enqueueAndForget(()=>u5(u,P));const he=W.docs.has(v);!he&&W.fromCache?S.reject(new je(Te.UNAVAILABLE,"Failed to get document because the client is offline.")):he&&W.fromCache&&x&&"server"===x.source?S.reject(new je(Te.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):S.resolve(W)},error:W=>S.reject(W)}),P=new p7(Gc(v.path),L,{includeMetadataChanges:!0,uo:!0});return K3(u,P)}(yield y4(s),s.asyncQueue,r,i,o)})),o.promise}function tx(s,r,i={}){const o=new z1;return s.asyncQueue.enqueueAndForget((0,Ae.Z)(function*(){return function(u,f,v,x,S){const L=new J3({next:W=>{f.enqueueAndForget(()=>u5(u,P)),W.fromCache&&"server"===x.source?S.reject(new je(Te.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):S.resolve(W)},error:W=>S.reject(W)}),P=new p7(v,L,{includeMetadataChanges:!0,uo:!0});return K3(u,P)}(yield y4(s),s.asyncQueue,r,i,o)})),o.promise}class ix{constructor(r,i,o,u,f,v,x,S){this.databaseId=r,this.appId=i,this.persistenceKey=o,this.host=u,this.ssl=f,this.forceLongPolling=v,this.autoDetectLongPolling=x,this.useFetchStreams=S}}class _4{constructor(r,i){this.projectId=r,this.database=i||"(default)"}get isDefaultDatabase(){return"(default)"===this.database}isEqual(r){return r instanceof _4&&r.projectId===this.projectId&&r.database===this.database}}const _5=new Map;function z7(s,r,i){if(!i)throw new je(Te.INVALID_ARGUMENT,`Function ${s}() cannot be called with an empty ${r}.`)}function Lr(s,r,i,o){if(!0===r&&!0===o)throw new je(Te.INVALID_ARGUMENT,`${s} and ${i} cannot be used together.`)}function _v(s){if(!lt.isDocumentKey(s))throw new je(Te.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${s} has ${s.length}.`)}function C5(s){if(lt.isDocumentKey(s))throw new je(Te.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${s} has ${s.length}.`)}function x5(s){if(void 0===s)return"undefined";if(null===s)return"null";if("string"==typeof s)return s.length>20&&(s=`${s.substring(0,20)}...`),JSON.stringify(s);if("number"==typeof s||"boolean"==typeof s)return""+s;if("object"==typeof s){if(s instanceof Array)return"an array";{const r=function(i){if(i.constructor){const o=/function\s+([^\s(]+)\s*\(/.exec(i.constructor.toString());if(o&&o.length>1)return o[1]}return null}(s);return r?`a custom ${r} object`:"an object"}}return"function"==typeof s?"a function":st()}function Zt(s,r){if("_delegate"in s&&(s=s._delegate),!(s instanceof r)){if(r.name===s.constructor.name)throw new je(Te.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const i=x5(s);throw new je(Te.INVALID_ARGUMENT,`Expected type '${r.name}', but it was: ${i}`)}}return s}function b5(s,r){if(r<=0)throw new je(Te.INVALID_ARGUMENT,`Function ${s}() requires a positive number, but it was: ${r}.`)}class L7{constructor(r){var i;if(void 0===r.host){if(void 0!==r.ssl)throw new je(Te.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=r.host,this.ssl=null===(i=r.ssl)||void 0===i||i;if(this.credentials=r.credentials,this.ignoreUndefinedProperties=!!r.ignoreUndefinedProperties,void 0===r.cacheSizeBytes)this.cacheSizeBytes=41943040;else{if(-1!==r.cacheSizeBytes&&r.cacheSizeBytes<1048576)throw new je(Te.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=r.cacheSizeBytes}this.experimentalForceLongPolling=!!r.experimentalForceLongPolling,this.experimentalAutoDetectLongPolling=!!r.experimentalAutoDetectLongPolling,this.useFetchStreams=!!r.useFetchStreams,Lr("experimentalForceLongPolling",r.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",r.experimentalAutoDetectLongPolling)}isEqual(r){return this.host===r.host&&this.ssl===r.ssl&&this.credentials===r.credentials&&this.cacheSizeBytes===r.cacheSizeBytes&&this.experimentalForceLongPolling===r.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===r.experimentalAutoDetectLongPolling&&this.ignoreUndefinedProperties===r.ignoreUndefinedProperties&&this.useFetchStreams===r.useFetchStreams}}class C4{constructor(r,i){this._credentials=i,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new L7({}),this._settingsFrozen=!1,r instanceof _4?this._databaseId=r:(this._app=r,this._databaseId=function(o){if(!Object.prototype.hasOwnProperty.apply(o.options,["projectId"]))throw new je(Te.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new _4(o.options.projectId)}(r))}get app(){if(!this._app)throw new je(Te.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return void 0!==this._terminateTask}_setSettings(r){if(this._settingsFrozen)throw new je(Te.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new L7(r),void 0!==r.credentials&&(this._credentials=function(i){if(!i)return new Am;switch(i.type){case"gapi":const o=i.client;return bt(!("object"!=typeof o||null===o||!o.auth||!o.auth.getAuthHeaderValueForFirstParty)),new U_(o,i.sessionIndex||"0",i.iamToken||null);case"provider":return i.client;default:throw new je(Te.INVALID_ARGUMENT,"makeCredentialsProvider failed due to invalid credential type")}}(r.credentials))}_getSettings(){return this._settings}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask||(this._terminateTask=this._terminate()),this._terminateTask}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(r){const i=_5.get(r);i&&(Ke("ComponentProvider","Removing Datastore"),_5.delete(r),i.terminate())}(this),Promise.resolve()}}class gn{constructor(r,i,o){this.converter=i,this._key=o,this.type="document",this.firestore=r}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new z2(this.firestore,this.converter,this._key.path.popLast())}withConverter(r){return new gn(this.firestore,r,this._key)}}class P1{constructor(r,i,o){this.converter=i,this._query=o,this.type="query",this.firestore=r}withConverter(r){return new P1(this.firestore,r,this._query)}}class z2 extends P1{constructor(r,i,o){super(r,i,Gc(o)),this._path=o,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const r=this._path.popLast();return r.isEmpty()?null:new gn(this.firestore,null,new lt(r))}withConverter(r){return new z2(this.firestore,r,this._path)}}function Cv(s,r,...i){if(s=(0,$t.m9)(s),z7("collection","path",r),s instanceof C4){const o=Gt.fromString(r,...i);return C5(o),new z2(s,null,o)}{if(!(s instanceof gn||s instanceof z2))throw new je(Te.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const o=Gt.fromString(s.path,...i).child(Gt.fromString(r));return C5(o),new z2(s.firestore,null,o)}}function nl(s,r,...i){if(s=(0,$t.m9)(s),1===arguments.length&&(r=Sm.I()),z7("doc","path",r),s instanceof C4){const o=Gt.fromString(r,...i);return _v(o),new gn(s,null,new lt(o))}{if(!(s instanceof gn||s instanceof z2))throw new je(Te.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const o=s._path.child(Gt.fromString(r,...i));return _v(o),new gn(s.firestore,s instanceof z2?s.converter:null,new lt(o))}}function R7(s,r){return s=(0,$t.m9)(s),r=(0,$t.m9)(r),(s instanceof gn||s instanceof z2)&&(r instanceof gn||r instanceof z2)&&s.firestore===r.firestore&&s.path===r.path&&s.converter===r.converter}function w5(s,r){return s=(0,$t.m9)(s),r=(0,$t.m9)(r),s instanceof P1&&r instanceof P1&&s.firestore===r.firestore&&x3(s._query,r._query)&&s.converter===r.converter}class ox{constructor(){this.fa=Promise.resolve(),this.da=[],this.wa=!1,this._a=[],this.ma=null,this.ga=!1,this.ya=!1,this.pa=[],this.rr=new s5(this,"async_queue_retry"),this.Ea=()=>{const i=$3();i&&Ke("AsyncQueue","Visibility state changed to "+i.visibilityState),this.rr.tr()};const r=$3();r&&"function"==typeof r.addEventListener&&r.addEventListener("visibilitychange",this.Ea)}get isShuttingDown(){return this.wa}enqueueAndForget(r){this.enqueue(r)}enqueueAndForgetEvenWhileRestricted(r){this.Ta(),this.Ia(r)}enterRestrictedMode(r){if(!this.wa){this.wa=!0,this.ya=r||!1;const i=$3();i&&"function"==typeof i.removeEventListener&&i.removeEventListener("visibilitychange",this.Ea)}}enqueue(r){if(this.Ta(),this.wa)return new Promise(()=>{});const i=new z1;return this.Ia(()=>this.wa&&this.ya?Promise.resolve():(r().then(i.resolve,i.reject),i.promise)).then(()=>i.promise)}enqueueRetryable(r){this.enqueueAndForget(()=>(this.da.push(r),this.Aa()))}Aa(){var r=this;return(0,Ae.Z)(function*(){if(0!==r.da.length){try{yield r.da[0](),r.da.shift(),r.rr.reset()}catch(i){if(!e0(i))throw i;Ke("AsyncQueue","Operation failed with retryable error: "+i)}r.da.length>0&&r.rr.Xi(()=>r.Aa())}})()}Ia(r){const i=this.fa.then(()=>(this.ga=!0,r().catch(o=>{throw this.ma=o,this.ga=!1,$n("INTERNAL UNHANDLED ERROR: ",function(u){let f=u.message||"";return u.stack&&(f=u.stack.includes(u.message)?u.stack:u.message+"\n"+u.stack),f}(o)),o}).then(o=>(this.ga=!1,o))));return this.fa=i,i}enqueueAfterDelay(r,i,o){this.Ta(),this.pa.indexOf(r)>-1&&(i=0);const u=l0.createAndSchedule(this,r,i,o,f=>this.Ra(f));return this._a.push(u),u}Ta(){this.ma&&st()}verifyOperationInProgress(){}Pa(){var r=this;return(0,Ae.Z)(function*(){let i;do{i=r.fa,yield i}while(i!==r.fa)})()}ba(r){for(const i of this._a)if(i.timerId===r)return!0;return!1}va(r){return this.Pa().then(()=>{this._a.sort((i,o)=>i.targetTimeMs-o.targetTimeMs);for(const i of this._a)if(i.skipDelay(),"all"!==r&&i.timerId===r)break;return this.Pa()})}Va(r){this.pa.push(r)}Ra(r){const i=this._a.indexOf(r);this._a.splice(i,1)}}function ei(s){return function(r,i){if("object"!=typeof r||null===r)return!1;const o=r;for(const u of["next","error","complete"])if(u in o&&"function"==typeof o[u])return!0;return!1}(s)}class ax{constructor(){this._progressObserver={},this._taskCompletionResolver=new z1,this._lastProgress={taskState:"Running",totalBytes:0,totalDocuments:0,bytesLoaded:0,documentsLoaded:0}}onProgress(r,i,o){this._progressObserver={next:r,error:i,complete:o}}catch(r){return this._taskCompletionResolver.promise.catch(r)}then(r,i){return this._taskCompletionResolver.promise.then(r,i)}_completeWith(r){this._updateProgress(r),this._progressObserver.complete&&this._progressObserver.complete(),this._taskCompletionResolver.resolve(r)}_failWith(r){this._lastProgress.taskState="Error",this._progressObserver.next&&this._progressObserver.next(this._lastProgress),this._progressObserver.error&&this._progressObserver.error(r),this._taskCompletionResolver.reject(r)}_updateProgress(r){this._lastProgress=r,this._progressObserver.next&&this._progressObserver.next(r)}}class Bn extends C4{constructor(r,i){super(r,i),this.type="firestore",this._queue=new ox,this._persistenceKey="name"in r?r.name:"[DEFAULT]"}_terminate(){return this._firestoreClient||xv(this),this._firestoreClient.terminate()}}function u1(s){return s._firestoreClient||xv(s),s._firestoreClient.verifyNotTerminated(),s._firestoreClient}function xv(s){var r;const i=s._freezeSettings(),o=(f=(null===(r=s._app)||void 0===r?void 0:r.options.appId)||"",new ix(s._databaseId,f,s._persistenceKey,(x=i).host,x.ssl,x.experimentalForceLongPolling,x.experimentalAutoDetectLongPolling,x.useFetchStreams));var f,x;s._firestoreClient=new dv(s._credentials,s._queue,o)}function k7(s,r,i){const o=new z1;return s.asyncQueue.enqueue((0,Ae.Z)(function*(){try{yield X3(s,i),yield QC(s,r),o.resolve()}catch(u){if(!("FirebaseError"===(f=u).name?f.code===Te.FAILED_PRECONDITION||f.code===Te.UNIMPLEMENTED:!("undefined"!=typeof DOMException&&f instanceof DOMException)||22===f.code||20===f.code||11===f.code))throw u;console.warn("Error enabling offline persistence. Falling back to persistence disabled: "+u),o.reject(u)}var f})).then(()=>o.promise)}function Ev(s){if(s._initialized||s._terminated)throw new je(Te.FAILED_PRECONDITION,"Firestore has already been started and persistence can no longer be enabled. You can only enable persistence before calling any other methods on a Firestore object.")}class Ms{constructor(...r){for(let i=0;i<r.length;++i)if(0===r[i].length)throw new je(Te.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new V1(r)}isEqual(r){return this._internalPath.isEqual(r._internalPath)}}class Vr{constructor(r){this._byteString=r}static fromBase64String(r){try{return new Vr(Un.fromBase64String(r))}catch(i){throw new je(Te.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+i)}}static fromUint8Array(r){return new Vr(Un.fromUint8Array(r))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(r){return this._byteString.isEqual(r._byteString)}}class Es{constructor(r){this._methodName=r}}class rl{constructor(r,i){if(!isFinite(r)||r<-90||r>90)throw new je(Te.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+r);if(!isFinite(i)||i<-180||i>180)throw new je(Te.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+i);this._lat=r,this._long=i}get latitude(){return this._lat}get longitude(){return this._long}isEqual(r){return this._lat===r._lat&&this._long===r._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(r){return Vt(this._lat,r._lat)||Vt(this._long,r._long)}}const dx=/^__.*__$/;class px{constructor(r,i,o){this.data=r,this.fieldMask=i,this.fieldTransforms=o}toMutation(r,i){return null!==this.fieldMask?new qa(r,this.data,this.fieldMask,i,this.fieldTransforms):new w3(r,this.data,i,this.fieldTransforms)}}class mx{constructor(r,i,o){this.data=r,this.fieldMask=i,this.fieldTransforms=o}toMutation(r,i){return new qa(r,this.data,this.fieldMask,i,this.fieldTransforms)}}function gx(s){switch(s){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw st()}}class O7{constructor(r,i,o,u,f,v){this.settings=r,this.databaseId=i,this.N=o,this.ignoreUndefinedProperties=u,void 0===f&&this.Sa(),this.fieldTransforms=f||[],this.fieldMask=v||[]}get path(){return this.settings.path}get Da(){return this.settings.Da}Ca(r){return new O7(Object.assign(Object.assign({},this.settings),r),this.databaseId,this.N,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}Na(r){var i;const o=null===(i=this.path)||void 0===i?void 0:i.child(r),u=this.Ca({path:o,xa:!1});return u.ka(r),u}$a(r){var i;const o=null===(i=this.path)||void 0===i?void 0:i.child(r),u=this.Ca({path:o,xa:!1});return u.Sa(),u}Oa(r){return this.Ca({path:void 0,xa:!0})}Fa(r){return ol(r,this.settings.methodName,this.settings.Ma||!1,this.path,this.settings.La)}contains(r){return void 0!==this.fieldMask.find(i=>r.isPrefixOf(i))||void 0!==this.fieldTransforms.find(i=>r.isPrefixOf(i.field))}Sa(){if(this.path)for(let r=0;r<this.path.length;r++)this.ka(this.path.get(r))}ka(r){if(0===r.length)throw this.Fa("Document fields must not be empty");if(gx(this.Da)&&dx.test(r))throw this.Fa('Document fields cannot begin and end with "__"')}}class Av{constructor(r,i,o){this.databaseId=r,this.ignoreUndefinedProperties=i,this.N=o||f4(r)}Ba(r,i,o,u=!1){return new O7({Da:r,methodName:i,La:o,path:V1.emptyPath(),xa:!1,Ma:u},this.databaseId,this.N,this.ignoreUndefinedProperties)}}function Mo(s){const r=s._freezeSettings(),i=f4(s._databaseId);return new Av(s._databaseId,!!r.ignoreUndefinedProperties,i)}function M5(s,r,i,o,u,f={}){const v=s.Ba(f.merge||f.mergeFields?2:0,r,i,u);B7("Data must be an object, but it was:",v,o);const x=F7(o,v);let S,L;if(f.merge)S=new Oc(v.fieldMask),L=v.fieldTransforms;else if(f.mergeFields){const P=[];for(const W of f.mergeFields){const he=b4(r,W,i);if(!v.contains(he))throw new je(Te.INVALID_ARGUMENT,`Field '${he}' is specified in your field mask but missing from your input data.`);Eo(P,he)||P.push(he)}S=new Oc(P),L=v.fieldTransforms.filter(W=>S.covers(W.field))}else S=null,L=v.fieldTransforms;return new px(new o1(x),S,L)}class il extends Es{_toFieldTransform(r){if(2!==r.Da)throw r.Fa(1===r.Da?`${this._methodName}() can only appear at the top level of your update data`:`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return r.fieldMask.push(r.path),null}isEqual(r){return r instanceof il}}function Sv(s,r,i){return new O7({Da:3,La:r.settings.La,methodName:s._methodName,xa:i},r.databaseId,r.N,r.ignoreUndefinedProperties)}class P7 extends Es{_toFieldTransform(r){return new Yc(r.path,new Ga)}isEqual(r){return r instanceof P7}}class Iv extends Es{constructor(r,i){super(r),this.Ua=i}_toFieldTransform(r){const i=Sv(this,r,!0),o=this.Ua.map(f=>x4(f,i)),u=new ys(o);return new Yc(r.path,u)}isEqual(r){return this===r}}class yw extends Es{constructor(r,i){super(r),this.Ua=i}_toFieldTransform(r){const i=Sv(this,r,!0),o=this.Ua.map(f=>x4(f,i)),u=new Wa(o);return new Yc(r.path,u)}isEqual(r){return this===r}}class _w extends Es{constructor(r,i){super(r),this.qa=i}_toFieldTransform(r){const i=new Kc(r.N,Fm(r.N,this.qa));return new Yc(r.path,i)}isEqual(r){return this===r}}function H7(s,r,i,o){const u=s.Ba(1,r,i);B7("Data must be an object, but it was:",u,o);const f=[],v=o1.empty();Ua(o,(S,L)=>{const P=j7(r,S,i);L=(0,$t.m9)(L);const W=u.$a(P);if(L instanceof il)f.push(P);else{const he=x4(L,W);null!=he&&(f.push(P),v.set(P,he))}});const x=new Oc(f);return new mx(v,x,u.fieldTransforms)}function sl(s,r,i,o,u,f){const v=s.Ba(1,r,i),x=[b4(r,o,i)],S=[u];if(f.length%2!=0)throw new je(Te.INVALID_ARGUMENT,`Function ${r}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let he=0;he<f.length;he+=2)x.push(b4(r,f[he])),S.push(f[he+1]);const L=[],P=o1.empty();for(let he=x.length-1;he>=0;--he)if(!Eo(L,x[he])){const fe=x[he];let Ee=S[he];Ee=(0,$t.m9)(Ee);const $e=v.$a(fe);if(Ee instanceof il)L.push(fe);else{const Ze=x4(Ee,$e);null!=Ze&&(L.push(fe),P.set(fe,Ze))}}const W=new Oc(L);return new mx(P,W,v.fieldTransforms)}function h1(s,r,i,o=!1){return x4(i,s.Ba(o?4:3,r))}function x4(s,r){if(U7(s=(0,$t.m9)(s)))return B7("Unsupported field value:",r,s),F7(s,r);if(s instanceof Es)return function(i,o){if(!gx(o.Da))throw o.Fa(`${i._methodName}() can only be used with update() and set()`);if(!o.path)throw o.Fa(`${i._methodName}() is not currently supported inside arrays`);const u=i._toFieldTransform(o);u&&o.fieldTransforms.push(u)}(s,r),null;if(void 0===s&&r.ignoreUndefinedProperties)return null;if(r.path&&r.fieldMask.push(r.path),s instanceof Array){if(r.settings.xa&&4!==r.Da)throw r.Fa("Nested arrays are not supported");return function(i,o){const u=[];let f=0;for(const v of i){let x=x4(v,o.Oa(f));null==x&&(x={nullValue:"NULL_VALUE"}),u.push(x),f++}return{arrayValue:{values:u}}}(s,r)}return function(i,o){if(null===(i=(0,$t.m9)(i)))return{nullValue:"NULL_VALUE"};if("number"==typeof i)return Fm(o.N,i);if("boolean"==typeof i)return{booleanValue:i};if("string"==typeof i)return{stringValue:i};if(i instanceof Date){const u=L1.fromDate(i);return{timestampValue:S3(o.N,u)}}if(i instanceof L1){const u=new L1(i.seconds,1e3*Math.floor(i.nanoseconds/1e3));return{timestampValue:S3(o.N,u)}}if(i instanceof rl)return{geoPointValue:{latitude:i.latitude,longitude:i.longitude}};if(i instanceof Vr)return{bytesValue:Jm(o.N,i._byteString)};if(i instanceof gn){const u=o.databaseId,f=i.firestore._databaseId;if(!f.isEqual(u))throw o.Fa(`Document reference is for database ${f.projectId}/${f.database} but should be for database ${u.projectId}/${u.database}`);return{referenceValue:Id(i.firestore._databaseId||o.databaseId,i._key.path)}}throw o.Fa(`Unsupported field value: ${x5(i)}`)}(s,r)}function F7(s,r){const i={};return cd(s)?r.path&&r.path.length>0&&r.fieldMask.push(r.path):Ua(s,(o,u)=>{const f=x4(u,r.Na(o));null!=f&&(i[o]=f)}),{mapValue:{fields:i}}}function U7(s){return!("object"!=typeof s||null===s||s instanceof Array||s instanceof Date||s instanceof L1||s instanceof rl||s instanceof Vr||s instanceof gn||s instanceof Es)}function B7(s,r,i){if(!U7(i)||"object"!=typeof(o=i)||null===o||Object.getPrototypeOf(o)!==Object.prototype&&null!==Object.getPrototypeOf(o)){const o=x5(i);throw r.Fa("an object"===o?s+" a custom object":s+" "+o)}var o}function b4(s,r,i){if((r=(0,$t.m9)(r))instanceof Ms)return r._internalPath;if("string"==typeof r)return j7(s,r);throw ol("Field path arguments must be of type string or FieldPath.",s,!1,void 0,i)}const vx=new RegExp("[~\\*/\\[\\]]");function j7(s,r,i){if(r.search(vx)>=0)throw ol(`Invalid field path (${r}). Paths must not contain '~', '*', '/', '[', or ']'`,s,!1,void 0,i);try{return new Ms(...r.split("."))._internalPath}catch(o){throw ol(`Invalid field path (${r}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,s,!1,void 0,i)}}function ol(s,r,i,o,u){const f=o&&!o.isEmpty(),v=void 0!==u;let x=`Function ${r}() called with invalid data`;i&&(x+=" (via `toFirestore()`)"),x+=". ";let S="";return(f||v)&&(S+=" (found",f&&(S+=` in field ${o}`),v&&(S+=` in document ${u}`),S+=")"),new je(Te.INVALID_ARGUMENT,x+s+S)}function Eo(s,r){return s.some(i=>i.isEqual(r))}class w4{constructor(r,i,o,u,f){this._firestore=r,this._userDataWriter=i,this._key=o,this._document=u,this._converter=f}get id(){return this._key.path.lastSegment()}get ref(){return new gn(this._firestore,this._converter,this._key)}exists(){return null!==this._document}data(){if(this._document){if(this._converter){const r=new $7(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(r)}return this._userDataWriter.convertValue(this._document.data.value)}}get(r){if(this._document){const i=this._document.data.field(M4("DocumentSnapshot.get",r));if(null!==i)return this._userDataWriter.convertValue(i)}}}class $7 extends w4{data(){return super.data()}}function M4(s,r){return"string"==typeof r?j7(s,r):r instanceof Ms?r._internalPath:r._delegate._internalPath}class f0{constructor(r,i){this.hasPendingWrites=r,this.fromCache=i}isEqual(r){return this.hasPendingWrites===r.hasPendingWrites&&this.fromCache===r.fromCache}}class gi extends w4{constructor(r,i,o,u,f,v){super(r,i,o,u,v),this._firestore=r,this._firestoreImpl=r,this.metadata=f}exists(){return super.exists()}data(r={}){if(this._document){if(this._converter){const i=new al(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(i,r)}return this._userDataWriter.convertValue(this._document.data.value,r.serverTimestamps)}}get(r,i={}){if(this._document){const o=this._document.data.field(M4("DocumentSnapshot.get",r));if(null!==o)return this._userDataWriter.convertValue(o,i.serverTimestamps)}}}class al extends gi{data(r={}){return super.data(r)}}class L2{constructor(r,i,o,u){this._firestore=r,this._userDataWriter=i,this._snapshot=u,this.metadata=new f0(u.hasPendingWrites,u.fromCache),this.query=o}get docs(){const r=[];return this.forEach(i=>r.push(i)),r}get size(){return this._snapshot.docs.size}get empty(){return 0===this.size}forEach(r,i){this._snapshot.docs.forEach(o=>{r.call(i,new al(this._firestore,this._userDataWriter,o.key,o,new f0(this._snapshot.mutatedKeys.has(o.key),this._snapshot.fromCache),this.query.converter))})}docChanges(r={}){const i=!!r.includeMetadataChanges;if(i&&this._snapshot.excludesMetadataChanges)throw new je(Te.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===i||(this._cachedChanges=function(o,u){if(o._snapshot.oldDocs.isEmpty()){let f=0;return o._snapshot.docChanges.map(v=>({type:"added",doc:new al(o._firestore,o._userDataWriter,v.doc.key,v.doc,new f0(o._snapshot.mutatedKeys.has(v.doc.key),o._snapshot.fromCache),o.query.converter),oldIndex:-1,newIndex:f++}))}{let f=o._snapshot.oldDocs;return o._snapshot.docChanges.filter(v=>u||3!==v.type).map(v=>{const x=new al(o._firestore,o._userDataWriter,v.doc.key,v.doc,new f0(o._snapshot.mutatedKeys.has(v.doc.key),o._snapshot.fromCache),o.query.converter);let S=-1,L=-1;return 0!==v.type&&(S=f.indexOf(v.doc.key),f=f.delete(v.doc.key)),1!==v.type&&(f=f.add(v.doc),L=f.indexOf(v.doc.key)),{type:Dv(v.type),doc:x,oldIndex:S,newIndex:L}})}}(this,i),this._cachedChangesIncludeMetadataChanges=i),this._cachedChanges}}function Dv(s){switch(s){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return st()}}function f1(s,r){return s instanceof gi&&r instanceof gi?s._firestore===r._firestore&&s._key.isEqual(r._key)&&(null===s._document?null===r._document:s._document.isEqual(r._document))&&s._converter===r._converter:s instanceof L2&&r instanceof L2&&s._firestore===r._firestore&&w5(s.query,r.query)&&s.metadata.isEqual(r.metadata)&&s._snapshot.isEqual(r._snapshot)}function yx(s){if(Ou(s)&&0===s.explicitOrderBy.length)throw new je(Te.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class cl{}function Ao(s,...r){for(const i of r)s=i._apply(s);return s}class Cw extends cl{constructor(r,i,o){super(),this.Ka=r,this.ja=i,this.Qa=o,this.type="where"}_apply(r){const i=Mo(r.firestore),o=function(u,f,v,x,S,L,P){let W;if(S.isKeyField()){if("array-contains"===L||"array-contains-any"===L)throw new je(Te.INVALID_ARGUMENT,`Invalid Query. You can't perform '${L}' queries on FieldPath.documentId().`);if("in"===L||"not-in"===L){Ex(P,L);const fe=[];for(const Ee of P)fe.push(Lv(x,u,Ee));W={arrayValue:{values:fe}}}else W=Lv(x,u,P)}else"in"!==L&&"not-in"!==L&&"array-contains-any"!==L||Ex(P,L),W=h1(v,"where",P,"in"===L||"not-in"===L);const he=lr.create(S,L,W);return function(fe,Ee){if(Ee.v()){const Ze=gd(fe);if(null!==Ze&&!Ze.isEqual(Ee.field))throw new je(Te.INVALID_ARGUMENT,`Invalid query. All where filters with an inequality (<, <=, !=, not-in, >, or >=) must be on the same field. But you have inequality filters on '${Ze.toString()}' and '${Ee.field.toString()}'`);const Xe=Pu(fe);null!==Xe&&Ax(0,Ee.field,Xe)}const $e=function(Ze,Xe){for(const ht of Ze.filters)if(Xe.indexOf(ht.op)>=0)return ht.op;return null}(fe,function(Ze){switch(Ze){case"!=":return["!=","not-in"];case"array-contains":return["array-contains","array-contains-any","not-in"];case"in":return["array-contains-any","in","not-in"];case"array-contains-any":return["array-contains","array-contains-any","in","not-in"];case"not-in":return["array-contains","array-contains-any","in","not-in","!="];default:return[]}}(Ee.op));if(null!==$e)throw new je(Te.INVALID_ARGUMENT,$e===Ee.op?`Invalid query. You cannot use more than one '${Ee.op.toString()}' filter.`:`Invalid query. You cannot use '${Ee.op.toString()}' filters with '${$e.toString()}' filters.`)}(u,he),he}(r._query,0,i,r.firestore._databaseId,this.Ka,this.ja,this.Qa);return new P1(r.firestore,r.converter,function(u,f){const v=u.filters.concat([f]);return new vs(u.path,u.collectionGroup,u.explicitOrderBy.slice(),v,u.limit,u.limitType,u.startAt,u.endAt)}(r._query,o))}}class _x extends cl{constructor(r,i){super(),this.Ka=r,this.Wa=i,this.type="orderBy"}_apply(r){const i=function(o,u,f){if(null!==o.startAt)throw new je(Te.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(null!==o.endAt)throw new je(Te.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");const v=new go(u,f);return function(x,S){if(null===Pu(x)){const L=gd(x);null!==L&&Ax(0,L,S.field)}}(o,v),v}(r._query,this.Ka,this.Wa);return new P1(r.firestore,r.converter,function(o,u){const f=o.explicitOrderBy.concat([u]);return new vs(o.path,o.collectionGroup,f,o.filters.slice(),o.limit,o.limitType,o.startAt,o.endAt)}(r._query,i))}}class Cx extends cl{constructor(r,i,o){super(),this.type=r,this.Ga=i,this.za=o}_apply(r){return new P1(r.firestore,r.converter,Om(r._query,this.Ga,this.za))}}class Tv extends cl{constructor(r,i,o){super(),this.type=r,this.Ha=i,this.Ja=o}_apply(r){const i=zv(r,this.type,this.Ha,this.Ja);return new P1(r.firestore,r.converter,(u=i,new vs((o=r._query).path,o.collectionGroup,o.explicitOrderBy.slice(),o.filters.slice(),o.limit,o.limitType,u,o.endAt)));var o,u}}class Nv extends cl{constructor(r,i,o){super(),this.type=r,this.Ha=i,this.Ja=o}_apply(r){const i=zv(r,this.type,this.Ha,this.Ja);return new P1(r.firestore,r.converter,(u=i,new vs((o=r._query).path,o.collectionGroup,o.explicitOrderBy.slice(),o.filters.slice(),o.limit,o.limitType,o.startAt,u)));var o,u}}function zv(s,r,i,o){if(i[0]=(0,$t.m9)(i[0]),i[0]instanceof w4)return function(u,f,v,x,S){if(!x)throw new je(Te.NOT_FOUND,`Can't use a DocumentSnapshot that doesn't exist for ${v}().`);const L=[];for(const P of Zc(u))if(P.field.isKeyField())L.push(Lu(f,x.key));else{const W=x.data.field(P.field);if(Nu(W))throw new je(Te.INVALID_ARGUMENT,'Invalid query. You are trying to start or end a query using a document for which the field "'+P.field+'" is an uncommitted server timestamp. (Since the value of this field is unknown, you cannot start/end a query with it.)');if(null===W){const he=P.field.canonicalString();throw new je(Te.INVALID_ARGUMENT,`Invalid query. You are trying to start or end a query using a document for which the field '${he}' (used as the orderBy) does not exist.`)}L.push(W)}return new $c(L,S)}(s._query,s.firestore._databaseId,r,i[0]._document,o);{const u=Mo(s.firestore);return function(f,v,x,S,L,P){const W=f.explicitOrderBy;if(L.length>W.length)throw new je(Te.INVALID_ARGUMENT,`Too many arguments provided to ${S}(). The number of arguments must be less than or equal to the number of orderBy() clauses`);const he=[];for(let fe=0;fe<L.length;fe++){const Ee=L[fe];if(W[fe].field.isKeyField()){if("string"!=typeof Ee)throw new je(Te.INVALID_ARGUMENT,`Invalid query. Expected a string for document ID in ${S}(), but got a ${typeof Ee}`);if(!vd(f)&&-1!==Ee.indexOf("/"))throw new je(Te.INVALID_ARGUMENT,`Invalid query. When querying a collection and ordering by FieldPath.documentId(), the value passed to ${S}() must be a plain document ID, but '${Ee}' contains a slash.`);const $e=f.path.child(Gt.fromString(Ee));if(!lt.isDocumentKey($e))throw new je(Te.INVALID_ARGUMENT,`Invalid query. When querying a collection group and ordering by FieldPath.documentId(), the value passed to ${S}() must result in a valid document path, but '${$e}' is not because it contains an odd number of segments.`);const Ze=new lt($e);he.push(Lu(v,Ze))}else{const $e=h1(x,S,Ee);he.push($e)}}return new $c(he,P)}(s._query,s.firestore._databaseId,u,r,i,o)}}function Lv(s,r,i){if("string"==typeof(i=(0,$t.m9)(i))){if(""===i)throw new je(Te.INVALID_ARGUMENT,"Invalid query. When querying with FieldPath.documentId(), you must provide a valid document ID, but it was an empty string.");if(!vd(r)&&-1!==i.indexOf("/"))throw new je(Te.INVALID_ARGUMENT,`Invalid query. When querying a collection by FieldPath.documentId(), you must provide a plain document ID, but '${i}' contains a '/' character.`);const o=r.path.child(Gt.fromString(i));if(!lt.isDocumentKey(o))throw new je(Te.INVALID_ARGUMENT,`Invalid query. When querying a collection group by FieldPath.documentId(), the value provided must result in a valid document path, but '${o}' is not because it has an odd number of segments (${o.length}).`);return Lu(s,new lt(o))}if(i instanceof gn)return Lu(s,i._key);throw new je(Te.INVALID_ARGUMENT,`Invalid query. When querying with FieldPath.documentId(), you must provide a valid string or a DocumentReference, but it was: ${x5(i)}.`)}function Ex(s,r){if(!Array.isArray(s)||0===s.length)throw new je(Te.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${r.toString()}' filters.`);if(s.length>10)throw new je(Te.INVALID_ARGUMENT,`Invalid Query. '${r.toString()}' filters support a maximum of 10 elements in the value array.`)}function Ax(s,r,i){if(!i.isEqual(r))throw new je(Te.INVALID_ARGUMENT,`Invalid query. You have a where filter with an inequality (<, <=, !=, not-in, >, or >=) on field '${r.toString()}' and so you must also use '${r.toString()}' as your first argument to orderBy(), but your first orderBy() is on field '${i.toString()}' instead.`)}class G7{convertValue(r,i="none"){switch(ja(r)){case 0:return null;case 1:return r.booleanValue;case 2:return Qn(r.integerValue||r.doubleValue);case 3:return this.convertTimestamp(r.timestampValue);case 4:return this.convertServerTimestamp(r,i);case 5:return r.stringValue;case 6:return this.convertBytes(gs(r.bytesValue));case 7:return this.convertReference(r.referenceValue);case 8:return this.convertGeoPoint(r.geoPointValue);case 9:return this.convertArray(r.arrayValue,i);case 10:return this.convertObject(r.mapValue,i);default:throw st()}}convertObject(r,i){const o={};return Ua(r.fields,(u,f)=>{o[u]=this.convertValue(f,i)}),o}convertGeoPoint(r){return new rl(Qn(r.latitude),Qn(r.longitude))}convertArray(r,i){return(r.values||[]).map(o=>this.convertValue(o,i))}convertServerTimestamp(r,i){switch(i){case"previous":const o=ld(r);return null==o?null:this.convertValue(o,i);case"estimate":return this.convertTimestamp(Pc(r));default:return null}}convertTimestamp(r){const i=po(r);return new L1(i.seconds,i.nanos)}convertDocumentKey(r,i){const o=Gt.fromString(r);bt(z3(o));const u=new _4(o.get(1),o.get(3)),f=new lt(o.popFirst(5));return u.isEqual(i)||$n(`Document ${f} contains a document reference within a different database (${u.projectId}/${u.database}) which is not supported. It will be treated as a reference in the current database (${i.projectId}/${i.database}) instead.`),f}}function A5(s,r,i){let o;return o=s?i&&(i.merge||i.mergeFields)?s.toFirestore(r,i):s.toFirestore(r):r,o}class Sx extends G7{constructor(r){super(),this.firestore=r}convertBytes(r){return new Vr(r)}convertReference(r){const i=this.convertDocumentKey(r,this.firestore._databaseId);return new gn(this.firestore,null,i)}}class Vv{constructor(r,i){this._firestore=r,this._commitHandler=i,this._mutations=[],this._committed=!1,this._dataReader=Mo(r)}set(r,i,o){this._verifyNotCommitted();const u=So(r,this._firestore),f=A5(u.converter,i,o),v=M5(this._dataReader,"WriteBatch.set",u._key,f,null!==u.converter,o);return this._mutations.push(v.toMutation(u._key,a1.none())),this}update(r,i,o,...u){this._verifyNotCommitted();const f=So(r,this._firestore);let v;return v="string"==typeof(i=(0,$t.m9)(i))||i instanceof Ms?sl(this._dataReader,"WriteBatch.update",f._key,i,o,u):H7(this._dataReader,"WriteBatch.update",f._key,i),this._mutations.push(v.toMutation(f._key,a1.exists(!0))),this}delete(r){this._verifyNotCommitted();const i=So(r,this._firestore);return this._mutations=this._mutations.concat(new $u(i._key,a1.none())),this}commit(){return this._verifyNotCommitted(),this._committed=!0,this._mutations.length>0?this._commitHandler(this._mutations):Promise.resolve()}_verifyNotCommitted(){if(this._committed)throw new je(Te.FAILED_PRECONDITION,"A write batch can no longer be used after commit() has been called.")}}function So(s,r){if((s=(0,$t.m9)(s)).firestore!==r)throw new je(Te.INVALID_ARGUMENT,"Provided document reference is from a different Firestore instance.");return s}class d0 extends G7{constructor(r){super(),this.firestore=r}convertBytes(r){return new Vr(r)}convertReference(r){const i=this.convertDocumentKey(r,this.firestore._databaseId);return new gn(this.firestore,null,i)}}function Rv(s,r,i){s=Zt(s,gn);const o=Zt(s.firestore,Bn),u=A5(s.converter,r,i);return ul(o,[M5(Mo(o),"setDoc",s._key,u,null!==s.converter,i).toMutation(s._key,a1.none())])}function kv(s,r,i,...o){s=Zt(s,gn);const u=Zt(s.firestore,Bn),f=Mo(u);let v;return v="string"==typeof(r=(0,$t.m9)(r))||r instanceof Ms?sl(f,"updateDoc",s._key,r,i,o):H7(f,"updateDoc",s._key,r),ul(u,[v.toMutation(s._key,a1.exists(!0))])}function zx(s,...r){var i,o,u;s=(0,$t.m9)(s);let f={includeMetadataChanges:!1},v=0;"object"!=typeof r[v]||ei(r[v])||(f=r[v],v++);const x={includeMetadataChanges:f.includeMetadataChanges};if(ei(r[v])){const W=r[v];r[v]=null===(i=W.next)||void 0===i?void 0:i.bind(W),r[v+1]=null===(o=W.error)||void 0===o?void 0:o.bind(W),r[v+2]=null===(u=W.complete)||void 0===u?void 0:u.bind(W)}let S,L,P;if(s instanceof gn)L=Zt(s.firestore,Bn),P=Gc(s._key.path),S={next:W=>{r[v]&&r[v](Pv(L,s,W))},error:r[v+1],complete:r[v+2]};else{const W=Zt(s,P1);L=Zt(W.firestore,Bn),P=W._query;const he=new d0(L);S={next:fe=>{r[v]&&r[v](new L2(L,he,W,fe))},error:r[v+1],complete:r[v+2]},yx(s._query)}return function(W,he,fe,Ee){const $e=new J3(Ee),Ze=new p7(he,$e,fe);return W.asyncQueue.enqueueAndForget((0,Ae.Z)(function*(){return K3(yield y4(W),Ze)})),()=>{$e.Xo(),W.asyncQueue.enqueueAndForget((0,Ae.Z)(function*(){return u5(yield y4(W),Ze)}))}}(u1(L),P,x,S)}function ul(s,r){return function(i,o){const u=new z1;return i.asyncQueue.enqueueAndForget((0,Ae.Z)(function*(){return function(s,r,i){return v7.apply(this,arguments)}(yield el(i),o,u)})),u.promise}(u1(s),r)}function Pv(s,r,i){const o=i.docs.get(r._key),u=new d0(s);return new gi(s,u,r._key,o,new f0(i.hasPendingWrites,i.fromCache),r.converter)}class Ew extends class{constructor(r,i){this._firestore=r,this._transaction=i,this._dataReader=Mo(r)}get(r){const i=So(r,this._firestore),o=new Sx(this._firestore);return this._transaction.lookup([i._key]).then(u=>{if(!u||1!==u.length)return st();const f=u[0];if(f.isFoundDocument())return new w4(this._firestore,o,f.key,f,i.converter);if(f.isNoDocument())return new w4(this._firestore,o,i._key,null,i.converter);throw st()})}set(r,i,o){const u=So(r,this._firestore),f=A5(u.converter,i,o),v=M5(this._dataReader,"Transaction.set",u._key,f,null!==u.converter,o);return this._transaction.set(u._key,v),this}update(r,i,o,...u){const f=So(r,this._firestore);let v;return v="string"==typeof(i=(0,$t.m9)(i))||i instanceof Ms?sl(this._dataReader,"Transaction.update",f._key,i,o,u):H7(this._dataReader,"Transaction.update",f._key,i),this._transaction.update(f._key,v),this}delete(r){const i=So(r,this._firestore);return this._transaction.delete(i._key),this}}{constructor(r,i){super(r,i),this._firestore=r}get(r){const i=So(r,this._firestore),o=new d0(this._firestore);return super.get(r).then(u=>new gi(this._firestore,o,i._key,u._document,new f0(!1,!1),i.converter))}}function S5(s,r){if(void 0===r)return{merge:!1};if(void 0!==r.mergeFields&&void 0!==r.merge)throw new je("invalid-argument",`Invalid options passed to function ${s}(): You cannot specify both "merge" and "mergeFields".`);return r}function Hv(){if("undefined"==typeof Uint8Array)throw new je("unimplemented","Uint8Arrays are not available in this environment.")}function Z7(){if("undefined"==typeof atob)throw new je("unimplemented","Blobs are unavailable in Firestore in this environment.")}(function(s){Ha=s})(Z6.SDK_VERSION),(0,Z6._registerComponent)(new c_.wA("firestore",(s,{options:r})=>{const i=s.getProvider("app").getImmediate(),o=new Bn(i,new mt(s.getProvider("auth-internal")));return r=Object.assign({useFetchStreams:!0},r),o._setSettings(r),o},"PUBLIC")),(0,Z6.registerVersion)("@firebase/firestore","3.0.0",void 0);class E4{constructor(r){this._delegate=r}static fromBase64String(r){return Z7(),new E4(Vr.fromBase64String(r))}static fromUint8Array(r){return Hv(),new E4(Vr.fromUint8Array(r))}toBase64(){return Z7(),this._delegate.toBase64()}toUint8Array(){return Hv(),this._delegate.toUint8Array()}isEqual(r){return this._delegate.isEqual(r._delegate)}toString(){return"Blob(base64: "+this.toBase64()+")"}}function I5(s){return function(s,r){if("object"!=typeof s||null===s)return!1;const i=s;for(const o of["next","error","complete"])if(o in i&&"function"==typeof i[o])return!0;return!1}(s)}class K7{enableIndexedDbPersistence(r,i){return function(s,r){Ev(s=Zt(s,Bn));const i=u1(s),o=s._freezeSettings(),u=new I7;return k7(i,u,new S7(u,o.cacheSizeBytes,null==r?void 0:r.forceOwnership))}(r._delegate,{forceOwnership:i})}enableMultiTabIndexedDbPersistence(r){return function(s){Ev(s=Zt(s,Bn));const r=u1(s),i=s._freezeSettings(),o=new I7;return k7(r,o,new YC(o,i.cacheSizeBytes))}(r._delegate)}clearIndexedDbPersistence(r){return function(s){if(s._initialized&&!s._terminated)throw new je(Te.FAILED_PRECONDITION,"Persistence can only be cleared before a Firestore instance is initialized or after it is terminated.");const r=new z1;return s._queue.enqueueAndForgetEvenWhileRestricted((0,Ae.Z)(function*(){try{yield(i=(0,Ae.Z)(function*(o){if(!hr.Pt())return Promise.resolve();const u=o+"main";yield hr.delete(u)}),function(o){return i.apply(this,arguments)})(Bd(s._databaseId,s._persistenceKey)),r.resolve()}catch(i){r.reject(i)}var i})),r.promise}(r._delegate)}}class D5{constructor(r,i,o){this._delegate=i,this._persistenceProvider=o,this.INTERNAL={delete:()=>this.terminate()},r instanceof _4||(this._appCompat=r)}get _databaseId(){return this._delegate._databaseId}settings(r){const i=this._delegate._getSettings();!r.merge&&i.host!==r.host&&Fa("You are overriding the original host. If you did not intend to override your settings, use {merge: true}."),r.merge&&delete(r=Object.assign(Object.assign({},i),r)).merge,this._delegate._setSettings(r)}useEmulator(r,i,o={}){!function(s,r,i,o={}){var u;const f=(s=Zt(s,C4))._getSettings();if("firestore.googleapis.com"!==f.host&&f.host!==r&&Fa("Host has been set in both settings() and useEmulator(), emulator host will be used"),s._setSettings(Object.assign(Object.assign({},f),{host:`${r}:${i}`,ssl:!1})),o.mockUserToken){let v,x;if("string"==typeof o.mockUserToken)v=o.mockUserToken,x=v1.MOCK_USER;else{v=(0,$t.Sg)(o.mockUserToken,null===(u=s._app)||void 0===u?void 0:u.options.projectId);const S=o.mockUserToken.sub||o.mockUserToken.user_id;if(!S)throw new je(Te.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");x=new v1(S)}s._credentials=new qb(new ad(v,x))}}(this._delegate,r,i,o)}enableNetwork(){return function(s){return function(s){return s.asyncQueue.enqueue((0,Ae.Z)(function*(){const r=yield gv(s),i=yield JC(s);return r.setNetworkEnabled(!0),function(o){const u=Ye(o);return u.Kr.delete(0),G3(u)}(i)}))}(u1(s=Zt(s,Bn)))}(this._delegate)}disableNetwork(){return function(s){return function(s){return s.asyncQueue.enqueue((0,Ae.Z)(function*(){const r=yield gv(s),i=yield JC(s);return r.setNetworkEnabled(!1),(o=(0,Ae.Z)(function*(u){const f=Ye(u);f.Kr.add(0),yield N2(f),f.Wr.set("Offline")}),function(u){return o.apply(this,arguments)})(i);var o}))}(u1(s=Zt(s,Bn)))}(this._delegate)}enablePersistence(r){let i=!1,o=!1;return r&&(i=!!r.synchronizeTabs,o=!!r.experimentalForceOwningTab,Lr("synchronizeTabs",i,"experimentalForceOwningTab",o)),i?this._persistenceProvider.enableMultiTabIndexedDbPersistence(this):this._persistenceProvider.enableIndexedDbPersistence(this,o)}clearPersistence(){return this._persistenceProvider.clearIndexedDbPersistence(this)}terminate(){return this._appCompat&&(this._appCompat._removeServiceInstance("firestore-compat"),this._appCompat._removeServiceInstance("firestore")),this._delegate._delete()}waitForPendingWrites(){return function(s){return function(r){const i=new z1;return r.asyncQueue.enqueueAndForget((0,Ae.Z)(function*(){return function(s,r){return Qg.apply(this,arguments)}(yield el(r),i)})),i.promise}(u1(s=Zt(s,Bn)))}(this._delegate)}onSnapshotsInSync(r){return function(s,r){return function(s,r){const i=new J3(r);return s.asyncQueue.enqueueAndForget((0,Ae.Z)(function*(){return o=yield y4(s),u=i,Ye(o).Zr.add(u),void u.next();var o,u})),()=>{i.Xo(),s.asyncQueue.enqueueAndForget((0,Ae.Z)(function*(){return o=yield y4(s),u=i,void Ye(o).Zr.delete(u);var o,u}))}}(u1(s=Zt(s,Bn)),ei(r)?r:{next:r})}(this._delegate,r)}get app(){if(!this._appCompat)throw new je("failed-precondition","Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._appCompat}collection(r){try{return new As(this,Cv(this._delegate,r))}catch(i){throw Q1(i,"collection()","Firestore.collection()")}}doc(r){try{return new vi(this,nl(this._delegate,r))}catch(i){throw Q1(i,"doc()","Firestore.doc()")}}collectionGroup(r){try{return new fr(this,function(s,r){if(s=Zt(s,C4),z7("collectionGroup","collection id",r),r.indexOf("/")>=0)throw new je(Te.INVALID_ARGUMENT,`Invalid collection ID '${r}' passed to function collectionGroup(). Collection IDs must not contain '/'.`);return new P1(s,null,(i=r,new vs(Gt.emptyPath(),i)));var i}(this._delegate,r))}catch(i){throw Q1(i,"collectionGroup()","Firestore.collectionGroup()")}}runTransaction(r){return function(s,r){return function(s,r){const i=new z1;return s.asyncQueue.enqueueAndForget((0,Ae.Z)(function*(){const o=yield(u=s,T7(u).then(f=>f.datastore));var u;new hw(s.asyncQueue,o,r,i).run()})),i.promise}(u1(s),i=>r(new Ew(s,i)))}(this._delegate,i=>r(new Y7(this,i)))}batch(){return u1(this._delegate),new Q7(new Vv(this._delegate,r=>ul(this._delegate,r)))}loadBundle(r){return function(s,r){const i=u1(s=Zt(s,Bn)),o=new ax;return function(s,r,i,o){const u=function(f,v){let x;return x="string"==typeof f?(new TextEncoder).encode(f):f,S=function(S,L){if(S instanceof Uint8Array)return v5(S,L);if(S instanceof ArrayBuffer)return v5(new Uint8Array(S),L);if(S instanceof ReadableStream)return S.getReader();throw new Error("Source of `toByteStreamReader` has to be a ArrayBuffer or ReadableStream")}(x),new hv(S,v);var S}(i,f4(r));s.asyncQueue.enqueueAndForget((0,Ae.Z)(function*(){!function(s,r,i){const o=Ye(s);var u;(u=(0,Ae.Z)(function*(f,v,x){try{const S=yield v.getMetadata();if(yield function(he,fe){const Ee=Ye(he),$e=_1(fe.createTime);return Ee.persistence.runTransaction("hasNewerBundle","readonly",Ze=>Ee.Je.getBundleMetadata(Ze,fe.id)).then(Ze=>!!Ze&&Ze.createTime.compareTo($e)>=0)}(f.localStore,S))return yield v.close(),void x._completeWith((he=S,{taskState:"Success",documentsLoaded:he.totalDocuments,bytesLoaded:he.totalBytes,totalDocuments:he.totalDocuments,totalBytes:he.totalBytes}));x._updateProgress(Bg(S));const L=new Ug(S,f.localStore,v.N);let P=yield v.Qo();for(;P;){const he=yield L.fo(P);he&&x._updateProgress(he),P=yield v.Qo()}const W=yield L.complete();yield wo(f,W.Tn,void 0),yield function(he,fe){const Ee=Ye(he);return Ee.persistence.runTransaction("Save bundle","readwrite",$e=>Ee.Je.saveBundleMetadata($e,fe))}(f.localStore,S),x._completeWith(W.progress)}catch(S){Fa("SyncEngine",`Loading bundle failed with ${S}`),x._failWith(S)}var he}),function(f,v,x){return u.apply(this,arguments)})(o,r,i).then(()=>{o.sharedClientState.notifyBundleLoaded()})}(yield el(s),u,o)}))}(i,s._databaseId,r,o),o}(this._delegate,r)}namedQuery(r){return function(s,r){return function(s,r){return s.asyncQueue.enqueue((0,Ae.Z)(function*(){return function(i,o){const u=Ye(i);return u.persistence.runTransaction("Get named query","readonly",f=>u.Je.getNamedQuery(f,o))}(yield vv(s),r)}))}(u1(s=Zt(s,Bn)),r).then(i=>i?new P1(s,null,i.query):null)}(this._delegate,r).then(i=>i?new fr(this,i):null)}}class p0 extends G7{constructor(r){super(),this.firestore=r}convertBytes(r){return new E4(new Vr(r))}convertReference(r){const i=this.convertDocumentKey(r,this.firestore._databaseId);return vi.forKey(i,this.firestore,null)}}class Y7{constructor(r,i){this._firestore=r,this._delegate=i,this._userDataWriter=new p0(r)}get(r){const i=Io(r);return this._delegate.get(i).then(o=>new hl(this._firestore,new gi(this._firestore._delegate,this._userDataWriter,o._key,o._document,o.metadata,i.converter)))}set(r,i,o){const u=Io(r);return o?(S5("Transaction.set",o),this._delegate.set(u,i,o)):this._delegate.set(u,i),this}update(r,i,o,...u){const f=Io(r);return 2===arguments.length?this._delegate.update(f,i):this._delegate.update(f,i,o,...u),this}delete(r){const i=Io(r);return this._delegate.delete(i),this}}class Q7{constructor(r){this._delegate=r}set(r,i,o){const u=Io(r);return o?(S5("WriteBatch.set",o),this._delegate.set(u,i,o)):this._delegate.set(u,i),this}update(r,i,o,...u){const f=Io(r);return 2===arguments.length?this._delegate.update(f,i):this._delegate.update(f,i,o,...u),this}delete(r){const i=Io(r);return this._delegate.delete(i),this}commit(){return this._delegate.commit()}}class m0{constructor(r,i,o){this._firestore=r,this._userDataWriter=i,this._delegate=o}fromFirestore(r,i){const o=new al(this._firestore._delegate,this._userDataWriter,r._key,r._document,r.metadata,null);return this._delegate.fromFirestore(new g0(this._firestore,o),null!=i?i:{})}toFirestore(r,i){return i?this._delegate.toFirestore(r,i):this._delegate.toFirestore(r)}static getInstance(r,i){const o=m0.INSTANCES;let u=o.get(r);u||(u=new WeakMap,o.set(r,u));let f=u.get(i);return f||(f=new m0(r,new p0(r),i),u.set(i,f)),f}}m0.INSTANCES=new WeakMap;class vi{constructor(r,i){this.firestore=r,this._delegate=i,this._userDataWriter=new p0(r)}static forPath(r,i,o){if(r.length%2!=0)throw new je("invalid-argument",`Invalid document reference. Document references must have an even number of segments, but ${r.canonicalString()} has ${r.length}`);return new vi(i,new gn(i._delegate,o,new lt(r)))}static forKey(r,i,o){return new vi(i,new gn(i._delegate,o,r))}get id(){return this._delegate.id}get parent(){return new As(this.firestore,this._delegate.parent)}get path(){return this._delegate.path}collection(r){try{return new As(this.firestore,Cv(this._delegate,r))}catch(i){throw Q1(i,"collection()","DocumentReference.collection()")}}isEqual(r){return(r=(0,$t.m9)(r))instanceof gn&&R7(this._delegate,r)}set(r,i){i=S5("DocumentReference.set",i);try{return i?Rv(this._delegate,r,i):Rv(this._delegate,r)}catch(o){throw Q1(o,"setDoc()","DocumentReference.set()")}}update(r,i,...o){try{return 1===arguments.length?kv(this._delegate,r):kv(this._delegate,r,i,...o)}catch(u){throw Q1(u,"updateDoc()","DocumentReference.update()")}}delete(){return function(s){return ul(Zt(s.firestore,Bn),[new $u(s._key,a1.none())])}(this._delegate)}onSnapshot(...r){const i=Fv(r),o=Uv(r,u=>new hl(this.firestore,new gi(this.firestore._delegate,this._userDataWriter,u._key,u._document,u.metadata,this._delegate.converter)));return zx(this._delegate,i,o)}get(r){let i;return i="cache"===(null==r?void 0:r.source)?function(s){s=Zt(s,gn);const r=Zt(s.firestore,Bn),i=u1(r),o=new d0(r);return function(s,r){const i=new z1;return s.asyncQueue.enqueueAndForget((0,Ae.Z)(function*(){return(o=(0,Ae.Z)(function*(u,f,v){try{const x=yield function(S,L){const P=Ye(S);return P.persistence.runTransaction("read document","readonly",W=>P.Qn.An(W,L))}(u,f);x.isFoundDocument()?v.resolve(x):x.isNoDocument()?v.resolve(null):v.reject(new je(Te.UNAVAILABLE,"Failed to get document from cache. (However, this document may exist on the server. Run again without setting 'source' in the GetOptions to attempt to retrieve the document from the server.)"))}catch(x){const S=m4(x,`Failed to get document '${f} from cache`);v.reject(S)}}),function(u,f,v){return o.apply(this,arguments)})(yield vv(s),r,i);var o})),i.promise}(i,s._key).then(u=>new gi(r,o,s._key,u,new f0(null!==u&&u.hasLocalMutations,!0),s.converter))}(this._delegate):"server"===(null==r?void 0:r.source)?function(s){s=Zt(s,gn);const r=Zt(s.firestore,Bn);return N7(u1(r),s._key,{source:"server"}).then(i=>Pv(r,s,i))}(this._delegate):function(s){s=Zt(s,gn);const r=Zt(s.firestore,Bn);return N7(u1(r),s._key).then(i=>Pv(r,s,i))}(this._delegate),i.then(o=>new hl(this.firestore,new gi(this.firestore._delegate,this._userDataWriter,o._key,o._document,o.metadata,this._delegate.converter)))}withConverter(r){return new vi(this.firestore,this._delegate.withConverter(r?m0.getInstance(this.firestore,r):null))}}function Q1(s,r,i){return s.message=s.message.replace(r,i),s}function Fv(s){for(const r of s)if("object"==typeof r&&!I5(r))return r;return{}}function Uv(s,r){var i,o;let u;return u=I5(s[0])?s[0]:I5(s[1])?s[1]:"function"==typeof s[0]?{next:s[0],error:s[1],complete:s[2]}:{next:s[1],error:s[2],complete:s[3]},{next:f=>{u.next&&u.next(r(f))},error:null===(i=u.error)||void 0===i?void 0:i.bind(u),complete:null===(o=u.complete)||void 0===o?void 0:o.bind(u)}}class hl{constructor(r,i){this._firestore=r,this._delegate=i}get ref(){return new vi(this._firestore,this._delegate.ref)}get id(){return this._delegate.id}get metadata(){return this._delegate.metadata}get exists(){return this._delegate.exists()}data(r){return this._delegate.data(r)}get(r,i){return this._delegate.get(r,i)}isEqual(r){return f1(this._delegate,r._delegate)}}class g0 extends hl{data(r){const i=this._delegate.data(r);return function(s,r){s||st()}(void 0!==i),i}}class fr{constructor(r,i){this.firestore=r,this._delegate=i,this._userDataWriter=new p0(r)}where(r,i,o){try{return new fr(this.firestore,Ao(this._delegate,function(s,r,i){const o=r,u=M4("where",s);return new Cw(u,o,i)}(r,i,o)))}catch(u){throw Q1(u,/(orderBy|where)\(\)/,"Query.$1()")}}orderBy(r,i){try{return new fr(this.firestore,Ao(this._delegate,function(s,r="asc"){const i=r,o=M4("orderBy",s);return new _x(o,i)}(r,i)))}catch(o){throw Q1(o,/(orderBy|where)\(\)/,"Query.$1()")}}limit(r){try{return new fr(this.firestore,Ao(this._delegate,function(s){return b5("limit",s),new Cx("limit",s,"F")}(r)))}catch(i){throw Q1(i,"limit()","Query.limit()")}}limitToLast(r){try{return new fr(this.firestore,Ao(this._delegate,function(s){return b5("limitToLast",s),new Cx("limitToLast",s,"L")}(r)))}catch(i){throw Q1(i,"limitToLast()","Query.limitToLast()")}}startAt(...r){try{return new fr(this.firestore,Ao(this._delegate,function(...s){return new Tv("startAt",s,!0)}(...r)))}catch(i){throw Q1(i,"startAt()","Query.startAt()")}}startAfter(...r){try{return new fr(this.firestore,Ao(this._delegate,function(...s){return new Tv("startAfter",s,!1)}(...r)))}catch(i){throw Q1(i,"startAfter()","Query.startAfter()")}}endBefore(...r){try{return new fr(this.firestore,Ao(this._delegate,function(...s){return new Nv("endBefore",s,!0)}(...r)))}catch(i){throw Q1(i,"endBefore()","Query.endBefore()")}}endAt(...r){try{return new fr(this.firestore,Ao(this._delegate,function(...s){return new Nv("endAt",s,!1)}(...r)))}catch(i){throw Q1(i,"endAt()","Query.endAt()")}}isEqual(r){return w5(this._delegate,r._delegate)}get(r){let i;return i="cache"===(null==r?void 0:r.source)?function(s){s=Zt(s,P1);const r=Zt(s.firestore,Bn),i=u1(r),o=new d0(r);return function(s,r){const i=new z1;return s.asyncQueue.enqueueAndForget((0,Ae.Z)(function*(){return(o=(0,Ae.Z)(function*(u,f,v){try{const x=yield U3(u,f,!0),S=new jg(f,x.Gn),L=S.Io(x.documents),P=S.applyChanges(L,!1);v.resolve(P.snapshot)}catch(x){const S=m4(x,`Failed to execute query '${f} against cache`);v.reject(S)}}),function(u,f,v){return o.apply(this,arguments)})(yield vv(s),r,i);var o})),i.promise}(i,s._query).then(u=>new L2(r,o,s,u))}(this._delegate):"server"===(null==r?void 0:r.source)?function(s){s=Zt(s,P1);const r=Zt(s.firestore,Bn),i=u1(r),o=new d0(r);return tx(i,s._query,{source:"server"}).then(u=>new L2(r,o,s,u))}(this._delegate):function(s){s=Zt(s,P1);const r=Zt(s.firestore,Bn),i=u1(r),o=new d0(r);return yx(s._query),tx(i,s._query).then(u=>new L2(r,o,s,u))}(this._delegate),i.then(o=>new v0(this.firestore,new L2(this.firestore._delegate,this._userDataWriter,this._delegate,o._snapshot)))}onSnapshot(...r){const i=Fv(r),o=Uv(r,u=>new v0(this.firestore,new L2(this.firestore._delegate,this._userDataWriter,this._delegate,u._snapshot)));return zx(this._delegate,i,o)}withConverter(r){return new fr(this.firestore,this._delegate.withConverter(r?m0.getInstance(this.firestore,r):null))}}class dr{constructor(r,i){this._firestore=r,this._delegate=i}get type(){return this._delegate.type}get doc(){return new g0(this._firestore,this._delegate.doc)}get oldIndex(){return this._delegate.oldIndex}get newIndex(){return this._delegate.newIndex}}class v0{constructor(r,i){this._firestore=r,this._delegate=i}get query(){return new fr(this._firestore,this._delegate.query)}get metadata(){return this._delegate.metadata}get size(){return this._delegate.size}get empty(){return this._delegate.empty}get docs(){return this._delegate.docs.map(r=>new g0(this._firestore,r))}docChanges(r){return this._delegate.docChanges(r).map(i=>new dr(this._firestore,i))}forEach(r,i){this._delegate.forEach(o=>{r.call(i,new g0(this._firestore,o))})}isEqual(r){return f1(this._delegate,r._delegate)}}class As extends fr{constructor(r,i){super(r,i),this.firestore=r,this._delegate=i}get id(){return this._delegate.id}get path(){return this._delegate.path}get parent(){const r=this._delegate.parent;return r?new vi(this.firestore,r):null}doc(r){try{return new vi(this.firestore,void 0===r?nl(this._delegate):nl(this._delegate,r))}catch(i){throw Q1(i,"doc()","CollectionReference.doc()")}}add(r){return function(s,r){const i=Zt(s.firestore,Bn),o=nl(s),u=A5(s.converter,r);return ul(i,[M5(Mo(s.firestore),"addDoc",o._key,u,null!==s.converter,{}).toMutation(o._key,a1.exists(!1))]).then(()=>o)}(this._delegate,r).then(i=>new vi(this.firestore,i))}isEqual(r){return R7(this._delegate,r._delegate)}withConverter(r){return new As(this.firestore,this._delegate.withConverter(r?m0.getInstance(this.firestore,r):null))}}function Io(s){return Zt(s,gn)}class A4{constructor(...r){this._delegate=new Ms(...r)}static documentId(){return new A4(V1.keyField().canonicalString())}isEqual(r){return(r=(0,$t.m9)(r))instanceof Ms&&this._delegate._internalPath.isEqual(r._internalPath)}}class Ss{constructor(r){this._delegate=r}static serverTimestamp(){const r=new P7("serverTimestamp");return r._methodName="FieldValue.serverTimestamp",new Ss(r)}static delete(){const r=new il("deleteField");return r._methodName="FieldValue.delete",new Ss(r)}static arrayUnion(...r){const i=function(...s){return new Iv("arrayUnion",s)}(...r);return i._methodName="FieldValue.arrayUnion",new Ss(i)}static arrayRemove(...r){const i=function(...s){return new yw("arrayRemove",s)}(...r);return i._methodName="FieldValue.arrayRemove",new Ss(i)}static increment(r){const i=function(s){return new _w("increment",s)}(r);return i._methodName="FieldValue.increment",new Ss(i)}isEqual(r){return this._delegate.isEqual(r._delegate)}}const Bv={Firestore:D5,GeoPoint:rl,Timestamp:L1,Blob:E4,Transaction:Y7,WriteBatch:Q7,DocumentReference:vi,DocumentSnapshot:hl,Query:fr,QueryDocumentSnapshot:g0,QuerySnapshot:v0,CollectionReference:As,FieldPath:A4,FieldValue:Ss,setLogLevel:function(s){!function(s){ps.setLogLevel(s)}(s)},CACHE_SIZE_UNLIMITED:-1};!function(s){(function(s,r){s.INTERNAL.registerComponent(new c_.wA("firestore-compat",i=>((r,i)=>new D5(r,i,new K7))(i.getProvider("app-compat").getImmediate(),i.getProvider("firestore").getImmediate()),"PUBLIC").setServiceProps(Object.assign({},Bv)))})(s),s.registerVersion("@firebase/firestore-compat","0.1.0")}(zp.Z);var Zi=R(9765),Fx=R(6682),S4=R(5345);function H1(s,r){return"function"==typeof r?i=>i.pipe(H1((o,u)=>(0,bn.D)(s(o,u)).pipe((0,vt.U)((f,v)=>r(o,f,u,v))))):i=>i.lift(new Ux(s))}class Ux{constructor(r){this.project=r}call(r,i){return i.subscribe(new Bx(r,this.project))}}class Bx extends S4.Ds{constructor(r,i){super(r),this.project=i,this.index=0}_next(r){let i;const o=this.index++;try{i=this.project(r,o)}catch(u){return void this.destination.error(u)}this._innerSub(i)}_innerSub(r){const i=this.innerSubscription;i&&i.unsubscribe();const o=new S4.IY(this),u=this.destination;u.add(o),this.innerSubscription=(0,S4.ft)(r,o),this.innerSubscription!==o&&u.add(this.innerSubscription)}_complete(){const{innerSubscription:r}=this;(!r||r.closed)&&super._complete(),this.unsubscribe()}_unsubscribe(){this.innerSubscription=void 0}notifyComplete(){this.innerSubscription=void 0,this.isStopped&&super._complete()}notifyNext(r){this.destination.next(r)}}var jx=R(7771),pr=R(5319),I4=R(7971),J7=R(8858);class $x extends Zi.xQ{constructor(r=Number.POSITIVE_INFINITY,i=Number.POSITIVE_INFINITY,o){super(),this.scheduler=o,this._events=[],this._infiniteTimeWindow=!1,this._bufferSize=r<1?1:r,this._windowTime=i<1?1:i,i===Number.POSITIVE_INFINITY?(this._infiniteTimeWindow=!0,this.next=this.nextInfiniteTimeWindow):this.next=this.nextTimeWindow}nextInfiniteTimeWindow(r){if(!this.isStopped){const i=this._events;i.push(r),i.length>this._bufferSize&&i.shift()}super.next(r)}nextTimeWindow(r){this.isStopped||(this._events.push(new Gx(this._getNow(),r)),this._trimBufferThenGetEvents()),super.next(r)}_subscribe(r){const i=this._infiniteTimeWindow,o=i?this._events:this._trimBufferThenGetEvents(),u=this.scheduler,f=o.length;let v;if(this.closed)throw new I4.N;if(this.isStopped||this.hasError?v=pr.w.EMPTY:(this.observers.push(r),v=new J7.W(this,r)),u&&r.add(r=new W6.ht(r,u)),i)for(let x=0;x<f&&!r.closed;x++)r.next(o[x]);else for(let x=0;x<f&&!r.closed;x++)r.next(o[x].value);return this.hasError?r.error(this.thrownError):this.isStopped&&r.complete(),v}_getNow(){return(this.scheduler||jx.c).now()}_trimBufferThenGetEvents(){const r=this._getNow(),i=this._bufferSize,o=this._windowTime,u=this._events,f=u.length;let v=0;for(;v<f&&!(r-u[v].time<o);)v++;return f>i&&(v=Math.max(v,f-i)),v>0&&u.splice(0,v),u}}class Gx{constructor(r,i){this.time=r,this.value=i}}function jv(s,r,i){let o;return o=s&&"object"==typeof s?s:{bufferSize:s,windowTime:r,refCount:!1,scheduler:i},u=>u.lift(function({bufferSize:s=Number.POSITIVE_INFINITY,windowTime:r=Number.POSITIVE_INFINITY,refCount:i,scheduler:o}){let u,v,f=0,x=!1,S=!1;return function(P){let W;f++,!u||x?(x=!1,u=new $x(s,r,o),W=u.subscribe(this),v=P.subscribe({next(he){u.next(he)},error(he){x=!0,u.error(he)},complete(){S=!0,v=void 0,u.complete()}}),S&&(v=void 0)):W=u.subscribe(this),this.add(()=>{f--,W.unsubscribe(),W=void 0,v&&!S&&i&&0===f&&(v.unsubscribe(),v=void 0,u=void 0)})}}(o))}const fl=(()=>{function s(){return Error.call(this),this.message="no elements in sequence",this.name="EmptyError",this}return s.prototype=Object.create(Error.prototype),s})(),$v=(()=>{function s(){return Error.call(this),this.message="argument out of range",this.name="ArgumentOutOfRangeError",this}return s.prototype=Object.create(Error.prototype),s})();var Do=R(9193);function e9(s){return r=>0===s?(0,Do.c)():r.lift(new Is(s))}class Is{constructor(r){if(this.total=r,this.total<0)throw new $v}call(r,i){return i.subscribe(new dl(r,this.total))}}class dl extends B1.L{constructor(r,i){super(r),this.total=i,this.count=0}_next(r){const i=this.total,o=++this.count;o<=i&&(this.destination.next(r),o===i&&(this.destination.complete(),this.unsubscribe()))}}function y0(s=null){return r=>r.lift(new z5(s))}class z5{constructor(r){this.defaultValue=r}call(r,i){return i.subscribe(new D4(r,this.defaultValue))}}class D4 extends B1.L{constructor(r,i){super(r),this.defaultValue=i,this.isEmpty=!0}_next(r){this.isEmpty=!1,this.destination.next(r)}_complete(){this.isEmpty&&this.destination.next(this.defaultValue),this.destination.complete()}}function Gv(s=Wv){return r=>r.lift(new Zx(s))}class Zx{constructor(r){this.errorFactory=r}call(r,i){return i.subscribe(new qx(r,this.errorFactory))}}class qx extends B1.L{constructor(r,i){super(r),this.errorFactory=i,this.hasValue=!1}_next(r){this.hasValue=!0,this.destination.next(r)}_complete(){if(this.hasValue)return this.destination.complete();{let r;try{r=this.errorFactory()}catch(i){r=i}this.destination.error(r)}}}function Wv(){return new fl}var t9=R(4487);function To(s,r){const i=arguments.length>=2;return o=>o.pipe(s?Mr((u,f)=>s(u,f,o)):t9.y,e9(1),i?y0(r):Gv(()=>new fl))}function n9(s,r){return r?H1(()=>s,r):H1(()=>s)}var pl=R(3101);const Zv=new m.OlP("angularfire2.auth.use-emulator"),r9=new m.OlP("angularfire2.auth.settings"),No=new m.OlP("angularfire2.auth.tenant-id"),L5=new m.OlP("angularfire2.auth.langugage-code"),qv=new m.OlP("angularfire2.auth.use-device-language"),i9=new m.OlP("angularfire.auth.persistence");let s9=(()=>{class s{constructor(i,o,u,f,v,x,S,L,P,W,he){const fe=new Zi.xQ,Ee=(0,dt.of)(void 0).pipe((0,W6.QV)(v.outsideAngular),H1(()=>f.runOutsideAngular(()=>Promise.resolve().then(R.bind(R,6300)))),(0,vt.U)(()=>(0,x2.on)(i,f,o)),(0,vt.U)($e=>f.runOutsideAngular(()=>{const Ze=x,Xe=S;return(0,T1.cc)(`${$e.name}.auth`,"AngularFireAuth",$e.name,()=>{const ht=f.runOutsideAngular(()=>$e.auth());if(Ze&&ht.useEmulator(...Ze),L&&(ht.tenantId=L),ht.languageCode=P,W&&ht.useDeviceLanguage(),Xe)for(const[_t,At]of Object.entries(Xe))ht.settings[_t]=At;return he&&ht.setPersistence(he),ht},[Ze,L,P,W,Xe,he])})),jv({bufferSize:1,refCount:!1}));if(M0(u))this.authState=this.user=this.idToken=this.idTokenResult=this.credential=(0,dt.of)(null);else{Ee.pipe(To()).subscribe();const Ze=Ee.pipe(H1(_t=>_t.getRedirectResult().then(At=>At,()=>null)),T1.iC,jv({bufferSize:1,refCount:!1})),Xe=Ee.pipe(H1(_t=>new A1.y(At=>({unsubscribe:f.runOutsideAngular(()=>_t.onAuthStateChanged(sn=>At.next(sn),sn=>At.error(sn),()=>At.complete()))})))),ht=Ee.pipe(H1(_t=>new A1.y(At=>({unsubscribe:f.runOutsideAngular(()=>_t.onIdTokenChanged(sn=>At.next(sn),sn=>At.error(sn),()=>At.complete()))}))));this.authState=Ze.pipe(n9(Xe),(0,pl.R)(v.outsideAngular),(0,W6.QV)(v.insideAngular)),this.user=Ze.pipe(n9(ht),(0,pl.R)(v.outsideAngular),(0,W6.QV)(v.insideAngular)),this.idToken=this.user.pipe(H1(_t=>_t?(0,bn.D)(_t.getIdToken()):(0,dt.of)(null))),this.idTokenResult=this.user.pipe(H1(_t=>_t?(0,bn.D)(_t.getIdTokenResult()):(0,dt.of)(null))),this.credential=(0,Fx.T)(Ze,fe,this.authState.pipe(Mr(_t=>!_t))).pipe((0,vt.U)(_t=>(null==_t?void 0:_t.user)?_t:null),(0,pl.R)(v.outsideAngular),(0,W6.QV)(v.insideAngular))}return(0,x2.pX)(this,Ee,f,{spy:{apply:($e,Ze,Xe)=>{($e.startsWith("signIn")||$e.startsWith("createUser"))&&Xe.then(ht=>fe.next(ht))}}})}}return s.\u0275fac=function(i){return new(i||s)(m.LFG(x2.Dh),m.LFG(x2.xv,8),m.LFG(m.Lbi),m.LFG(m.R0b),m.LFG(T1.HU),m.LFG(Zv,8),m.LFG(r9,8),m.LFG(No,8),m.LFG(L5,8),m.LFG(qv,8),m.LFG(i9,8))},s.\u0275prov=m.Yz7({token:s,factory:s.\u0275fac,providedIn:"any"}),s})(),Tw=(()=>{class s{}return s.\u0275fac=function(i){return new(i||s)},s.\u0275mod=m.oAB({type:s}),s.\u0275inj=m.cJS({providers:[s9]}),s})();function Yx(s,r){return function(s,r=n_.z){return new A1.y(i=>{let o;return null!=r?r.schedule(()=>{o=s.onSnapshot({includeMetadataChanges:!0},i)}):o=s.onSnapshot({includeMetadataChanges:!0},i),()=>{null!=o&&o()}})}(s,r)}function o9(s,r){return Yx(s,r).pipe((0,vt.U)(i=>({payload:i,type:"query"})))}function a9(s,r){return o9(s,r).pipe($6(void 0),oo(),(0,vt.U)(([i,o])=>{const u=o.payload.docChanges(),f=u.map(v=>({type:v.type,payload:v}));return i&&JSON.stringify(i.payload.metadata)!==JSON.stringify(o.payload.metadata)&&o.payload.docs.forEach((v,x)=>{const S=u.find(P=>P.doc.ref.isEqual(v.ref)),L=null==i?void 0:i.payload.docs.find(P=>P.ref.isEqual(v.ref));S&&JSON.stringify(S.doc.metadata)===JSON.stringify(v.metadata)||!S&&L&&JSON.stringify(L.metadata)===JSON.stringify(v.metadata)||f.push({type:"modified",payload:{oldIndex:x,newIndex:x,type:"modified",doc:v}})}),f}))}function Jx(s,r,i){return a9(s,i).pipe(G6((o,u)=>function(s,r,i){return r.forEach(o=>{i.indexOf(o.type)>-1&&(s=function(s,r){switch(r.type){case"added":if(!s[r.newIndex]||!s[r.newIndex].doc.ref.isEqual(r.doc.ref))return Kv(s,r.newIndex,0,r);break;case"modified":if(null==s[r.oldIndex]||s[r.oldIndex].doc.ref.isEqual(r.doc.ref)){if(r.oldIndex!==r.newIndex){const i=s.slice();return i.splice(r.oldIndex,1),i.splice(r.newIndex,0,r),i}return Kv(s,r.newIndex,1,r)}break;case"removed":if(s[r.oldIndex]&&s[r.oldIndex].doc.ref.isEqual(r.doc.ref))return Kv(s,r.oldIndex,1)}return s}(s,o))}),s}(o,u.map(f=>f.payload),r),[]),i=>i.lift(new o_(void 0,void 0)),(0,vt.U)(o=>o.map(u=>({type:u.type,payload:u}))))}function Kv(s,r,i,...o){const u=s.slice();return u.splice(r,i,...o),u}function eb(s){return(!s||0===s.length)&&(s=["added","removed","modified"]),s}class tb{constructor(r,i,o){this.ref=r,this.query=i,this.afs=o}stateChanges(r){let i=a9(this.query,this.afs.schedulers.outsideAngular);return r&&r.length>0&&(i=i.pipe((0,vt.U)(o=>o.filter(u=>r.indexOf(u.type)>-1)))),i.pipe($6(void 0),oo(),Mr(([o,u])=>u.length>0||!o),(0,vt.U)(([o,u])=>u),T1.iC)}auditTrail(r){return this.stateChanges(r).pipe(G6((i,o)=>[...i,...o],[]))}snapshotChanges(r){const i=eb(r);return Jx(this.query,i,this.afs.schedulers.outsideAngular).pipe(T1.iC)}valueChanges(r={}){return o9(this.query,this.afs.schedulers.outsideAngular).pipe((0,vt.U)(i=>i.payload.docs.map(o=>r.idField?Object.assign(Object.assign({},o.data()),{[r.idField]:o.id}):o.data())),T1.iC)}get(r){return(0,bn.D)(this.query.get(r)).pipe(T1.f6)}add(r){return this.ref.add(r)}doc(r){return new nb(this.ref.doc(r),this.afs)}}class nb{constructor(r,i){this.ref=r,this.afs=i}set(r,i){return this.ref.set(r,i)}update(r){return this.ref.update(r)}delete(){return this.ref.delete()}collection(r,i){const o=this.ref.collection(r),{ref:u,query:f}=d(o,i);return new tb(u,f,this.afs)}snapshotChanges(){return function(s,r){return Yx(s,r).pipe($6(void 0),oo(),(0,vt.U)(([i,o])=>o.exists?(null==i?void 0:i.exists)?{payload:o,type:"modified"}:{payload:o,type:"added"}:{payload:o,type:"removed"}))}(this.ref,this.afs.schedulers.outsideAngular).pipe(T1.iC)}valueChanges(r={}){return this.snapshotChanges().pipe((0,vt.U)(({payload:i})=>r.idField?Object.assign(Object.assign({},i.data()),{[r.idField]:i.id}):i.data()))}get(r){return(0,bn.D)(this.ref.get(r)).pipe((0,W6.QV)(this.afs.schedulers.insideAngular))}}class Lw{constructor(r,i){this.query=r,this.afs=i}stateChanges(r){return r&&0!==r.length?a9(this.query,this.afs.schedulers.outsideAngular).pipe((0,vt.U)(i=>i.filter(o=>r.indexOf(o.type)>-1)),Mr(i=>i.length>0),T1.iC):a9(this.query,this.afs.schedulers.outsideAngular).pipe(T1.iC)}auditTrail(r){return this.stateChanges(r).pipe(G6((i,o)=>[...i,...o],[]))}snapshotChanges(r){const i=eb(r);return Jx(this.query,i,this.afs.schedulers.outsideAngular).pipe(T1.iC)}valueChanges(r={}){return o9(this.query,this.afs.schedulers.outsideAngular).pipe((0,vt.U)(o=>o.payload.docs.map(u=>r.idField?Object.assign({[r.idField]:u.id},u.data()):u.data())),T1.iC)}get(r){return(0,bn.D)(this.query.get(r)).pipe(T1.f6)}}const a=new m.OlP("angularfire2.enableFirestorePersistence"),c=new m.OlP("angularfire2.firestore.persistenceSettings"),l=new m.OlP("angularfire2.firestore.settings"),h=new m.OlP("angularfire2.firestore.use-emulator");function d(s,r=(i=>i)){return{query:r(s),ref:s}}let g=(()=>{class s{constructor(i,o,u,f,v,x,S,L,P,W,he,fe,Ee,$e,Ze,Xe){this.schedulers=S;const ht=(0,x2.on)(i,x,o),_t=P;if(W){const At=fe;(0,T1.cc)(`${ht.name}.auth`,"AngularFireAuth",ht.name,()=>{const sn=x.runOutsideAngular(()=>ht.auth());if(he&&sn.useEmulator(...he),Ee&&(sn.tenantId=Ee),sn.languageCode=$e,Ze&&sn.useDeviceLanguage(),At)for(const[ti,py]of Object.entries(At))sn.settings[ti]=py;return Xe&&sn.setPersistence(Xe),sn},[he,Ee,$e,Ze,At,Xe])}[this.firestore,this.persistenceEnabled$]=(0,T1.cc)(`${ht.name}.firestore`,"AngularFirestore",ht.name,()=>{const At=x.runOutsideAngular(()=>ht.firestore());if(f&&At.settings(f),_t&&At.useEmulator(..._t),u&&!M0(v)){const sn=()=>{try{return(0,bn.D)(At.enablePersistence(L||void 0).then(()=>!0,()=>!1))}catch(ti){return"undefined"!=typeof console&&console.warn(ti),(0,dt.of)(!1)}};return[At,x.runOutsideAngular(sn)]}return[At,(0,dt.of)(!1)]},[f,_t,u])}collection(i,o){let u;u="string"==typeof i?this.firestore.collection(i):i;const{ref:f,query:v}=d(u,o),x=this.schedulers.ngZone.run(()=>f);return new tb(x,v,this)}collectionGroup(i,o){const u=o||(v=>v),f=this.firestore.collectionGroup(i);return new Lw(u(f),this)}doc(i){let o;o="string"==typeof i?this.firestore.doc(i):i;const u=this.schedulers.ngZone.run(()=>o);return new nb(u,this)}createId(){return this.firestore.collection("_").doc().id}}return s.\u0275fac=function(i){return new(i||s)(m.LFG(x2.Dh),m.LFG(x2.xv,8),m.LFG(a,8),m.LFG(l,8),m.LFG(m.Lbi),m.LFG(m.R0b),m.LFG(T1.HU),m.LFG(c,8),m.LFG(h,8),m.LFG(s9,8),m.LFG(Zv,8),m.LFG(r9,8),m.LFG(No,8),m.LFG(L5,8),m.LFG(qv,8),m.LFG(i9,8))},s.\u0275prov=m.Yz7({token:s,factory:s.\u0275fac,providedIn:"any"}),s})(),_=(()=>{class s{static enablePersistence(i){return{ngModule:s,providers:[{provide:a,useValue:!0},{provide:c,useValue:i}]}}}return s.\u0275fac=function(i){return new(i||s)},s.\u0275mod=m.oAB({type:s}),s.\u0275inj=m.cJS({providers:[g]}),s})();class b extends Zi.xQ{constructor(r){super(),this._value=r}get value(){return this.getValue()}_subscribe(r){const i=super._subscribe(r);return i&&!i.closed&&r.next(this._value),i}getValue(){if(this.hasError)throw this.thrownError;if(this.closed)throw new I4.N;return this._value}next(r){super.next(this._value=r)}}class A extends B1.L{notifyNext(r,i,o,u,f){this.destination.next(i)}notifyError(r,i){this.destination.error(r)}notifyComplete(r){this.destination.complete()}}class I extends B1.L{constructor(r,i,o){super(),this.parent=r,this.outerValue=i,this.outerIndex=o,this.index=0}_next(r){this.parent.notifyNext(this.outerValue,r,this.outerIndex,this.index++,this)}_error(r){this.parent.notifyError(r,this),this.unsubscribe()}_complete(){this.parent.notifyComplete(this),this.unsubscribe()}}var D=R(7444);function j(s,r,i,o,u=new I(s,i,o)){if(!u.closed)return r instanceof A1.y?r.subscribe(u):(0,D.s)(r)(u)}var q=R(6693);const re={};class Se{constructor(r){this.resultSelector=r}call(r,i){return i.subscribe(new be(r,this.resultSelector))}}class be extends A{constructor(r,i){super(r),this.resultSelector=i,this.active=0,this.values=[],this.observables=[]}_next(r){this.values.push(re),this.observables.push(r)}_complete(){const r=this.observables,i=r.length;if(0===i)this.destination.complete();else{this.active=i,this.toRespond=i;for(let o=0;o<i;o++)this.add(j(this,r[o],void 0,o))}}notifyComplete(r){0==(this.active-=1)&&this.destination.complete()}notifyNext(r,i,o){const u=this.values,v=this.toRespond?u[o]===re?--this.toRespond:this.toRespond:0;u[o]=i,0===v&&(this.resultSelector?this._tryResultSelector(u):this.destination.next(u.slice()))}_tryResultSelector(r){let i;try{i=this.resultSelector.apply(this,r)}catch(o){return void this.destination.error(o)}this.destination.next(i)}}function Ge(s){return new A1.y(r=>{let i;try{i=s()}catch(u){return void r.error(u)}return(i?(0,bn.D)(i):(0,Do.c)()).subscribe(r)})}var Oe=R(2441);function ot(s){return function(i){const o=new xt(s),u=i.lift(o);return o.caught=u}}class xt{constructor(r){this.selector=r}call(r,i){return i.subscribe(new Pt(r,this.selector,this.caught))}}class Pt extends S4.Ds{constructor(r,i,o){super(r),this.selector=i,this.caught=o}error(r){if(!this.isStopped){let i;try{i=this.selector(r,this.caught)}catch(f){return void super.error(f)}this._unsubscribeAndRecycle();const o=new S4.IY(this);this.add(o);const u=(0,S4.ft)(i,o);u!==o&&this.add(u)}}}function Wn(s){return function(i){return 0===s?(0,Do.c)():i.lift(new yi(s))}}class yi{constructor(r){if(this.total=r,this.total<0)throw new $v}call(r,i){return i.subscribe(new ml(r,this.total))}}class ml extends B1.L{constructor(r,i){super(r),this.total=i,this.ring=new Array,this.count=0}_next(r){const i=this.ring,o=this.total,u=this.count++;i.length<o?i.push(r):i[u%o]=r}_complete(){const r=this.destination;let i=this.count;if(i>0){const o=this.count>=this.total?this.total:this.count,u=this.ring;for(let f=0;f<o;f++){const v=i++%o;r.next(u[v])}}r.complete()}}var b1=R(3342),N4=R(1307);class l9{constructor(r){this.callback=r}call(r,i){return i.subscribe(new u9(r,this.callback))}}class u9 extends B1.L{constructor(r,i){super(r),this.add(new pr.w(i))}}class qi{constructor(r,i){this.id=r,this.url=i}}class gl extends qi{constructor(r,i,o="imperative",u=null){super(r,i),this.navigationTrigger=o,this.restoredState=u}toString(){return`NavigationStart(id: ${this.id}, url: '${this.url}')`}}class h9 extends qi{constructor(r,i,o){super(r,i),this.urlAfterRedirects=o}toString(){return`NavigationEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}')`}}class Vw extends qi{constructor(r,i,o){super(r,i),this.reason=o}toString(){return`NavigationCancel(id: ${this.id}, url: '${this.url}')`}}class sE extends qi{constructor(r,i,o){super(r,i),this.error=o}toString(){return`NavigationError(id: ${this.id}, url: '${this.url}', error: ${this.error})`}}class oE extends qi{constructor(r,i,o,u){super(r,i),this.urlAfterRedirects=o,this.state=u}toString(){return`RoutesRecognized(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class aE extends qi{constructor(r,i,o,u){super(r,i),this.urlAfterRedirects=o,this.state=u}toString(){return`GuardsCheckStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class cE extends qi{constructor(r,i,o,u,f){super(r,i),this.urlAfterRedirects=o,this.state=u,this.shouldActivate=f}toString(){return`GuardsCheckEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state}, shouldActivate: ${this.shouldActivate})`}}class lE extends qi{constructor(r,i,o,u){super(r,i),this.urlAfterRedirects=o,this.state=u}toString(){return`ResolveStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class uE extends qi{constructor(r,i,o,u){super(r,i),this.urlAfterRedirects=o,this.state=u}toString(){return`ResolveEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class Rw{constructor(r){this.route=r}toString(){return`RouteConfigLoadStart(path: ${this.route.path})`}}class kw{constructor(r){this.route=r}toString(){return`RouteConfigLoadEnd(path: ${this.route.path})`}}class hE{constructor(r){this.snapshot=r}toString(){return`ChildActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class fE{constructor(r){this.snapshot=r}toString(){return`ChildActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class dE{constructor(r){this.snapshot=r}toString(){return`ActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class pE{constructor(r){this.snapshot=r}toString(){return`ActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class Ow{constructor(r,i,o){this.routerEvent=r,this.position=i,this.anchor=o}toString(){return`Scroll(anchor: '${this.anchor}', position: '${this.position?`${this.position[0]}, ${this.position[1]}`:null}')`}}const Ht="primary";class mE{constructor(r){this.params=r||{}}has(r){return Object.prototype.hasOwnProperty.call(this.params,r)}get(r){if(this.has(r)){const i=this.params[r];return Array.isArray(i)?i[0]:i}return null}getAll(r){if(this.has(r)){const i=this.params[r];return Array.isArray(i)?i:[i]}return[]}get keys(){return Object.keys(this.params)}}function V5(s){return new mE(s)}const Pw="ngNavigationCancelingError";function rb(s){const r=Error("NavigationCancelingError: "+s);return r[Pw]=!0,r}function vE(s,r,i){const o=i.path.split("/");if(o.length>s.length||"full"===i.pathMatch&&(r.hasChildren()||o.length<s.length))return null;const u={};for(let f=0;f<o.length;f++){const v=o[f],x=s[f];if(v.startsWith(":"))u[v.substring(1)]=x;else if(v!==x.path)return null}return{consumed:s.slice(0,o.length),posParams:u}}function zo(s,r){const i=s?Object.keys(s):void 0,o=r?Object.keys(r):void 0;if(!i||!o||i.length!=o.length)return!1;let u;for(let f=0;f<i.length;f++)if(u=i[f],!Hw(s[u],r[u]))return!1;return!0}function Hw(s,r){if(Array.isArray(s)&&Array.isArray(r)){if(s.length!==r.length)return!1;const i=[...s].sort(),o=[...r].sort();return i.every((u,f)=>o[f]===u)}return s===r}function Fw(s){return Array.prototype.concat.apply([],s)}function Uw(s){return s.length>0?s[s.length-1]:null}function mr(s,r){for(const i in s)s.hasOwnProperty(i)&&r(s[i],i)}function Lo(s){return(0,m.CqO)(s)?s:(0,m.QGY)(s)?(0,bn.D)(Promise.resolve(s)):(0,dt.of)(s)}const CE={exact:function $w(s,r,i){if(!yl(s.segments,r.segments)||!Yv(s.segments,r.segments,i)||s.numberOfChildren!==r.numberOfChildren)return!1;for(const o in r.children)if(!s.children[o]||!$w(s.children[o],r.children[o],i))return!1;return!0},subset:Gw},Bw={exact:function(s,r){return zo(s,r)},subset:function(s,r){return Object.keys(r).length<=Object.keys(s).length&&Object.keys(r).every(i=>Hw(s[i],r[i]))},ignored:()=>!0};function jw(s,r,i){return CE[i.paths](s.root,r.root,i.matrixParams)&&Bw[i.queryParams](s.queryParams,r.queryParams)&&!("exact"===i.fragment&&s.fragment!==r.fragment)}function Gw(s,r,i){return Ww(s,r,r.segments,i)}function Ww(s,r,i,o){if(s.segments.length>i.length){const u=s.segments.slice(0,i.length);return!(!yl(u,i)||r.hasChildren()||!Yv(u,i,o))}if(s.segments.length===i.length){if(!yl(s.segments,i)||!Yv(s.segments,i,o))return!1;for(const u in r.children)if(!s.children[u]||!Gw(s.children[u],r.children[u],o))return!1;return!0}{const u=i.slice(0,s.segments.length),f=i.slice(s.segments.length);return!!(yl(s.segments,u)&&Yv(s.segments,u,o)&&s.children[Ht])&&Ww(s.children[Ht],r,f,o)}}function Yv(s,r,i){return r.every((o,u)=>Bw[i](s[u].parameters,o.parameters))}class vl{constructor(r,i,o){this.root=r,this.queryParams=i,this.fragment=o}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=V5(this.queryParams)),this._queryParamMap}toString(){return EE.serialize(this)}}class Bt{constructor(r,i){this.segments=r,this.children=i,this.parent=null,mr(i,(o,u)=>o.parent=this)}hasChildren(){return this.numberOfChildren>0}get numberOfChildren(){return Object.keys(this.children).length}toString(){return Qv(this)}}class f9{constructor(r,i){this.path=r,this.parameters=i}get parameterMap(){return this._parameterMap||(this._parameterMap=V5(this.parameters)),this._parameterMap}toString(){return Yw(this)}}function yl(s,r){return s.length===r.length&&s.every((i,o)=>i.path===r[o].path)}class ib{}class Zw{parse(r){const i=new VE(r);return new vl(i.parseRootSegment(),i.parseQueryParams(),i.parseFragment())}serialize(r){return`${`/${d9(r.root,!0)}`}${function(s){const r=Object.keys(s).map(i=>{const o=s[i];return Array.isArray(o)?o.map(u=>`${Jv(i)}=${Jv(u)}`).join("&"):`${Jv(i)}=${Jv(o)}`}).filter(i=>!!i);return r.length?`?${r.join("&")}`:""}(r.queryParams)}${"string"==typeof r.fragment?`#${function(s){return encodeURI(s)}(r.fragment)}`:""}`}}const EE=new Zw;function Qv(s){return s.segments.map(r=>Yw(r)).join("/")}function d9(s,r){if(!s.hasChildren())return Qv(s);if(r){const i=s.children[Ht]?d9(s.children[Ht],!1):"",o=[];return mr(s.children,(u,f)=>{f!==Ht&&o.push(`${f}:${d9(u,!1)}`)}),o.length>0?`${i}(${o.join("//")})`:i}{const i=function(s,r){let i=[];return mr(s.children,(o,u)=>{u===Ht&&(i=i.concat(r(o,u)))}),mr(s.children,(o,u)=>{u!==Ht&&(i=i.concat(r(o,u)))}),i}(s,(o,u)=>u===Ht?[d9(s.children[Ht],!1)]:[`${u}:${d9(o,!1)}`]);return 1===Object.keys(s.children).length&&null!=s.children[Ht]?`${Qv(s)}/${i[0]}`:`${Qv(s)}/(${i.join("//")})`}}function qw(s){return encodeURIComponent(s).replace(/%40/g,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",")}function Jv(s){return qw(s).replace(/%3B/gi,";")}function sb(s){return qw(s).replace(/\(/g,"%28").replace(/\)/g,"%29").replace(/%26/gi,"&")}function Xv(s){return decodeURIComponent(s)}function Kw(s){return Xv(s.replace(/\+/g,"%20"))}function Yw(s){return`${sb(s.path)}${function(s){return Object.keys(s).map(r=>`;${sb(r)}=${sb(s[r])}`).join("")}(s.parameters)}`}const DE=/^[^\/()?;=#]+/;function ey(s){const r=s.match(DE);return r?r[0]:""}const TE=/^[^=?&#]+/,zE=/^[^?&#]+/;class VE{constructor(r){this.url=r,this.remaining=r}parseRootSegment(){return this.consumeOptional("/"),""===this.remaining||this.peekStartsWith("?")||this.peekStartsWith("#")?new Bt([],{}):new Bt([],this.parseChildren())}parseQueryParams(){const r={};if(this.consumeOptional("?"))do{this.parseQueryParam(r)}while(this.consumeOptional("&"));return r}parseFragment(){return this.consumeOptional("#")?decodeURIComponent(this.remaining):null}parseChildren(){if(""===this.remaining)return{};this.consumeOptional("/");const r=[];for(this.peekStartsWith("(")||r.push(this.parseSegment());this.peekStartsWith("/")&&!this.peekStartsWith("//")&&!this.peekStartsWith("/(");)this.capture("/"),r.push(this.parseSegment());let i={};this.peekStartsWith("/(")&&(this.capture("/"),i=this.parseParens(!0));let o={};return this.peekStartsWith("(")&&(o=this.parseParens(!1)),(r.length>0||Object.keys(i).length>0)&&(o[Ht]=new Bt(r,i)),o}parseSegment(){const r=ey(this.remaining);if(""===r&&this.peekStartsWith(";"))throw new Error(`Empty path url segment cannot have parameters: '${this.remaining}'.`);return this.capture(r),new f9(Xv(r),this.parseMatrixParams())}parseMatrixParams(){const r={};for(;this.consumeOptional(";");)this.parseParam(r);return r}parseParam(r){const i=ey(this.remaining);if(!i)return;this.capture(i);let o="";if(this.consumeOptional("=")){const u=ey(this.remaining);u&&(o=u,this.capture(o))}r[Xv(i)]=Xv(o)}parseQueryParam(r){const i=function(s){const r=s.match(TE);return r?r[0]:""}(this.remaining);if(!i)return;this.capture(i);let o="";if(this.consumeOptional("=")){const v=function(s){const r=s.match(zE);return r?r[0]:""}(this.remaining);v&&(o=v,this.capture(o))}const u=Kw(i),f=Kw(o);if(r.hasOwnProperty(u)){let v=r[u];Array.isArray(v)||(v=[v],r[u]=v),v.push(f)}else r[u]=f}parseParens(r){const i={};for(this.capture("(");!this.consumeOptional(")")&&this.remaining.length>0;){const o=ey(this.remaining),u=this.remaining[o.length];if("/"!==u&&")"!==u&&";"!==u)throw new Error(`Cannot parse url '${this.url}'`);let f;o.indexOf(":")>-1?(f=o.substr(0,o.indexOf(":")),this.capture(f),this.capture(":")):r&&(f=Ht);const v=this.parseChildren();i[f]=1===Object.keys(v).length?v[Ht]:new Bt([],v),this.consumeOptional("//")}return i}peekStartsWith(r){return this.remaining.startsWith(r)}consumeOptional(r){return!!this.peekStartsWith(r)&&(this.remaining=this.remaining.substring(r.length),!0)}capture(r){if(!this.consumeOptional(r))throw new Error(`Expected "${r}".`)}}class Qw{constructor(r){this._root=r}get root(){return this._root.value}parent(r){const i=this.pathFromRoot(r);return i.length>1?i[i.length-2]:null}children(r){const i=ob(r,this._root);return i?i.children.map(o=>o.value):[]}firstChild(r){const i=ob(r,this._root);return i&&i.children.length>0?i.children[0].value:null}siblings(r){const i=ab(r,this._root);return i.length<2?[]:i[i.length-2].children.map(u=>u.value).filter(u=>u!==r)}pathFromRoot(r){return ab(r,this._root).map(i=>i.value)}}function ob(s,r){if(s===r.value)return r;for(const i of r.children){const o=ob(s,i);if(o)return o}return null}function ab(s,r){if(s===r.value)return[r];for(const i of r.children){const o=ab(s,i);if(o.length)return o.unshift(r),o}return[]}class _0{constructor(r,i){this.value=r,this.children=i}toString(){return`TreeNode(${this.value})`}}function p9(s){const r={};return s&&s.children.forEach(i=>r[i.value.outlet]=i),r}class Jw extends Qw{constructor(r,i){super(r),this.snapshot=i,cb(this,r)}toString(){return this.snapshot.toString()}}function Xw(s,r){const i=function(s,r){const v=new ty([],{},{},"",{},Ht,r,null,s.root,-1,{});return new tM("",new _0(v,[]))}(s,r),o=new b([new f9("",{})]),u=new b({}),f=new b({}),v=new b({}),x=new b(""),S=new _l(o,u,v,x,f,Ht,r,i.root);return S.snapshot=i.root,new Jw(new _0(S,[]),i)}class _l{constructor(r,i,o,u,f,v,x,S){this.url=r,this.params=i,this.queryParams=o,this.fragment=u,this.data=f,this.outlet=v,this.component=x,this._futureSnapshot=S}get routeConfig(){return this._futureSnapshot.routeConfig}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=this.params.pipe((0,vt.U)(r=>V5(r)))),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=this.queryParams.pipe((0,vt.U)(r=>V5(r)))),this._queryParamMap}toString(){return this.snapshot?this.snapshot.toString():`Future(${this._futureSnapshot})`}}function eM(s,r="emptyOnly"){const i=s.pathFromRoot;let o=0;if("always"!==r)for(o=i.length-1;o>=1;){const u=i[o],f=i[o-1];if(u.routeConfig&&""===u.routeConfig.path)o--;else{if(f.component)break;o--}}return function(s){return s.reduce((r,i)=>({params:Object.assign(Object.assign({},r.params),i.params),data:Object.assign(Object.assign({},r.data),i.data),resolve:Object.assign(Object.assign({},r.resolve),i._resolvedData)}),{params:{},data:{},resolve:{}})}(i.slice(o))}class ty{constructor(r,i,o,u,f,v,x,S,L,P,W){this.url=r,this.params=i,this.queryParams=o,this.fragment=u,this.data=f,this.outlet=v,this.component=x,this.routeConfig=S,this._urlSegment=L,this._lastPathIndex=P,this._resolve=W}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=V5(this.params)),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=V5(this.queryParams)),this._queryParamMap}toString(){return`Route(url:'${this.url.map(o=>o.toString()).join("/")}', path:'${this.routeConfig?this.routeConfig.path:""}')`}}class tM extends Qw{constructor(r,i){super(i),this.url=r,cb(this,i)}toString(){return nM(this._root)}}function cb(s,r){r.value._routerState=s,r.children.forEach(i=>cb(s,i))}function nM(s){const r=s.children.length>0?` { ${s.children.map(nM).join(", ")} } `:"";return`${s.value}${r}`}function lb(s){if(s.snapshot){const r=s.snapshot,i=s._futureSnapshot;s.snapshot=i,zo(r.queryParams,i.queryParams)||s.queryParams.next(i.queryParams),r.fragment!==i.fragment&&s.fragment.next(i.fragment),zo(r.params,i.params)||s.params.next(i.params),function(s,r){if(s.length!==r.length)return!1;for(let i=0;i<s.length;++i)if(!zo(s[i],r[i]))return!1;return!0}(r.url,i.url)||s.url.next(i.url),zo(r.data,i.data)||s.data.next(i.data)}else s.snapshot=s._futureSnapshot,s.data.next(s._futureSnapshot.data)}function ub(s,r){return zo(s.params,r.params)&&function(s,r){return yl(s,r)&&s.every((i,o)=>zo(i.parameters,r[o].parameters))}(s.url,r.url)&&!(!s.parent!=!r.parent)&&(!s.parent||ub(s.parent,r.parent))}function ny(s,r,i){if(i&&s.shouldReuseRoute(r.value,i.value.snapshot)){const o=i.value;o._futureSnapshot=r.value;const u=function(s,r,i){return r.children.map(o=>{for(const u of i.children)if(s.shouldReuseRoute(o.value,u.value.snapshot))return ny(s,o,u);return ny(s,o)})}(s,r,i);return new _0(o,u)}{if(s.shouldAttach(r.value)){const f=s.retrieve(r.value);if(null!==f){const v=f.route;return rM(r,v),v}}const o=function(s){return new _l(new b(s.url),new b(s.params),new b(s.queryParams),new b(s.fragment),new b(s.data),s.outlet,s.component,s)}(r.value),u=r.children.map(f=>ny(s,f));return new _0(o,u)}}function rM(s,r){if(s.value.routeConfig!==r.value.routeConfig)throw new Error("Cannot reattach ActivatedRouteSnapshot created from a different route");if(s.children.length!==r.children.length)throw new Error("Cannot reattach ActivatedRouteSnapshot with a different number of children");r.value._futureSnapshot=s.value;for(let i=0;i<s.children.length;++i)rM(s.children[i],r.children[i])}function ry(s){return"object"==typeof s&&null!=s&&!s.outlets&&!s.segmentPath}function m9(s){return"object"==typeof s&&null!=s&&s.outlets}function hb(s,r,i,o,u){let f={};return o&&mr(o,(v,x)=>{f[x]=Array.isArray(v)?v.map(S=>`${S}`):`${v}`}),new vl(i.root===s?r:iM(i.root,s,r),f,u)}function iM(s,r,i){const o={};return mr(s.children,(u,f)=>{o[f]=u===r?i:iM(u,r,i)}),new Bt(s.segments,o)}class sM{constructor(r,i,o){if(this.isAbsolute=r,this.numberOfDoubleDots=i,this.commands=o,r&&o.length>0&&ry(o[0]))throw new Error("Root segment cannot have matrix parameters");const u=o.find(m9);if(u&&u!==Uw(o))throw new Error("{outlets:{}} has to be the last command")}toRoot(){return this.isAbsolute&&1===this.commands.length&&"/"==this.commands[0]}}class fb{constructor(r,i,o){this.segmentGroup=r,this.processChildren=i,this.index=o}}function oM(s,r,i){if(s||(s=new Bt([],{})),0===s.segments.length&&s.hasChildren())return iy(s,r,i);const o=function(s,r,i){let o=0,u=r;const f={match:!1,pathIndex:0,commandIndex:0};for(;u<s.segments.length;){if(o>=i.length)return f;const v=s.segments[u],x=i[o];if(m9(x))break;const S=`${x}`,L=o<i.length-1?i[o+1]:null;if(u>0&&void 0===S)break;if(S&&L&&"object"==typeof L&&void 0===L.outlets){if(!cM(S,L,v))return f;o+=2}else{if(!cM(S,{},v))return f;o++}u++}return{match:!0,pathIndex:u,commandIndex:o}}(s,r,i),u=i.slice(o.commandIndex);if(o.match&&o.pathIndex<s.segments.length){const f=new Bt(s.segments.slice(0,o.pathIndex),{});return f.children[Ht]=new Bt(s.segments.slice(o.pathIndex),s.children),iy(f,0,u)}return o.match&&0===u.length?new Bt(s.segments,{}):o.match&&!s.hasChildren()?db(s,r,i):o.match?iy(s,0,u):db(s,r,i)}function iy(s,r,i){if(0===i.length)return new Bt(s.segments,{});{const o=function(s){return m9(s[0])?s[0].outlets:{[Ht]:s}}(i),u={};return mr(o,(f,v)=>{"string"==typeof f&&(f=[f]),null!==f&&(u[v]=oM(s.children[v],r,f))}),mr(s.children,(f,v)=>{void 0===o[v]&&(u[v]=f)}),new Bt(s.segments,u)}}function db(s,r,i){const o=s.segments.slice(0,r);let u=0;for(;u<i.length;){const f=i[u];if(m9(f)){const S=WE(f.outlets);return new Bt(o,S)}if(0===u&&ry(i[0])){o.push(new f9(s.segments[r].path,aM(i[0]))),u++;continue}const v=m9(f)?f.outlets[Ht]:`${f}`,x=u<i.length-1?i[u+1]:null;v&&x&&ry(x)?(o.push(new f9(v,aM(x))),u+=2):(o.push(new f9(v,{})),u++)}return new Bt(o,{})}function WE(s){const r={};return mr(s,(i,o)=>{"string"==typeof i&&(i=[i]),null!==i&&(r[o]=db(new Bt([],{}),0,i))}),r}function aM(s){const r={};return mr(s,(i,o)=>r[o]=`${i}`),r}function cM(s,r,i){return s==i.path&&zo(r,i.parameters)}class qE{constructor(r,i,o,u){this.routeReuseStrategy=r,this.futureState=i,this.currState=o,this.forwardEvent=u}activate(r){const i=this.futureState._root,o=this.currState?this.currState._root:null;this.deactivateChildRoutes(i,o,r),lb(this.futureState.root),this.activateChildRoutes(i,o,r)}deactivateChildRoutes(r,i,o){const u=p9(i);r.children.forEach(f=>{const v=f.value.outlet;this.deactivateRoutes(f,u[v],o),delete u[v]}),mr(u,(f,v)=>{this.deactivateRouteAndItsChildren(f,o)})}deactivateRoutes(r,i,o){const u=r.value,f=i?i.value:null;if(u===f)if(u.component){const v=o.getContext(u.outlet);v&&this.deactivateChildRoutes(r,i,v.children)}else this.deactivateChildRoutes(r,i,o);else f&&this.deactivateRouteAndItsChildren(i,o)}deactivateRouteAndItsChildren(r,i){this.routeReuseStrategy.shouldDetach(r.value.snapshot)?this.detachAndStoreRouteSubtree(r,i):this.deactivateRouteAndOutlet(r,i)}detachAndStoreRouteSubtree(r,i){const o=i.getContext(r.value.outlet);if(o&&o.outlet){const u=o.outlet.detach(),f=o.children.onOutletDeactivated();this.routeReuseStrategy.store(r.value.snapshot,{componentRef:u,route:r,contexts:f})}}deactivateRouteAndOutlet(r,i){const o=i.getContext(r.value.outlet),u=o&&r.value.component?o.children:i,f=p9(r);for(const v of Object.keys(f))this.deactivateRouteAndItsChildren(f[v],u);o&&o.outlet&&(o.outlet.deactivate(),o.children.onOutletDeactivated(),o.attachRef=null,o.resolver=null,o.route=null)}activateChildRoutes(r,i,o){const u=p9(i);r.children.forEach(f=>{this.activateRoutes(f,u[f.value.outlet],o),this.forwardEvent(new pE(f.value.snapshot))}),r.children.length&&this.forwardEvent(new fE(r.value.snapshot))}activateRoutes(r,i,o){const u=r.value,f=i?i.value:null;if(lb(u),u===f)if(u.component){const v=o.getOrCreateContext(u.outlet);this.activateChildRoutes(r,i,v.children)}else this.activateChildRoutes(r,i,o);else if(u.component){const v=o.getOrCreateContext(u.outlet);if(this.routeReuseStrategy.shouldAttach(u.snapshot)){const x=this.routeReuseStrategy.retrieve(u.snapshot);this.routeReuseStrategy.store(u.snapshot,null),v.children.onOutletReAttached(x.contexts),v.attachRef=x.componentRef,v.route=x.route.value,v.outlet&&v.outlet.attach(x.componentRef,x.route.value),lM(x.route)}else{const x=function(s){for(let r=s.parent;r;r=r.parent){const i=r.routeConfig;if(i&&i._loadedConfig)return i._loadedConfig;if(i&&i.component)return null}return null}(u.snapshot),S=x?x.module.componentFactoryResolver:null;v.attachRef=null,v.route=u,v.resolver=S,v.outlet&&v.outlet.activateWith(u,S),this.activateChildRoutes(r,null,v.children)}}else this.activateChildRoutes(r,null,o)}}function lM(s){lb(s.value),s.children.forEach(lM)}class pb{constructor(r,i){this.routes=r,this.module=i}}function z4(s){return"function"==typeof s}function Cl(s){return s instanceof vl}const g9=Symbol("INITIAL_VALUE");function v9(){return H1(s=>function(...s){let r,i;return(0,Tp.K)(s[s.length-1])&&(i=s.pop()),"function"==typeof s[s.length-1]&&(r=s.pop()),1===s.length&&(0,qs.k)(s[0])&&(s=s[0]),(0,q.n)(s,i).lift(new Se(r))}(s.map(r=>r.pipe(e9(1),$6(g9)))).pipe(G6((r,i)=>{let o=!1;return i.reduce((u,f,v)=>u!==g9?u:(f===g9&&(o=!0),o||!1!==f&&v!==i.length-1&&!Cl(f)?u:f),r)},g9),Mr(r=>r!==g9),(0,vt.U)(r=>Cl(r)?r:!0===r),e9(1)))}let uM=(()=>{class s{}return s.\u0275fac=function(i){return new(i||s)},s.\u0275cmp=m.Xpm({type:s,selectors:[["ng-component"]],decls:1,vars:0,template:function(i,o){1&i&&m._UZ(0,"router-outlet")},directives:function(){return[xb]},encapsulation:2}),s})();function hM(s,r=""){for(let i=0;i<s.length;i++){const o=s[i];tA(o,nA(r,o))}}function tA(s,r){s.children&&hM(s.children,r)}function nA(s,r){return r?s||r.path?s&&!r.path?`${s}/`:!s&&r.path?r.path:`${s}/${r.path}`:"":s}function mb(s){const r=s.children&&s.children.map(mb),i=r?Object.assign(Object.assign({},s),{children:r}):Object.assign({},s);return!i.component&&(r||i.loadChildren)&&i.outlet&&i.outlet!==Ht&&(i.component=uM),i}function V2(s){return s.outlet||Ht}function fM(s,r){const i=s.filter(o=>V2(o)===r);return i.push(...s.filter(o=>V2(o)!==r)),i}const dM={matched:!1,consumedSegments:[],lastChild:0,parameters:{},positionalParamSegments:{}};function sy(s,r,i){var o;if(""===r.path)return"full"===r.pathMatch&&(s.hasChildren()||i.length>0)?Object.assign({},dM):{matched:!0,consumedSegments:[],lastChild:0,parameters:{},positionalParamSegments:{}};const f=(r.matcher||vE)(i,s,r);if(!f)return Object.assign({},dM);const v={};mr(f.posParams,(S,L)=>{v[L]=S.path});const x=f.consumed.length>0?Object.assign(Object.assign({},v),f.consumed[f.consumed.length-1].parameters):v;return{matched:!0,consumedSegments:f.consumed,lastChild:f.consumed.length,parameters:x,positionalParamSegments:null!==(o=f.posParams)&&void 0!==o?o:{}}}function oy(s,r,i,o,u="corrected"){if(i.length>0&&function(s,r,i){return i.some(o=>ay(s,r,o)&&V2(o)!==Ht)}(s,i,o)){const v=new Bt(r,function(s,r,i,o){const u={};u[Ht]=o,o._sourceSegment=s,o._segmentIndexShift=r.length;for(const f of i)if(""===f.path&&V2(f)!==Ht){const v=new Bt([],{});v._sourceSegment=s,v._segmentIndexShift=r.length,u[V2(f)]=v}return u}(s,r,o,new Bt(i,s.children)));return v._sourceSegment=s,v._segmentIndexShift=r.length,{segmentGroup:v,slicedSegments:[]}}if(0===i.length&&function(s,r,i){return i.some(o=>ay(s,r,o))}(s,i,o)){const v=new Bt(s.segments,function(s,r,i,o,u,f){const v={};for(const x of o)if(ay(s,i,x)&&!u[V2(x)]){const S=new Bt([],{});S._sourceSegment=s,S._segmentIndexShift="legacy"===f?s.segments.length:r.length,v[V2(x)]=S}return Object.assign(Object.assign({},u),v)}(s,r,i,o,s.children,u));return v._sourceSegment=s,v._segmentIndexShift=r.length,{segmentGroup:v,slicedSegments:i}}const f=new Bt(s.segments,s.children);return f._sourceSegment=s,f._segmentIndexShift=r.length,{segmentGroup:f,slicedSegments:i}}function ay(s,r,i){return(!(s.hasChildren()||r.length>0)||"full"!==i.pathMatch)&&""===i.path}function pM(s,r,i,o){return!!(V2(s)===o||o!==Ht&&ay(r,i,s))&&("**"===s.path||sy(r,s,i).matched)}function mM(s,r,i){return 0===r.length&&!s.children[i]}class y9{constructor(r){this.segmentGroup=r||null}}class gM{constructor(r){this.urlTree=r}}function cy(s){return new A1.y(r=>r.error(new y9(s)))}function vM(s){return new A1.y(r=>r.error(new gM(s)))}function aA(s){return new A1.y(r=>r.error(new Error(`Only absolute redirects can have named outlets. redirectTo: '${s}'`)))}class uA{constructor(r,i,o,u,f){this.configLoader=i,this.urlSerializer=o,this.urlTree=u,this.config=f,this.allowRedirects=!0,this.ngModule=r.get(m.h0i)}apply(){const r=oy(this.urlTree.root,[],[],this.config).segmentGroup,i=new Bt(r.segments,r.children);return this.expandSegmentGroup(this.ngModule,this.config,i,Ht).pipe((0,vt.U)(f=>this.createUrlTree(gb(f),this.urlTree.queryParams,this.urlTree.fragment))).pipe(ot(f=>{if(f instanceof gM)return this.allowRedirects=!1,this.match(f.urlTree);throw f instanceof y9?this.noMatchError(f):f}))}match(r){return this.expandSegmentGroup(this.ngModule,this.config,r.root,Ht).pipe((0,vt.U)(u=>this.createUrlTree(gb(u),r.queryParams,r.fragment))).pipe(ot(u=>{throw u instanceof y9?this.noMatchError(u):u}))}noMatchError(r){return new Error(`Cannot match any routes. URL Segment: '${r.segmentGroup}'`)}createUrlTree(r,i,o){const u=r.segments.length>0?new Bt([],{[Ht]:r}):r;return new vl(u,i,o)}expandSegmentGroup(r,i,o,u){return 0===o.segments.length&&o.hasChildren()?this.expandChildren(r,i,o).pipe((0,vt.U)(f=>new Bt([],f))):this.expandSegment(r,o,i,o.segments,u,!0)}expandChildren(r,i,o){const u=[];for(const f of Object.keys(o.children))"primary"===f?u.unshift(f):u.push(f);return(0,bn.D)(u).pipe(wr(f=>{const v=o.children[f],x=fM(i,f);return this.expandSegmentGroup(r,x,v,f).pipe((0,vt.U)(S=>({segment:S,outlet:f})))}),G6((f,v)=>(f[v.outlet]=v.segment,f),{}),function(s,r){const i=arguments.length>=2;return o=>o.pipe(s?Mr((u,f)=>s(u,f,o)):t9.y,Wn(1),i?y0(r):Gv(()=>new fl))}())}expandSegment(r,i,o,u,f,v){return(0,bn.D)(o).pipe(wr(x=>this.expandSegmentAgainstRoute(r,i,o,x,u,f,v).pipe(ot(L=>{if(L instanceof y9)return(0,dt.of)(null);throw L}))),To(x=>!!x),ot((x,S)=>{if(x instanceof fl||"EmptyError"===x.name){if(mM(i,u,f))return(0,dt.of)(new Bt([],{}));throw new y9(i)}throw x}))}expandSegmentAgainstRoute(r,i,o,u,f,v,x){return pM(u,i,f,v)?void 0===u.redirectTo?this.matchSegmentAgainstRoute(r,i,u,f,v):x&&this.allowRedirects?this.expandSegmentAgainstRouteUsingRedirect(r,i,o,u,f,v):cy(i):cy(i)}expandSegmentAgainstRouteUsingRedirect(r,i,o,u,f,v){return"**"===u.path?this.expandWildCardWithParamsAgainstRouteUsingRedirect(r,o,u,v):this.expandRegularSegmentAgainstRouteUsingRedirect(r,i,o,u,f,v)}expandWildCardWithParamsAgainstRouteUsingRedirect(r,i,o,u){const f=this.applyRedirectCommands([],o.redirectTo,{});return o.redirectTo.startsWith("/")?vM(f):this.lineralizeSegments(o,f).pipe((0,S1.zg)(v=>{const x=new Bt(v,{});return this.expandSegment(r,x,i,v,u,!1)}))}expandRegularSegmentAgainstRouteUsingRedirect(r,i,o,u,f,v){const{matched:x,consumedSegments:S,lastChild:L,positionalParamSegments:P}=sy(i,u,f);if(!x)return cy(i);const W=this.applyRedirectCommands(S,u.redirectTo,P);return u.redirectTo.startsWith("/")?vM(W):this.lineralizeSegments(u,W).pipe((0,S1.zg)(he=>this.expandSegment(r,i,o,he.concat(f.slice(L)),v,!1)))}matchSegmentAgainstRoute(r,i,o,u,f){if("**"===o.path)return o.loadChildren?(o._loadedConfig?(0,dt.of)(o._loadedConfig):this.configLoader.load(r.injector,o)).pipe((0,vt.U)(he=>(o._loadedConfig=he,new Bt(u,{})))):(0,dt.of)(new Bt(u,{}));const{matched:v,consumedSegments:x,lastChild:S}=sy(i,o,u);if(!v)return cy(i);const L=u.slice(S);return this.getChildConfig(r,o,u).pipe((0,S1.zg)(W=>{const he=W.module,fe=W.routes,{segmentGroup:Ee,slicedSegments:$e}=oy(i,x,L,fe),Ze=new Bt(Ee.segments,Ee.children);if(0===$e.length&&Ze.hasChildren())return this.expandChildren(he,fe,Ze).pipe((0,vt.U)(At=>new Bt(x,At)));if(0===fe.length&&0===$e.length)return(0,dt.of)(new Bt(x,{}));const Xe=V2(o)===f;return this.expandSegment(he,Ze,fe,$e,Xe?Ht:f,!0).pipe((0,vt.U)(_t=>new Bt(x.concat(_t.segments),_t.children)))}))}getChildConfig(r,i,o){return i.children?(0,dt.of)(new pb(i.children,r)):i.loadChildren?void 0!==i._loadedConfig?(0,dt.of)(i._loadedConfig):this.runCanLoadGuards(r.injector,i,o).pipe((0,S1.zg)(u=>u?this.configLoader.load(r.injector,i).pipe((0,vt.U)(f=>(i._loadedConfig=f,f))):function(s){return new A1.y(r=>r.error(rb(`Cannot load children because the guard of the route "path: '${s.path}'" returned false`)))}(i))):(0,dt.of)(new pb([],r))}runCanLoadGuards(r,i,o){const u=i.canLoad;if(!u||0===u.length)return(0,dt.of)(!0);const f=u.map(v=>{const x=r.get(v);let S;if(function(s){return s&&z4(s.canLoad)}(x))S=x.canLoad(i,o);else{if(!z4(x))throw new Error("Invalid CanLoad guard");S=x(i,o)}return Lo(S)});return(0,dt.of)(f).pipe(v9(),(0,b1.b)(v=>{if(!Cl(v))return;const x=rb(`Redirecting to "${this.urlSerializer.serialize(v)}"`);throw x.url=v,x}),(0,vt.U)(v=>!0===v))}lineralizeSegments(r,i){let o=[],u=i.root;for(;;){if(o=o.concat(u.segments),0===u.numberOfChildren)return(0,dt.of)(o);if(u.numberOfChildren>1||!u.children[Ht])return aA(r.redirectTo);u=u.children[Ht]}}applyRedirectCommands(r,i,o){return this.applyRedirectCreatreUrlTree(i,this.urlSerializer.parse(i),r,o)}applyRedirectCreatreUrlTree(r,i,o,u){const f=this.createSegmentGroup(r,i.root,o,u);return new vl(f,this.createQueryParams(i.queryParams,this.urlTree.queryParams),i.fragment)}createQueryParams(r,i){const o={};return mr(r,(u,f)=>{if("string"==typeof u&&u.startsWith(":")){const x=u.substring(1);o[f]=i[x]}else o[f]=u}),o}createSegmentGroup(r,i,o,u){const f=this.createSegments(r,i.segments,o,u);let v={};return mr(i.children,(x,S)=>{v[S]=this.createSegmentGroup(r,x,o,u)}),new Bt(f,v)}createSegments(r,i,o,u){return i.map(f=>f.path.startsWith(":")?this.findPosParam(r,f,u):this.findOrReturn(f,o))}findPosParam(r,i,o){const u=o[i.path.substring(1)];if(!u)throw new Error(`Cannot redirect to '${r}'. Cannot find '${i.path}'.`);return u}findOrReturn(r,i){let o=0;for(const u of i){if(u.path===r.path)return i.splice(o),u;o++}return r}}function gb(s){const r={};for(const o of Object.keys(s.children)){const f=gb(s.children[o]);(f.segments.length>0||f.hasChildren())&&(r[o]=f)}return function(s){if(1===s.numberOfChildren&&s.children[Ht]){const r=s.children[Ht];return new Bt(s.segments.concat(r.segments),r.children)}return s}(new Bt(s.segments,r))}class yM{constructor(r){this.path=r,this.route=this.path[this.path.length-1]}}class ly{constructor(r,i){this.component=r,this.route=i}}function dA(s,r,i){const o=s._root;return _9(o,r?r._root:null,i,[o.value])}function uy(s,r,i){const o=function(s){if(!s)return null;for(let r=s.parent;r;r=r.parent){const i=r.routeConfig;if(i&&i._loadedConfig)return i._loadedConfig}return null}(r);return(o?o.module.injector:i).get(s)}function _9(s,r,i,o,u={canDeactivateChecks:[],canActivateChecks:[]}){const f=p9(r);return s.children.forEach(v=>{(function(s,r,i,o,u={canDeactivateChecks:[],canActivateChecks:[]}){const f=s.value,v=r?r.value:null,x=i?i.getContext(s.value.outlet):null;if(v&&f.routeConfig===v.routeConfig){const S=function(s,r,i){if("function"==typeof i)return i(s,r);switch(i){case"pathParamsChange":return!yl(s.url,r.url);case"pathParamsOrQueryParamsChange":return!yl(s.url,r.url)||!zo(s.queryParams,r.queryParams);case"always":return!0;case"paramsOrQueryParamsChange":return!ub(s,r)||!zo(s.queryParams,r.queryParams);case"paramsChange":default:return!ub(s,r)}}(v,f,f.routeConfig.runGuardsAndResolvers);S?u.canActivateChecks.push(new yM(o)):(f.data=v.data,f._resolvedData=v._resolvedData),_9(s,r,f.component?x?x.children:null:i,o,u),S&&x&&x.outlet&&x.outlet.isActivated&&u.canDeactivateChecks.push(new ly(x.outlet.component,v))}else v&&C9(r,x,u),u.canActivateChecks.push(new yM(o)),_9(s,null,f.component?x?x.children:null:i,o,u)})(v,f[v.value.outlet],i,o.concat([v.value]),u),delete f[v.value.outlet]}),mr(f,(v,x)=>C9(v,i.getContext(x),u)),u}function C9(s,r,i){const o=p9(s),u=s.value;mr(o,(f,v)=>{C9(f,u.component?r?r.children.getContext(v):null:r,i)}),i.canDeactivateChecks.push(new ly(u.component&&r&&r.outlet&&r.outlet.isActivated?r.outlet.component:null,u))}class AA{}function _M(s){return new A1.y(r=>r.error(s))}class IA{constructor(r,i,o,u,f,v){this.rootComponentType=r,this.config=i,this.urlTree=o,this.url=u,this.paramsInheritanceStrategy=f,this.relativeLinkResolution=v}recognize(){const r=oy(this.urlTree.root,[],[],this.config.filter(v=>void 0===v.redirectTo),this.relativeLinkResolution).segmentGroup,i=this.processSegmentGroup(this.config,r,Ht);if(null===i)return null;const o=new ty([],Object.freeze({}),Object.freeze(Object.assign({},this.urlTree.queryParams)),this.urlTree.fragment,{},Ht,this.rootComponentType,null,this.urlTree.root,-1,{}),u=new _0(o,i),f=new tM(this.url,u);return this.inheritParamsAndData(f._root),f}inheritParamsAndData(r){const i=r.value,o=eM(i,this.paramsInheritanceStrategy);i.params=Object.freeze(o.params),i.data=Object.freeze(o.data),r.children.forEach(u=>this.inheritParamsAndData(u))}processSegmentGroup(r,i,o){return 0===i.segments.length&&i.hasChildren()?this.processChildren(r,i):this.processSegment(r,i,i.segments,o)}processChildren(r,i){const o=[];for(const f of Object.keys(i.children)){const v=i.children[f],x=fM(r,f),S=this.processSegmentGroup(x,v,f);if(null===S)return null;o.push(...S)}const u=CM(o);return function(s){s.sort((r,i)=>r.value.outlet===Ht?-1:i.value.outlet===Ht?1:r.value.outlet.localeCompare(i.value.outlet))}(u),u}processSegment(r,i,o,u){for(const f of r){const v=this.processSegmentAgainstRoute(f,i,o,u);if(null!==v)return v}return mM(i,o,u)?[]:null}processSegmentAgainstRoute(r,i,o,u){if(r.redirectTo||!pM(r,i,o,u))return null;let f,v=[],x=[];if("**"===r.path){const fe=o.length>0?Uw(o).parameters:{};f=new ty(o,fe,Object.freeze(Object.assign({},this.urlTree.queryParams)),this.urlTree.fragment,wM(r),V2(r),r.component,r,xM(i),bM(i)+o.length,MM(r))}else{const fe=sy(i,r,o);if(!fe.matched)return null;v=fe.consumedSegments,x=o.slice(fe.lastChild),f=new ty(v,fe.parameters,Object.freeze(Object.assign({},this.urlTree.queryParams)),this.urlTree.fragment,wM(r),V2(r),r.component,r,xM(i),bM(i)+v.length,MM(r))}const S=function(s){return s.children?s.children:s.loadChildren?s._loadedConfig.routes:[]}(r),{segmentGroup:L,slicedSegments:P}=oy(i,v,x,S.filter(fe=>void 0===fe.redirectTo),this.relativeLinkResolution);if(0===P.length&&L.hasChildren()){const fe=this.processChildren(S,L);return null===fe?null:[new _0(f,fe)]}if(0===S.length&&0===P.length)return[new _0(f,[])];const W=V2(r)===u,he=this.processSegment(S,L,P,W?Ht:u);return null===he?null:[new _0(f,he)]}}function NA(s){const r=s.value.routeConfig;return r&&""===r.path&&void 0===r.redirectTo}function CM(s){const r=[],i=new Set;for(const o of s){if(!NA(o)){r.push(o);continue}const u=r.find(f=>o.value.routeConfig===f.value.routeConfig);void 0!==u?(u.children.push(...o.children),i.add(u)):r.push(o)}for(const o of i){const u=CM(o.children);r.push(new _0(o.value,u))}return r.filter(o=>!i.has(o))}function xM(s){let r=s;for(;r._sourceSegment;)r=r._sourceSegment;return r}function bM(s){let r=s,i=r._segmentIndexShift?r._segmentIndexShift:0;for(;r._sourceSegment;)r=r._sourceSegment,i+=r._segmentIndexShift?r._segmentIndexShift:0;return i-1}function wM(s){return s.data||{}}function MM(s){return s.resolve||{}}function vb(s){return H1(r=>{const i=s(r);return i?(0,bn.D)(i).pipe((0,vt.U)(()=>r)):(0,dt.of)(r)})}class HA extends class{shouldDetach(r){return!1}store(r,i){}shouldAttach(r){return!1}retrieve(r){return null}shouldReuseRoute(r,i){return r.routeConfig===i.routeConfig}}{}const yb=new m.OlP("ROUTES");class EM{constructor(r,i,o,u){this.loader=r,this.compiler=i,this.onLoadStartListener=o,this.onLoadEndListener=u}load(r,i){if(i._loader$)return i._loader$;this.onLoadStartListener&&this.onLoadStartListener(i);const u=this.loadModuleFactory(i.loadChildren).pipe((0,vt.U)(f=>{this.onLoadEndListener&&this.onLoadEndListener(i);const v=f.create(r);return new pb(Fw(v.injector.get(yb,void 0,m.XFs.Self|m.XFs.Optional)).map(mb),v)}),ot(f=>{throw i._loader$=void 0,f}));return i._loader$=new Oe.c(u,()=>new Zi.xQ).pipe((0,N4.x)()),i._loader$}loadModuleFactory(r){return"string"==typeof r?(0,bn.D)(this.loader.load(r)):Lo(r()).pipe((0,S1.zg)(i=>i instanceof m.YKP?(0,dt.of)(i):(0,bn.D)(this.compiler.compileModuleAsync(i))))}}class FA{constructor(){this.outlet=null,this.route=null,this.resolver=null,this.children=new R5,this.attachRef=null}}class R5{constructor(){this.contexts=new Map}onChildOutletCreated(r,i){const o=this.getOrCreateContext(r);o.outlet=i,this.contexts.set(r,o)}onChildOutletDestroyed(r){const i=this.getContext(r);i&&(i.outlet=null)}onOutletDeactivated(){const r=this.contexts;return this.contexts=new Map,r}onOutletReAttached(r){this.contexts=r}getOrCreateContext(r){let i=this.getContext(r);return i||(i=new FA,this.contexts.set(r,i)),i}getContext(r){return this.contexts.get(r)||null}}class BA{shouldProcessUrl(r){return!0}extract(r){return r}merge(r,i){return r}}function jA(s){throw s}function $A(s,r,i){return r.parse("/")}function AM(s,r){return(0,dt.of)(null)}const GA={paths:"exact",fragment:"ignored",matrixParams:"ignored",queryParams:"exact"},WA={paths:"subset",fragment:"ignored",matrixParams:"ignored",queryParams:"subset"};let _i=(()=>{class s{constructor(i,o,u,f,v,x,S,L){this.rootComponentType=i,this.urlSerializer=o,this.rootContexts=u,this.location=f,this.config=L,this.lastSuccessfulNavigation=null,this.currentNavigation=null,this.disposed=!1,this.lastLocationChangeInfo=null,this.navigationId=0,this.currentPageId=0,this.isNgZoneEnabled=!1,this.events=new Zi.xQ,this.errorHandler=jA,this.malformedUriErrorHandler=$A,this.navigated=!1,this.lastSuccessfulId=-1,this.hooks={beforePreactivation:AM,afterPreactivation:AM},this.urlHandlingStrategy=new BA,this.routeReuseStrategy=new HA,this.onSameUrlNavigation="ignore",this.paramsInheritanceStrategy="emptyOnly",this.urlUpdateStrategy="deferred",this.relativeLinkResolution="corrected",this.canceledNavigationResolution="replace",this.ngModule=v.get(m.h0i),this.console=v.get(m.c2e);const he=v.get(m.R0b);this.isNgZoneEnabled=he instanceof m.R0b&&m.R0b.isInAngularZone(),this.resetConfig(L),this.currentUrlTree=new vl(new Bt([],{}),{},null),this.rawUrlTree=this.currentUrlTree,this.browserUrlTree=this.currentUrlTree,this.configLoader=new EM(x,S,fe=>this.triggerEvent(new Rw(fe)),fe=>this.triggerEvent(new kw(fe))),this.routerState=Xw(this.currentUrlTree,this.rootComponentType),this.transitions=new b({id:0,targetPageId:0,currentUrlTree:this.currentUrlTree,currentRawUrl:this.currentUrlTree,extractedUrl:this.urlHandlingStrategy.extract(this.currentUrlTree),urlAfterRedirects:this.urlHandlingStrategy.extract(this.currentUrlTree),rawUrl:this.currentUrlTree,extras:{},resolve:null,reject:null,promise:Promise.resolve(!0),source:"imperative",restoredState:null,currentSnapshot:this.routerState.snapshot,targetSnapshot:null,currentRouterState:this.routerState,targetRouterState:null,guards:{canActivateChecks:[],canDeactivateChecks:[]},guardsResult:null}),this.navigations=this.setupNavigations(this.transitions),this.processNavigations()}get browserPageId(){var i;return null===(i=this.location.getState())||void 0===i?void 0:i.\u0275routerPageId}setupNavigations(i){const o=this.events;return i.pipe(Mr(u=>0!==u.id),(0,vt.U)(u=>Object.assign(Object.assign({},u),{extractedUrl:this.urlHandlingStrategy.extract(u.rawUrl)})),H1(u=>{let f=!1,v=!1;return(0,dt.of)(u).pipe((0,b1.b)(x=>{this.currentNavigation={id:x.id,initialUrl:x.currentRawUrl,extractedUrl:x.extractedUrl,trigger:x.source,extras:x.extras,previousNavigation:this.lastSuccessfulNavigation?Object.assign(Object.assign({},this.lastSuccessfulNavigation),{previousNavigation:null}):null}}),H1(x=>{const S=!this.navigated||x.extractedUrl.toString()!==this.browserUrlTree.toString(),L=("reload"===this.onSameUrlNavigation||S)&&this.urlHandlingStrategy.shouldProcessUrl(x.rawUrl);if(hy(x.source)&&(this.browserUrlTree=x.rawUrl),L)return(0,dt.of)(x).pipe(H1(P=>{const W=this.transitions.getValue();return o.next(new gl(P.id,this.serializeUrl(P.extractedUrl),P.source,P.restoredState)),W!==this.transitions.getValue()?Do.E:Promise.resolve(P)}),function(s,r,i,o){return H1(u=>function(s,r,i,o,u){return new uA(s,r,i,o,u).apply()}(s,r,i,u.extractedUrl,o).pipe((0,vt.U)(f=>Object.assign(Object.assign({},u),{urlAfterRedirects:f}))))}(this.ngModule.injector,this.configLoader,this.urlSerializer,this.config),(0,b1.b)(P=>{this.currentNavigation=Object.assign(Object.assign({},this.currentNavigation),{finalUrl:P.urlAfterRedirects})}),function(s,r,i,o,u){return(0,S1.zg)(f=>function(s,r,i,o,u="emptyOnly",f="legacy"){try{const v=new IA(s,r,i,o,u,f).recognize();return null===v?_M(new AA):(0,dt.of)(v)}catch(v){return _M(v)}}(s,r,f.urlAfterRedirects,i(f.urlAfterRedirects),o,u).pipe((0,vt.U)(v=>Object.assign(Object.assign({},f),{targetSnapshot:v}))))}(this.rootComponentType,this.config,P=>this.serializeUrl(P),this.paramsInheritanceStrategy,this.relativeLinkResolution),(0,b1.b)(P=>{"eager"===this.urlUpdateStrategy&&(P.extras.skipLocationChange||this.setBrowserUrl(P.urlAfterRedirects,P),this.browserUrlTree=P.urlAfterRedirects);const W=new oE(P.id,this.serializeUrl(P.extractedUrl),this.serializeUrl(P.urlAfterRedirects),P.targetSnapshot);o.next(W)}));if(S&&this.rawUrlTree&&this.urlHandlingStrategy.shouldProcessUrl(this.rawUrlTree)){const{id:W,extractedUrl:he,source:fe,restoredState:Ee,extras:$e}=x,Ze=new gl(W,this.serializeUrl(he),fe,Ee);o.next(Ze);const Xe=Xw(he,this.rootComponentType).snapshot;return(0,dt.of)(Object.assign(Object.assign({},x),{targetSnapshot:Xe,urlAfterRedirects:he,extras:Object.assign(Object.assign({},$e),{skipLocationChange:!1,replaceUrl:!1})}))}return this.rawUrlTree=x.rawUrl,this.browserUrlTree=x.urlAfterRedirects,x.resolve(null),Do.E}),vb(x=>{const{targetSnapshot:S,id:L,extractedUrl:P,rawUrl:W,extras:{skipLocationChange:he,replaceUrl:fe}}=x;return this.hooks.beforePreactivation(S,{navigationId:L,appliedUrlTree:P,rawUrlTree:W,skipLocationChange:!!he,replaceUrl:!!fe})}),(0,b1.b)(x=>{const S=new aE(x.id,this.serializeUrl(x.extractedUrl),this.serializeUrl(x.urlAfterRedirects),x.targetSnapshot);this.triggerEvent(S)}),(0,vt.U)(x=>Object.assign(Object.assign({},x),{guards:dA(x.targetSnapshot,x.currentSnapshot,this.rootContexts)})),function(s,r){return(0,S1.zg)(i=>{const{targetSnapshot:o,currentSnapshot:u,guards:{canActivateChecks:f,canDeactivateChecks:v}}=i;return 0===v.length&&0===f.length?(0,dt.of)(Object.assign(Object.assign({},i),{guardsResult:!0})):function(s,r,i,o){return(0,bn.D)(s).pipe((0,S1.zg)(u=>function(s,r,i,o,u){const f=r&&r.routeConfig?r.routeConfig.canDeactivate:null;if(!f||0===f.length)return(0,dt.of)(!0);const v=f.map(x=>{const S=uy(x,r,u);let L;if(function(s){return s&&z4(s.canDeactivate)}(S))L=Lo(S.canDeactivate(s,r,i,o));else{if(!z4(S))throw new Error("Invalid CanDeactivate guard");L=Lo(S(s,r,i,o))}return L.pipe(To())});return(0,dt.of)(v).pipe(v9())}(u.component,u.route,i,r,o)),To(u=>!0!==u,!0))}(v,o,u,s).pipe((0,S1.zg)(x=>x&&function(s){return"boolean"==typeof s}(x)?function(s,r,i,o){return(0,bn.D)(r).pipe(wr(u=>df(function(s,r){return null!==s&&r&&r(new hE(s)),(0,dt.of)(!0)}(u.route.parent,o),function(s,r){return null!==s&&r&&r(new dE(s)),(0,dt.of)(!0)}(u.route,o),function(s,r,i){const o=r[r.length-1],f=r.slice(0,r.length-1).reverse().map(v=>function(s){const r=s.routeConfig?s.routeConfig.canActivateChild:null;return r&&0!==r.length?{node:s,guards:r}:null}(v)).filter(v=>null!==v).map(v=>Ge(()=>{const x=v.guards.map(S=>{const L=uy(S,v.node,i);let P;if(function(s){return s&&z4(s.canActivateChild)}(L))P=Lo(L.canActivateChild(o,s));else{if(!z4(L))throw new Error("Invalid CanActivateChild guard");P=Lo(L(o,s))}return P.pipe(To())});return(0,dt.of)(x).pipe(v9())}));return(0,dt.of)(f).pipe(v9())}(s,u.path,i),function(s,r,i){const o=r.routeConfig?r.routeConfig.canActivate:null;if(!o||0===o.length)return(0,dt.of)(!0);const u=o.map(f=>Ge(()=>{const v=uy(f,r,i);let x;if(function(s){return s&&z4(s.canActivate)}(v))x=Lo(v.canActivate(r,s));else{if(!z4(v))throw new Error("Invalid CanActivate guard");x=Lo(v(r,s))}return x.pipe(To())}));return(0,dt.of)(u).pipe(v9())}(s,u.route,i))),To(u=>!0!==u,!0))}(o,f,s,r):(0,dt.of)(x)),(0,vt.U)(x=>Object.assign(Object.assign({},i),{guardsResult:x})))})}(this.ngModule.injector,x=>this.triggerEvent(x)),(0,b1.b)(x=>{if(Cl(x.guardsResult)){const L=rb(`Redirecting to "${this.serializeUrl(x.guardsResult)}"`);throw L.url=x.guardsResult,L}const S=new cE(x.id,this.serializeUrl(x.extractedUrl),this.serializeUrl(x.urlAfterRedirects),x.targetSnapshot,!!x.guardsResult);this.triggerEvent(S)}),Mr(x=>!!x.guardsResult||(this.restoreHistory(x),this.cancelNavigationTransition(x,""),!1)),vb(x=>{if(x.guards.canActivateChecks.length)return(0,dt.of)(x).pipe((0,b1.b)(S=>{const L=new lE(S.id,this.serializeUrl(S.extractedUrl),this.serializeUrl(S.urlAfterRedirects),S.targetSnapshot);this.triggerEvent(L)}),H1(S=>{let L=!1;return(0,dt.of)(S).pipe(function(s,r){return(0,S1.zg)(i=>{const{targetSnapshot:o,guards:{canActivateChecks:u}}=i;if(!u.length)return(0,dt.of)(i);let f=0;return(0,bn.D)(u).pipe(wr(v=>function(s,r,i,o){return function(s,r,i,o){const u=Object.keys(s);if(0===u.length)return(0,dt.of)({});const f={};return(0,bn.D)(u).pipe((0,S1.zg)(v=>function(s,r,i,o){const u=uy(s,r,o);return Lo(u.resolve?u.resolve(r,i):u(r,i))}(s[v],r,i,o).pipe((0,b1.b)(x=>{f[v]=x}))),Wn(1),(0,S1.zg)(()=>Object.keys(f).length===u.length?(0,dt.of)(f):Do.E))}(s._resolve,s,r,o).pipe((0,vt.U)(f=>(s._resolvedData=f,s.data=Object.assign(Object.assign({},s.data),eM(s,i).resolve),null)))}(v.route,o,s,r)),(0,b1.b)(()=>f++),Wn(1),(0,S1.zg)(v=>f===u.length?(0,dt.of)(i):Do.E))})}(this.paramsInheritanceStrategy,this.ngModule.injector),(0,b1.b)({next:()=>L=!0,complete:()=>{L||(this.restoreHistory(S),this.cancelNavigationTransition(S,"At least one route resolver didn't emit any value."))}}))}),(0,b1.b)(S=>{const L=new uE(S.id,this.serializeUrl(S.extractedUrl),this.serializeUrl(S.urlAfterRedirects),S.targetSnapshot);this.triggerEvent(L)}))}),vb(x=>{const{targetSnapshot:S,id:L,extractedUrl:P,rawUrl:W,extras:{skipLocationChange:he,replaceUrl:fe}}=x;return this.hooks.afterPreactivation(S,{navigationId:L,appliedUrlTree:P,rawUrlTree:W,skipLocationChange:!!he,replaceUrl:!!fe})}),(0,vt.U)(x=>{const S=function(s,r,i){const o=ny(s,r._root,i?i._root:void 0);return new Jw(o,r)}(this.routeReuseStrategy,x.targetSnapshot,x.currentRouterState);return Object.assign(Object.assign({},x),{targetRouterState:S})}),(0,b1.b)(x=>{this.currentUrlTree=x.urlAfterRedirects,this.rawUrlTree=this.urlHandlingStrategy.merge(this.currentUrlTree,x.rawUrl),this.routerState=x.targetRouterState,"deferred"===this.urlUpdateStrategy&&(x.extras.skipLocationChange||this.setBrowserUrl(this.rawUrlTree,x),this.browserUrlTree=x.urlAfterRedirects)}),((s,r,i)=>(0,vt.U)(o=>(new qE(r,o.targetRouterState,o.currentRouterState,i).activate(s),o)))(this.rootContexts,this.routeReuseStrategy,x=>this.triggerEvent(x)),(0,b1.b)({next(){f=!0},complete(){f=!0}}),function(s){return r=>r.lift(new l9(s))}(()=>{if(!f&&!v){const x=`Navigation ID ${u.id} is not equal to the current navigation id ${this.navigationId}`;"replace"===this.canceledNavigationResolution?(this.restoreHistory(u),this.cancelNavigationTransition(u,x)):this.cancelNavigationTransition(u,x)}this.currentNavigation=null}),ot(x=>{if(v=!0,function(s){return s&&s[Pw]}(x)){const S=Cl(x.url);S||(this.navigated=!0,this.restoreHistory(u,!0));const L=new Vw(u.id,this.serializeUrl(u.extractedUrl),x.message);o.next(L),S?setTimeout(()=>{const P=this.urlHandlingStrategy.merge(x.url,this.rawUrlTree),W={skipLocationChange:u.extras.skipLocationChange,replaceUrl:"eager"===this.urlUpdateStrategy||hy(u.source)};this.scheduleNavigation(P,"imperative",null,W,{resolve:u.resolve,reject:u.reject,promise:u.promise})},0):u.resolve(!1)}else{this.restoreHistory(u,!0);const S=new sE(u.id,this.serializeUrl(u.extractedUrl),x);o.next(S);try{u.resolve(this.errorHandler(x))}catch(L){u.reject(L)}}return Do.E}))}))}resetRootComponentType(i){this.rootComponentType=i,this.routerState.root.component=this.rootComponentType}getTransition(){const i=this.transitions.value;return i.urlAfterRedirects=this.browserUrlTree,i}setTransition(i){this.transitions.next(Object.assign(Object.assign({},this.getTransition()),i))}initialNavigation(){this.setUpLocationChangeListener(),0===this.navigationId&&this.navigateByUrl(this.location.path(!0),{replaceUrl:!0})}setUpLocationChangeListener(){this.locationSubscription||(this.locationSubscription=this.location.subscribe(i=>{const o=this.extractLocationChangeInfoFromEvent(i);this.shouldScheduleNavigation(this.lastLocationChangeInfo,o)&&setTimeout(()=>{const{source:u,state:f,urlTree:v}=o,x={replaceUrl:!0};if(f){const S=Object.assign({},f);delete S.navigationId,delete S.\u0275routerPageId,0!==Object.keys(S).length&&(x.state=S)}this.scheduleNavigation(v,u,f,x)},0),this.lastLocationChangeInfo=o}))}extractLocationChangeInfoFromEvent(i){var o;return{source:"popstate"===i.type?"popstate":"hashchange",urlTree:this.parseUrl(i.url),state:(null===(o=i.state)||void 0===o?void 0:o.navigationId)?i.state:null,transitionId:this.getTransition().id}}shouldScheduleNavigation(i,o){if(!i)return!0;const u=o.urlTree.toString()===i.urlTree.toString();return o.transitionId!==i.transitionId||!u||!("hashchange"===o.source&&"popstate"===i.source||"popstate"===o.source&&"hashchange"===i.source)}get url(){return this.serializeUrl(this.currentUrlTree)}getCurrentNavigation(){return this.currentNavigation}triggerEvent(i){this.events.next(i)}resetConfig(i){hM(i),this.config=i.map(mb),this.navigated=!1,this.lastSuccessfulId=-1}ngOnDestroy(){this.dispose()}dispose(){this.transitions.complete(),this.locationSubscription&&(this.locationSubscription.unsubscribe(),this.locationSubscription=void 0),this.disposed=!0}createUrlTree(i,o={}){const{relativeTo:u,queryParams:f,fragment:v,queryParamsHandling:x,preserveFragment:S}=o,L=u||this.routerState.root,P=S?this.currentUrlTree.fragment:v;let W=null;switch(x){case"merge":W=Object.assign(Object.assign({},this.currentUrlTree.queryParams),f);break;case"preserve":W=this.currentUrlTree.queryParams;break;default:W=f||null}return null!==W&&(W=this.removeEmptyProps(W)),function(s,r,i,o,u){if(0===i.length)return hb(r.root,r.root,r,o,u);const f=function(s){if("string"==typeof s[0]&&1===s.length&&"/"===s[0])return new sM(!0,0,s);let r=0,i=!1;const o=s.reduce((u,f,v)=>{if("object"==typeof f&&null!=f){if(f.outlets){const x={};return mr(f.outlets,(S,L)=>{x[L]="string"==typeof S?S.split("/"):S}),[...u,{outlets:x}]}if(f.segmentPath)return[...u,f.segmentPath]}return"string"!=typeof f?[...u,f]:0===v?(f.split("/").forEach((x,S)=>{0==S&&"."===x||(0==S&&""===x?i=!0:".."===x?r++:""!=x&&u.push(x))}),u):[...u,f]},[]);return new sM(i,r,o)}(i);if(f.toRoot())return hb(r.root,new Bt([],{}),r,o,u);const v=function(s,r,i){if(s.isAbsolute)return new fb(r.root,!0,0);if(-1===i.snapshot._lastPathIndex){const f=i.snapshot._urlSegment;return new fb(f,f===r.root,0)}const o=ry(s.commands[0])?0:1;return function(s,r,i){let o=s,u=r,f=i;for(;f>u;){if(f-=u,o=o.parent,!o)throw new Error("Invalid number of '../'");u=o.segments.length}return new fb(o,!1,u-f)}(i.snapshot._urlSegment,i.snapshot._lastPathIndex+o,s.numberOfDoubleDots)}(f,r,s),x=v.processChildren?iy(v.segmentGroup,v.index,f.commands):oM(v.segmentGroup,v.index,f.commands);return hb(v.segmentGroup,x,r,o,u)}(L,this.currentUrlTree,i,W,null!=P?P:null)}navigateByUrl(i,o={skipLocationChange:!1}){const u=Cl(i)?i:this.parseUrl(i),f=this.urlHandlingStrategy.merge(u,this.rawUrlTree);return this.scheduleNavigation(f,"imperative",null,o)}navigate(i,o={skipLocationChange:!1}){return function(s){for(let r=0;r<s.length;r++){const i=s[r];if(null==i)throw new Error(`The requested path contains ${i} segment at index ${r}`)}}(i),this.navigateByUrl(this.createUrlTree(i,o),o)}serializeUrl(i){return this.urlSerializer.serialize(i)}parseUrl(i){let o;try{o=this.urlSerializer.parse(i)}catch(u){o=this.malformedUriErrorHandler(u,this.urlSerializer,i)}return o}isActive(i,o){let u;if(u=!0===o?Object.assign({},GA):!1===o?Object.assign({},WA):o,Cl(i))return jw(this.currentUrlTree,i,u);const f=this.parseUrl(i);return jw(this.currentUrlTree,f,u)}removeEmptyProps(i){return Object.keys(i).reduce((o,u)=>{const f=i[u];return null!=f&&(o[u]=f),o},{})}processNavigations(){this.navigations.subscribe(i=>{this.navigated=!0,this.lastSuccessfulId=i.id,this.currentPageId=i.targetPageId,this.events.next(new h9(i.id,this.serializeUrl(i.extractedUrl),this.serializeUrl(this.currentUrlTree))),this.lastSuccessfulNavigation=this.currentNavigation,i.resolve(!0)},i=>{this.console.warn("Unhandled Navigation Error: ")})}scheduleNavigation(i,o,u,f,v){var x,S;if(this.disposed)return Promise.resolve(!1);const L=this.getTransition(),P=hy(o)&&L&&!hy(L.source),fe=(this.lastSuccessfulId===L.id||this.currentNavigation?L.rawUrl:L.urlAfterRedirects).toString()===i.toString();if(P&&fe)return Promise.resolve(!0);let Ee,$e,Ze;v?(Ee=v.resolve,$e=v.reject,Ze=v.promise):Ze=new Promise((_t,At)=>{Ee=_t,$e=At});const Xe=++this.navigationId;let ht;return"computed"===this.canceledNavigationResolution?(0===this.currentPageId&&(u=this.location.getState()),ht=u&&u.\u0275routerPageId?u.\u0275routerPageId:f.replaceUrl||f.skipLocationChange?null!==(x=this.browserPageId)&&void 0!==x?x:0:(null!==(S=this.browserPageId)&&void 0!==S?S:0)+1):ht=0,this.setTransition({id:Xe,targetPageId:ht,source:o,restoredState:u,currentUrlTree:this.currentUrlTree,currentRawUrl:this.rawUrlTree,rawUrl:i,extras:f,resolve:Ee,reject:$e,promise:Ze,currentSnapshot:this.routerState.snapshot,currentRouterState:this.routerState}),Ze.catch(_t=>Promise.reject(_t))}setBrowserUrl(i,o){const u=this.urlSerializer.serialize(i),f=Object.assign(Object.assign({},o.extras.state),this.generateNgRouterState(o.id,o.targetPageId));this.location.isCurrentPathEqualTo(u)||o.extras.replaceUrl?this.location.replaceState(u,"",f):this.location.go(u,"",f)}restoreHistory(i,o=!1){var u,f;if("computed"===this.canceledNavigationResolution){const v=this.currentPageId-i.targetPageId;"popstate"!==i.source&&"eager"!==this.urlUpdateStrategy&&this.currentUrlTree!==(null===(u=this.currentNavigation)||void 0===u?void 0:u.finalUrl)||0===v?this.currentUrlTree===(null===(f=this.currentNavigation)||void 0===f?void 0:f.finalUrl)&&0===v&&(this.resetState(i),this.browserUrlTree=i.currentUrlTree,this.resetUrlToCurrentUrlTree()):this.location.historyGo(v)}else"replace"===this.canceledNavigationResolution&&(o&&this.resetState(i),this.resetUrlToCurrentUrlTree())}resetState(i){this.routerState=i.currentRouterState,this.currentUrlTree=i.currentUrlTree,this.rawUrlTree=this.urlHandlingStrategy.merge(this.currentUrlTree,i.rawUrl)}resetUrlToCurrentUrlTree(){this.location.replaceState(this.urlSerializer.serialize(this.rawUrlTree),"",this.generateNgRouterState(this.lastSuccessfulId,this.currentPageId))}cancelNavigationTransition(i,o){const u=new Vw(i.id,this.serializeUrl(i.extractedUrl),o);this.triggerEvent(u),i.resolve(!1)}generateNgRouterState(i,o){return"computed"===this.canceledNavigationResolution?{navigationId:i,\u0275routerPageId:o}:{navigationId:i}}}return s.\u0275fac=function(i){return new(i||s)(m.LFG(m.DyG),m.LFG(ib),m.LFG(R5),m.LFG(ye),m.LFG(m.zs3),m.LFG(m.v3s),m.LFG(m.Sil),m.LFG(void 0))},s.\u0275prov=m.Yz7({token:s,factory:s.\u0275fac}),s})();function hy(s){return"imperative"!==s}let xb=(()=>{class s{constructor(i,o,u,f,v){this.parentContexts=i,this.location=o,this.resolver=u,this.changeDetector=v,this.activated=null,this._activatedRoute=null,this.activateEvents=new m.vpe,this.deactivateEvents=new m.vpe,this.name=f||Ht,i.onChildOutletCreated(this.name,this)}ngOnDestroy(){this.parentContexts.onChildOutletDestroyed(this.name)}ngOnInit(){if(!this.activated){const i=this.parentContexts.getContext(this.name);i&&i.route&&(i.attachRef?this.attach(i.attachRef,i.route):this.activateWith(i.route,i.resolver||null))}}get isActivated(){return!!this.activated}get component(){if(!this.activated)throw new Error("Outlet is not activated");return this.activated.instance}get activatedRoute(){if(!this.activated)throw new Error("Outlet is not activated");return this._activatedRoute}get activatedRouteData(){return this._activatedRoute?this._activatedRoute.snapshot.data:{}}detach(){if(!this.activated)throw new Error("Outlet is not activated");this.location.detach();const i=this.activated;return this.activated=null,this._activatedRoute=null,i}attach(i,o){this.activated=i,this._activatedRoute=o,this.location.insert(i.hostView)}deactivate(){if(this.activated){const i=this.component;this.activated.destroy(),this.activated=null,this._activatedRoute=null,this.deactivateEvents.emit(i)}}activateWith(i,o){if(this.isActivated)throw new Error("Cannot activate an already activated outlet");this._activatedRoute=i;const v=(o=o||this.resolver).resolveComponentFactory(i._futureSnapshot.routeConfig.component),x=this.parentContexts.getOrCreateContext(this.name).children,S=new YA(i,x,this.location.injector);this.activated=this.location.createComponent(v,this.location.length,S),this.changeDetector.markForCheck(),this.activateEvents.emit(this.activated.instance)}}return s.\u0275fac=function(i){return new(i||s)(m.Y36(R5),m.Y36(m.s_b),m.Y36(m._Vd),m.$8M("name"),m.Y36(m.sBO))},s.\u0275dir=m.lG2({type:s,selectors:[["router-outlet"]],outputs:{activateEvents:"activate",deactivateEvents:"deactivate"},exportAs:["outlet"]}),s})();class YA{constructor(r,i,o){this.route=r,this.childContexts=i,this.parent=o}get(r,i){return r===_l?this.route:r===R5?this.childContexts:this.parent.get(r,i)}}class SM{}class IM{preload(r,i){return(0,dt.of)(null)}}let DM=(()=>{class s{constructor(i,o,u,f,v){this.router=i,this.injector=f,this.preloadingStrategy=v,this.loader=new EM(o,u,L=>i.triggerEvent(new Rw(L)),L=>i.triggerEvent(new kw(L)))}setUpPreloading(){this.subscription=this.router.events.pipe(Mr(i=>i instanceof h9),wr(()=>this.preload())).subscribe(()=>{})}preload(){const i=this.injector.get(m.h0i);return this.processRoutes(i,this.router.config)}ngOnDestroy(){this.subscription&&this.subscription.unsubscribe()}processRoutes(i,o){const u=[];for(const f of o)if(f.loadChildren&&!f.canLoad&&f._loadedConfig){const v=f._loadedConfig;u.push(this.processRoutes(v.module,v.routes))}else f.loadChildren&&!f.canLoad?u.push(this.preloadConfig(i,f)):f.children&&u.push(this.processRoutes(i,f.children));return(0,bn.D)(u).pipe((0,$8.J)(),(0,vt.U)(f=>{}))}preloadConfig(i,o){return this.preloadingStrategy.preload(o,()=>(o._loadedConfig?(0,dt.of)(o._loadedConfig):this.loader.load(i.injector,o)).pipe((0,S1.zg)(f=>(o._loadedConfig=f,this.processRoutes(f.module,f.routes)))))}}return s.\u0275fac=function(i){return new(i||s)(m.LFG(_i),m.LFG(m.v3s),m.LFG(m.Sil),m.LFG(m.zs3),m.LFG(SM))},s.\u0275prov=m.Yz7({token:s,factory:s.\u0275fac}),s})(),bb=(()=>{class s{constructor(i,o,u={}){this.router=i,this.viewportScroller=o,this.options=u,this.lastId=0,this.lastSource="imperative",this.restoredId=0,this.store={},u.scrollPositionRestoration=u.scrollPositionRestoration||"disabled",u.anchorScrolling=u.anchorScrolling||"disabled"}init(){"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.setHistoryScrollRestoration("manual"),this.routerEventsSubscription=this.createScrollEvents(),this.scrollEventsSubscription=this.consumeScrollEvents()}createScrollEvents(){return this.router.events.subscribe(i=>{i instanceof gl?(this.store[this.lastId]=this.viewportScroller.getScrollPosition(),this.lastSource=i.navigationTrigger,this.restoredId=i.restoredState?i.restoredState.navigationId:0):i instanceof h9&&(this.lastId=i.id,this.scheduleScrollEvent(i,this.router.parseUrl(i.urlAfterRedirects).fragment))})}consumeScrollEvents(){return this.router.events.subscribe(i=>{i instanceof Ow&&(i.position?"top"===this.options.scrollPositionRestoration?this.viewportScroller.scrollToPosition([0,0]):"enabled"===this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition(i.position):i.anchor&&"enabled"===this.options.anchorScrolling?this.viewportScroller.scrollToAnchor(i.anchor):"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition([0,0]))})}scheduleScrollEvent(i,o){this.router.triggerEvent(new Ow(i,"popstate"===this.lastSource?this.store[this.restoredId]:null,o))}ngOnDestroy(){this.routerEventsSubscription&&this.routerEventsSubscription.unsubscribe(),this.scrollEventsSubscription&&this.scrollEventsSubscription.unsubscribe()}}return s.\u0275fac=function(i){return new(i||s)(m.LFG(_i),m.LFG(A0),m.LFG(void 0))},s.\u0275prov=m.Yz7({token:s,factory:s.\u0275fac}),s})();const xl=new m.OlP("ROUTER_CONFIGURATION"),TM=new m.OlP("ROUTER_FORROOT_GUARD"),XA=[ye,{provide:ib,useClass:Zw},{provide:_i,useFactory:function(s,r,i,o,u,f,v,x={},S,L){const P=new _i(null,s,r,i,o,u,f,Fw(v));return S&&(P.urlHandlingStrategy=S),L&&(P.routeReuseStrategy=L),function(s,r){s.errorHandler&&(r.errorHandler=s.errorHandler),s.malformedUriErrorHandler&&(r.malformedUriErrorHandler=s.malformedUriErrorHandler),s.onSameUrlNavigation&&(r.onSameUrlNavigation=s.onSameUrlNavigation),s.paramsInheritanceStrategy&&(r.paramsInheritanceStrategy=s.paramsInheritanceStrategy),s.relativeLinkResolution&&(r.relativeLinkResolution=s.relativeLinkResolution),s.urlUpdateStrategy&&(r.urlUpdateStrategy=s.urlUpdateStrategy)}(x,P),x.enableTracing&&P.events.subscribe(W=>{var he,fe;null===(he=console.group)||void 0===he||he.call(console,`Router Event: ${W.constructor.name}`),console.log(W.toString()),console.log(W),null===(fe=console.groupEnd)||void 0===fe||fe.call(console)}),P},deps:[ib,R5,ye,m.zs3,m.v3s,m.Sil,yb,xl,[class{},new m.FiY],[class{},new m.FiY]]},R5,{provide:_l,useFactory:function(s){return s.routerState.root},deps:[_i]},{provide:m.v3s,useClass:m.EAV},DM,IM,class{preload(r,i){return i().pipe(ot(()=>(0,dt.of)(null)))}},{provide:xl,useValue:{enableTracing:!1}}];function eS(){return new m.PXZ("Router",_i)}let NM=(()=>{class s{constructor(i,o){}static forRoot(i,o){return{ngModule:s,providers:[XA,zM(i),{provide:TM,useFactory:rS,deps:[[_i,new m.FiY,new m.tp0]]},{provide:xl,useValue:o||{}},{provide:Q,useFactory:nS,deps:[H,[new m.tBr(Z),new m.FiY],xl]},{provide:bb,useFactory:tS,deps:[_i,A0,xl]},{provide:SM,useExisting:o&&o.preloadingStrategy?o.preloadingStrategy:IM},{provide:m.PXZ,multi:!0,useFactory:eS},[wb,{provide:m.ip1,multi:!0,useFactory:aS,deps:[wb]},{provide:LM,useFactory:cS,deps:[wb]},{provide:m.tb,multi:!0,useExisting:LM}]]}}static forChild(i){return{ngModule:s,providers:[zM(i)]}}}return s.\u0275fac=function(i){return new(i||s)(m.LFG(TM,8),m.LFG(_i,8))},s.\u0275mod=m.oAB({type:s}),s.\u0275inj=m.cJS({}),s})();function tS(s,r,i){return i.scrollOffset&&r.setOffset(i.scrollOffset),new bb(s,r,i)}function nS(s,r,i={}){return i.useHash?new ce(s,r):new ae(s,r)}function rS(s){return"guarded"}function zM(s){return[{provide:m.deG,multi:!0,useValue:s},{provide:yb,multi:!0,useValue:s}]}let wb=(()=>{class s{constructor(i){this.injector=i,this.initNavigation=!1,this.destroyed=!1,this.resultOfPreactivationDone=new Zi.xQ}appInitializer(){return this.injector.get(V,Promise.resolve(null)).then(()=>{if(this.destroyed)return Promise.resolve(!0);let o=null;const u=new Promise(x=>o=x),f=this.injector.get(_i),v=this.injector.get(xl);return"disabled"===v.initialNavigation?(f.setUpLocationChangeListener(),o(!0)):"enabled"===v.initialNavigation||"enabledBlocking"===v.initialNavigation?(f.hooks.afterPreactivation=()=>this.initNavigation?(0,dt.of)(null):(this.initNavigation=!0,o(!0),this.resultOfPreactivationDone),f.initialNavigation()):o(!0),u})}bootstrapListener(i){const o=this.injector.get(xl),u=this.injector.get(DM),f=this.injector.get(bb),v=this.injector.get(_i),x=this.injector.get(m.z2F);i===x.components[0]&&(("enabledNonBlocking"===o.initialNavigation||void 0===o.initialNavigation)&&v.initialNavigation(),u.setUpPreloading(),f.init(),v.resetRootComponentType(x.componentTypes[0]),this.resultOfPreactivationDone.next(null),this.resultOfPreactivationDone.complete())}ngOnDestroy(){this.destroyed=!0}}return s.\u0275fac=function(i){return new(i||s)(m.LFG(m.zs3))},s.\u0275prov=m.Yz7({token:s,factory:s.\u0275fac}),s})();function aS(s){return s.appInitializer.bind(s)}function cS(s){return s.bootstrapListener.bind(s)}const LM=new m.OlP("Router Initializer");var VM={prefix:"fas",iconName:"angle-right",icon:[256,512,[],"f105","M224.3 273l-136 136c-9.4 9.4-24.6 9.4-33.9 0l-22.6-22.6c-9.4-9.4-9.4-24.6 0-33.9l96.4-96.4-96.4-96.4c-9.4-9.4-9.4-24.6 0-33.9L54.3 103c9.4-9.4 24.6-9.4 33.9 0l136 136c9.5 9.4 9.5 24.6.1 34z"]},Mb={prefix:"fas",iconName:"at",icon:[512,512,[],"f1fa","M256 8C118.941 8 8 118.919 8 256c0 137.059 110.919 248 248 248 48.154 0 95.342-14.14 135.408-40.223 12.005-7.815 14.625-24.288 5.552-35.372l-10.177-12.433c-7.671-9.371-21.179-11.667-31.373-5.129C325.92 429.757 291.314 440 256 440c-101.458 0-184-82.542-184-184S154.542 72 256 72c100.139 0 184 57.619 184 160 0 38.786-21.093 79.742-58.17 83.693-17.349-.454-16.91-12.857-13.476-30.024l23.433-121.11C394.653 149.75 383.308 136 368.225 136h-44.981a13.518 13.518 0 0 0-13.432 11.993l-.01.092c-14.697-17.901-40.448-21.775-59.971-21.775-74.58 0-137.831 62.234-137.831 151.46 0 65.303 36.785 105.87 96 105.87 26.984 0 57.369-15.637 74.991-38.333 9.522 34.104 40.613 34.103 70.71 34.103C462.609 379.41 504 307.798 504 232 504 95.653 394.023 8 256 8zm-21.68 304.43c-22.249 0-36.07-15.623-36.07-40.771 0-44.993 30.779-72.729 58.63-72.729 22.292 0 35.601 15.241 35.601 40.77 0 45.061-33.875 72.73-58.161 72.73z"]},RM={prefix:"fas",iconName:"check",icon:[512,512,[],"f00c","M173.898 439.404l-166.4-166.4c-9.997-9.997-9.997-26.206 0-36.204l36.203-36.204c9.997-9.998 26.207-9.998 36.204 0L192 312.69 432.095 72.596c9.997-9.997 26.207-9.997 36.204 0l36.203 36.204c9.997 9.997 9.997 26.206 0 36.204l-294.4 294.401c-9.998 9.997-26.207 9.997-36.204-.001z"]},kM={prefix:"fas",iconName:"code",icon:[640,512,[],"f121","M278.9 511.5l-61-17.7c-6.4-1.8-10-8.5-8.2-14.9L346.2 8.7c1.8-6.4 8.5-10 14.9-8.2l61 17.7c6.4 1.8 10 8.5 8.2 14.9L293.8 503.3c-1.9 6.4-8.5 10.1-14.9 8.2zm-114-112.2l43.5-46.4c4.6-4.9 4.3-12.7-.8-17.2L117 256l90.6-79.7c5.1-4.5 5.5-12.3.8-17.2l-43.5-46.4c-4.5-4.8-12.1-5.1-17-.5L3.8 247.2c-5.1 4.7-5.1 12.8 0 17.5l144.1 135.1c4.9 4.6 12.5 4.4 17-.5zm327.2.6l144.1-135.1c5.1-4.7 5.1-12.8 0-17.5L492.1 112.1c-4.8-4.5-12.4-4.3-17 .5L431.6 159c-4.6 4.9-4.3 12.7.8 17.2L523 256l-90.6 79.7c-5.1 4.5-5.5 12.3-.8 17.2l43.5 46.4c4.5 4.9 12.1 5.1 17 .6z"]},Eb={prefix:"fas",iconName:"exclamation",icon:[192,512,[],"f12a","M176 432c0 44.112-35.888 80-80 80s-80-35.888-80-80 35.888-80 80-80 80 35.888 80 80zM25.26 25.199l13.6 272C39.499 309.972 50.041 320 62.83 320h66.34c12.789 0 23.331-10.028 23.97-22.801l13.6-272C167.425 11.49 156.496 0 142.77 0H49.23C35.504 0 24.575 11.49 25.26 25.199z"]},OM={prefix:"fas",iconName:"hourglass-end",icon:[384,512,[],"f253","M360 64c13.255 0 24-10.745 24-24V24c0-13.255-10.745-24-24-24H24C10.745 0 0 10.745 0 24v16c0 13.255 10.745 24 24 24 0 90.965 51.016 167.734 120.842 192C75.016 280.266 24 357.035 24 448c-13.255 0-24 10.745-24 24v16c0 13.255 10.745 24 24 24h336c13.255 0 24-10.745 24-24v-16c0-13.255-10.745-24-24-24 0-90.965-51.016-167.734-120.842-192C308.984 231.734 360 154.965 360 64zM192 208c-57.787 0-104-66.518-104-144h208c0 77.945-46.51 144-104 144z"]},PM={prefix:"fas",iconName:"hourglass-half",icon:[384,512,[],"f252","M360 0H24C10.745 0 0 10.745 0 24v16c0 13.255 10.745 24 24 24 0 90.965 51.016 167.734 120.842 192C75.016 280.266 24 357.035 24 448c-13.255 0-24 10.745-24 24v16c0 13.255 10.745 24 24 24h336c13.255 0 24-10.745 24-24v-16c0-13.255-10.745-24-24-24 0-90.965-51.016-167.734-120.842-192C308.984 231.734 360 154.965 360 64c13.255 0 24-10.745 24-24V24c0-13.255-10.745-24-24-24zm-75.078 384H99.08c17.059-46.797 52.096-80 92.92-80 40.821 0 75.862 33.196 92.922 80zm.019-256H99.078C91.988 108.548 88 86.748 88 64h208c0 22.805-3.987 44.587-11.059 64z"]},HM={prefix:"fas",iconName:"hourglass-start",icon:[384,512,[],"f251","M360 0H24C10.745 0 0 10.745 0 24v16c0 13.255 10.745 24 24 24 0 90.965 51.016 167.734 120.842 192C75.016 280.266 24 357.035 24 448c-13.255 0-24 10.745-24 24v16c0 13.255 10.745 24 24 24h336c13.255 0 24-10.745 24-24v-16c0-13.255-10.745-24-24-24 0-90.965-51.016-167.734-120.842-192C308.984 231.734 360 154.965 360 64c13.255 0 24-10.745 24-24V24c0-13.255-10.745-24-24-24zm-64 448H88c0-77.458 46.204-144 104-144 57.786 0 104 66.517 104 144z"]},FM={prefix:"fas",iconName:"key",icon:[512,512,[],"f084","M512 176.001C512 273.203 433.202 352 336 352c-11.22 0-22.19-1.062-32.827-3.069l-24.012 27.014A23.999 23.999 0 0 1 261.223 384H224v40c0 13.255-10.745 24-24 24h-40v40c0 13.255-10.745 24-24 24H24c-13.255 0-24-10.745-24-24v-78.059c0-6.365 2.529-12.47 7.029-16.971l161.802-161.802C163.108 213.814 160 195.271 160 176 160 78.798 238.797.001 335.999 0 433.488-.001 512 78.511 512 176.001zM336 128c0 26.51 21.49 48 48 48s48-21.49 48-48-21.49-48-48-48-48 21.49-48 48z"]},UM={prefix:"fas",iconName:"paper-plane",icon:[512,512,[],"f1d8","M476 3.2L12.5 270.6c-18.1 10.4-15.8 35.6 2.2 43.2L121 358.4l287.3-253.2c5.5-4.9 13.3 2.6 8.6 8.3L176 407v80.5c0 23.6 28.5 32.9 42.5 15.8L282 426l124.6 52.2c14.2 6 30.4-2.9 33-18.2l72-432C515 7.8 493.3-6.8 476 3.2z"]},BM={prefix:"fas",iconName:"play",icon:[448,512,[],"f04b","M424.4 214.7L72.4 6.6C43.8-10.3 0 6.1 0 47.9V464c0 37.5 40.7 60.1 72.4 41.3l352-208c31.4-18.5 31.5-64.1 0-82.6z"]},jM={prefix:"fas",iconName:"sign-out-alt",icon:[512,512,[],"f2f5","M497 273L329 441c-15 15-41 4.5-41-17v-96H152c-13.3 0-24-10.7-24-24v-96c0-13.3 10.7-24 24-24h136V88c0-21.4 25.9-32 41-17l168 168c9.3 9.4 9.3 24.6 0 34zM192 436v-40c0-6.6-5.4-12-12-12H96c-17.7 0-32-14.3-32-32V160c0-17.7 14.3-32 32-32h84c6.6 0 12-5.4 12-12V76c0-6.6-5.4-12-12-12H96c-53 0-96 43-96 96v192c0 53 43 96 96 96h84c6.6 0 12-5.4 12-12z"]},$M={prefix:"fas",iconName:"trash",icon:[448,512,[],"f1f8","M432 32H312l-9.4-18.7A24 24 0 0 0 281.1 0H166.8a23.72 23.72 0 0 0-21.4 13.3L136 32H16A16 16 0 0 0 0 48v32a16 16 0 0 0 16 16h416a16 16 0 0 0 16-16V48a16 16 0 0 0-16-16zM53.2 467a48 48 0 0 0 47.9 45h245.8a48 48 0 0 0 47.9-45L416 128H32z"]},Ab={prefix:"fas",iconName:"user",icon:[448,512,[],"f007","M224 256c70.7 0 128-57.3 128-128S294.7 0 224 0 96 57.3 96 128s57.3 128 128 128zm89.6 32h-16.7c-22.2 10.2-46.9 16-72.9 16s-50.6-5.8-72.9-16h-16.7C60.2 288 0 348.2 0 422.4V464c0 26.5 21.5 48 48 48h352c26.5 0 48-21.5 48-48v-41.6c0-74.2-60.2-134.4-134.4-134.4z"]},GM={prefix:"fas",iconName:"vial",icon:[480,512,[],"f492","M477.7 186.1L309.5 18.3c-3.1-3.1-8.2-3.1-11.3 0l-34 33.9c-3.1 3.1-3.1 8.2 0 11.3l11.2 11.1L33 316.5c-38.8 38.7-45.1 102-9.4 143.5 20.6 24 49.5 36 78.4 35.9 26.4 0 52.8-10 72.9-30.1l246.3-245.7 11.2 11.1c3.1 3.1 8.2 3.1 11.3 0l34-33.9c3.1-3 3.1-8.1 0-11.2zM318 256H161l148-147.7 78.5 78.3L318 256z"]};let fy=(()=>{class s{constructor(){}showMessage(i,o=30,u=""){M.toast({html:i,classes:u,displayLength:1e3*o})}showErrorMessage(i){this.showMessage(i,60,"red darken-1")}showSuccessMessage(i){this.showMessage(i,30,"green darken-1")}}return s.\u0275fac=function(i){return new(i||s)},s.\u0275prov=m.Yz7({token:s,factory:s.\u0275fac,providedIn:"root"}),s})(),x9=(()=>{class s{constructor(i,o){this.authFirebase=i,this.toastService=o,this.srcURL="",this.nextURL="",this.showModal=new m.vpe,this.cancelModal=new m.vpe,this.changeAuthStatus=new m.vpe,this.sendMessages=new m.vpe,this.skey="5nb9e9uoF/pzeZmP"}redirectLogIn(i){this.srcURL=this.nextURL,this.nextURL=i}showLogInModal(i=!1){this.isSignIn()||this.showModal.emit(i)}isSignIn(){return!!this.userData}logout(i=!1){this.authFirebase.signOut().then(()=>{this.clearUserData(),this.changeAuthStatus.emit(this.isSignIn()),this.sendMessage(i,"sucess","Sign-out Sucessfully!")}).catch(o=>{this.sendMessage(i,"error",o.toString())})}authenticateUser(i,o,u=!1){i&&o&&(this.clearUserData(),this.authFirebase.signInWithEmailAndPassword(i,o).then(f=>{var v,x,S;this.userData={email:i,name:(null===(v=f.user)||void 0===v?void 0:v.displayName)?f.user.displayName:"",photoURL:(null===(x=f.user)||void 0===x?void 0:x.photoURL)?f.user.photoURL:"",token:(null===(S=f.user)||void 0===S?void 0:S.refreshToken)?f.user.refreshToken:""},this.changeAuthStatus.emit(this.isSignIn()),this.sendMessage(u,"sucess","Sign-in Sucessfully!")}).catch(f=>{this.sendMessage(u,"error",f.toString())}))}getUserData(){return Object.assign({},this.userData)}timeStamp2Date(i){return new Date(1e3*i)}buildUniqueName(i){let o=i.split("@");if(2!=o.length)throw new Error("Invalid e-mail");let u=o[0].length+o[1].length;return o[1]=o[1].replace(/[\._-]/g,""),o[0]=o[0].replace(/[\._-]/g,""),o[0]+u.toString()+o[1]}date2TimeStamp(i){return Math.round(i.getTime()/1e3)}getAuthSessionToken(){return this.skey?this.skey:""}clearUserData(){this.userData=void 0}sendMessage(i,o,u){i?this.sendMessages.emit({type:o,message:u}):"error"==o?this.toastService.showErrorMessage(u):"sucess"==o?this.toastService.showSuccessMessage(u):this.toastService.showMessage(u)}}return s.\u0275fac=function(i){return new(i||s)(m.LFG(s9),m.LFG(fy))},s.\u0275prov=m.Yz7({token:s,factory:s.\u0275fac,providedIn:"root"}),s})(),WM=(()=>{class s{constructor(){this.extraMenus=[],this.changeMenu=new m.vpe}addMenu(i){this.extraMenus.find(o=>o.id===i.id)||(this.extraMenus.push(i),this.changeMenu.emit(this.extraMenus))}deleteMenu(i){this.extraMenus.find(o=>o.id===i)||(this.extraMenus=this.extraMenus.filter(o=>o.id!=i),this.changeMenu.emit(this.extraMenus))}}return s.\u0275fac=function(i){return new(i||s)},s.\u0275prov=m.Yz7({token:s,factory:s.\u0275fac,providedIn:"root"}),s})();function EG(s,r){if(1&s){const i=m.EpF();m.TgZ(0,"button",15),m.NdJ("click",function(){return m.CHM(i),m.oxw().startSandbox()}),m._UZ(1,"fa-icon",16),m.qZA()}if(2&s){const i=m.oxw();m.xp6(1),m.Q6J("icon",i.faPlay)}}const AG=function(s){return{"":s}};function SG(s,r){if(1&s&&(m.TgZ(0,"span",17),m._uU(1),m._UZ(2,"fa-icon",18),m.qZA()),2&s){const i=m.oxw();m.Q6J("ngClass",m.VKq(5,AG,i.onOutOfTime)),m.xp6(1),m.AsE("Left: ",i.time," ",i.timeUnit," "),m.xp6(1),m.Q6J("icon",i.timeIcon)("pulse",i.onTest)}}function IG(s,r){if(1&s&&(m.TgZ(0,"span"),m._uU(1),m.ALo(2,"time"),m.qZA()),2&s){const i=m.oxw();m.xp6(1),m.hij("Elapsed Time: ",m.xi3(2,1,i.time,"hh:MM:ss"),"")}}function DG(s,r){if(1&s){const i=m.EpF();m.TgZ(0,"button",19),m.NdJ("click",function(){return m.CHM(i),m.oxw().startTest()}),m._UZ(1,"fa-icon",18),m.qZA()}if(2&s){const i=m.oxw();m.xp6(1),m.Q6J("icon",i.faVial)("pulse",i.onRunTesting)}}function TG(s,r){if(1&s){const i=m.EpF();m.TgZ(0,"button",20),m.NdJ("click",function(){return m.CHM(i),m.oxw().openSendModal()}),m._UZ(1,"fa-icon",16),m.qZA()}if(2&s){const i=m.oxw();m.xp6(1),m.Q6J("icon",i.faPaperPlane)}}function NG(s,r){if(1&s&&m._UZ(0,"div",21),2&s){const i=m.oxw();m.Q6J("innerHTML",i.sanitizer.bypassSecurityTrustHtml(i.outputText),m.oJD)}}function zG(s,r){if(1&s){const i=m.EpF();m.TgZ(0,"div"),m.TgZ(1,"button",22),m.NdJ("click",function(){return m.CHM(i),m.oxw().clearOutput()}),m._UZ(2,"fa-icon",16),m.qZA(),m.qZA()}if(2&s){const i=m.oxw();m.xp6(1),m.Q6J("disabled",i.onRunTesting),m.xp6(1),m.Q6J("icon",i.faTrash)}}function LG(s,r){if(1&s){const i=m.EpF();m.TgZ(0,"app-code-selection-modal",23),m.NdJ("selectedCode",function(u){return m.CHM(i),m.oxw().selectData(u)})("showModalChange",function(u){return m.CHM(i),m.oxw().onSelectionCode=u}),m.qZA()}if(2&s){const i=m.oxw();m.Q6J("showModal",i.onSelectionCode)}}const VG=function(s){return{theme:"vs-ligth",language:"javascript",readOnly:s}};let ZM=(()=>{class s{constructor(i,o,u,f,v,x){this.sanitizer=i,this.http=o,this.authService=u,this.toastService=f,this.route=v,this.menuMgr=x,this.basicCode="",this.basicFunction="",this.problemName="",this.summary="",this.testFunctions=[],this.jsonFile="childrenString.json",this.faPlay=BM,this.faVial=GM,this.faPaperPlane=UM,this.faTrash=$M,this.timeIcon=HM,this.time=30,this.timeUnit="minutes",this.outputText="",this.codeCreated="",this.atLeastTestedOneTime=!1,this.startedDate=new Date,this.onRunTesting=!1,this.onOutOfTime=!1,this.onTest=!1,this.onLoading=!1,this.onSending=!1,this.onOpenMode=!1,this.onSelectionCode=!1,this.getUserInfo=!1,this.userLoged=!1,this.alreadyJSONLoaded=!1,this.currentInterval=0,this.subscriptions=new pr.w,this.subscribeLogin=new pr.w}ngOnDestroy(){this.subscriptions.unsubscribe(),this.menuMgr.deleteMenu("loadCode")}ngOnChanges(i){i.loadJSONFile&&(this.alreadyJSONLoaded=!1,this.loadJSONFile()),i.basicCode&&(this.codeCreated=this.basicCode)}ngOnInit(){this.alreadyJSONLoaded||this.loadJSONFile(),this.subscriptions.add(this.route.paramMap.subscribe(i=>{"load"==i.get("opt")?(this.userLoged=this.authService.isSignIn(),this.userLoged?(this.onSelectionCode=!0,this.userLoged=!0):(this.authService.showLogInModal(!0),this.subscribeLogin=this.authService.changeAuthStatus.subscribe(o=>{this.userLoged=o,o&&(this.onSelectionCode=!0,this.subscribeLogin.unsubscribe())}))):(this.onOpenMode=!1,this.userLoged=!1)})),this.subscriptions.add(this.authService.cancelModal.subscribe(()=>{this.reset()})),this.menuMgr.addMenu({id:"loadCode",title:"Load another code",clickFn:()=>{this.onSelectionCode=!0},icon:kM})}startSandbox(){this.atLeastTestedOneTime=!1,this.onTest=!0,this.onOutOfTime=!1,this.startedDate=new Date,this.timeIcon=PM,this.startMinuteTimer()}startMinuteTimer(){this.time=30,this.timeUnit="minutes",this.currentInterval=window.setInterval(()=>{let i=((new Date).getTime()-this.startedDate.getTime())/6e4;this.time=30-Math.floor(i),this.time<=1&&(clearInterval(this.currentInterval),this.startSecondsTimer())},6e4)}startSecondsTimer(){this.time=60,this.timeUnit="seconds",this.currentInterval=window.setInterval(()=>{let i=((new Date).getTime()-this.startedDate.getTime())/1e3;this.time=1800-Math.floor(i),this.time<1&&(this.time=0,this.onOutOfTime=!0,this.timeIcon=OM,clearInterval(this.currentInterval))},1e3)}startTest(){this.codeCreated.includes(this.basicFunction)?(this.createScript(),this.onRunTesting=!0,this.atLeastTestedOneTime=!0,this.outputText="Starting Tests... <br>",this.runTest(0)):this.toastService.showErrorMessage("Error: There is no commonString function.")}createScript(){this.scriptEle=document.createElement("script"),this.scriptEle.type="text/javascript",this.scriptEle.text=this.codeCreated,document.body.appendChild(this.scriptEle)}deleteScript(){this.scriptEle&&document.body.removeChild(this.scriptEle)}runTest(i){i<this.testFunctions.length?setTimeout(()=>{let o=!1;try{o=this.testFunctions[i]()}catch(u){console.error("Test "+i.toString()+" error:"+u),o=!1}this.outputText+="Test "+i.toString()+"..."+(o?'<span class="green-text text-darken-3">OK</span><br>':'<span class="red-text text-darken-4">Fail</span><br>'),this.runTest(i+1)},100):(this.onRunTesting=!1,this.deleteScript())}openSendModal(){this.getUserInfo=!0}onSended(){this.getUserInfo=!1,this.reset()}selectData(i){this.codeCreated=i.code,this.onSelectionCode=!1,this.time=1e3*i.secondsElapsed,this.onOpenMode=!0}reset(){this.onRunTesting=!1,this.onOutOfTime=!1,this.onTest=!1,this.onLoading=!1,this.onSending=!1,this.onOpenMode=!1,this.onSelectionCode=!1,this.time=30,this.codeCreated=this.basicCode}clearOutput(){this.outputText=""}editorKeyDown(i){const{keyCode:o,ctrlKey:u,metaKey:f}=i;(33===o||52===o)&&(f||u)&&i.preventDefault()}setKeyDown(i){i.onKeyDown(o=>this.editorKeyDown(o))}loadJSONFile(i="/assets/json/"){this.http.get(i+this.jsonFile).subscribe(o=>{this.basicCode=o.basicCode,this.summary=o.summary,this.basicFunction=o.basicFunction,this.testFunctions=[],o.testFunctions.forEach(u=>{this.testFunctions.push(new Function(u))}),this.alreadyJSONLoaded=!0,this.codeCreated=this.basicCode,this.problemName=o.name},o=>{this.toastService.showErrorMessage("Error: "+o.message)})}}return s.\u0275fac=function(i){return new(i||s)(m.Y36(j2),m.Y36(th),m.Y36(x9),m.Y36(fy),m.Y36(_l),m.Y36(WM))},s.\u0275cmp=m.Xpm({type:s,selectors:[["app-sandbox"]],inputs:{basicCode:"basicCode",basicFunction:"basicFunction",problemName:"problemName",summary:"summary",testFunctions:"testFunctions",jsonFile:"jsonFile"},features:[m.TTD],decls:16,vars:17,consts:[[1,"row"],[1,"col","s12","m4","l3"],[1,"info",3,"innerHTML"],[1,"buttonContainer"],[1,"buttons"],["class","waves-effect waves-teal btn-flat purple-text text-darken-4","title","Start",3,"click",4,"ngIf"],[3,"ngClass",4,"ngIf"],[4,"ngIf"],["class","waves-effect waves-teal btn-flat purple-text text-darken-4","title","Test",3,"click",4,"ngIf"],["class","waves-effect waves-teal btn-flat purple-text text-darken-4","title","Send",3,"click",4,"ngIf"],["class","output",3,"innerHTML",4,"ngIf"],[1,"col","s12","m8","l9"],[1,"editor",3,"ngModel","options","ngModelChange","onInit"],[3,"showModal","codeCreated","problemName","startedDate","showModalChange","dataSending"],[3,"showModal","selectedCode","showModalChange",4,"ngIf"],["title","Start",1,"waves-effect","waves-teal","btn-flat","purple-text","text-darken-4",3,"click"],[3,"icon"],[3,"ngClass"],[3,"icon","pulse"],["title","Test",1,"waves-effect","waves-teal","btn-flat","purple-text","text-darken-4",3,"click"],["title","Send",1,"waves-effect","waves-teal","btn-flat","purple-text","text-darken-4",3,"click"],[1,"output",3,"innerHTML"],["title","Clear Output",1,"waves-effect","waves-teal","btn-flat","purple-text","text-darken-4",3,"disabled","click"],[3,"showModal","selectedCode","showModalChange"]],template:function(i,o){1&i&&(m.TgZ(0,"div",0),m.TgZ(1,"div",1),m._UZ(2,"div",2),m.TgZ(3,"div",3),m.TgZ(4,"div",4),m.YNc(5,EG,2,1,"button",5),m.YNc(6,SG,3,7,"span",6),m.YNc(7,IG,3,4,"span",7),m.YNc(8,DG,2,2,"button",8),m.YNc(9,TG,2,1,"button",9),m.qZA(),m.qZA(),m.YNc(10,NG,1,1,"div",10),m.YNc(11,zG,3,2,"div",7),m.qZA(),m.TgZ(12,"div",11),m.TgZ(13,"ngx-monaco-editor",12),m.NdJ("ngModelChange",function(f){return o.codeCreated=f})("onInit",function(f){return o.setKeyDown(f)}),m.qZA(),m.qZA(),m.qZA(),m.TgZ(14,"app-send-code-modal",13),m.NdJ("showModalChange",function(f){return o.getUserInfo=f})("dataSending",function(){return o.onSended()}),m.qZA(),m.YNc(15,LG,1,1,"app-code-selection-modal",14)),2&i&&(m.xp6(2),m.Q6J("innerHTML",o.sanitizer.bypassSecurityTrustHtml(o.summary),m.oJD),m.xp6(3),m.Q6J("ngIf",!o.onTest&&!o.onOpenMode),m.xp6(1),m.Q6J("ngIf",!o.onOpenMode),m.xp6(1),m.Q6J("ngIf",o.onOpenMode),m.xp6(1),m.Q6J("ngIf",o.onTest||o.onOpenMode),m.xp6(1),m.Q6J("ngIf",(o.onTest||o.onRunTesting)&&!o.onOpenMode),m.xp6(1),m.Q6J("ngIf",o.outputText),m.xp6(1),m.Q6J("ngIf",o.outputText),m.xp6(2),m.Q6J("ngModel",o.codeCreated)("options",m.VKq(15,VG,!o.onTest||o.onRunTesting)),m.xp6(1),m.Q6J("showModal",o.getUserInfo)("codeCreated",o.codeCreated)("problemName",o.problemName)("startedDate",o.startedDate),m.xp6(1),m.Q6J("ngIf",o.userLoged))},styles:[".info[_ngcontent-%COMP%]{max-height:30vh;overflow-y:auto}.buttons[_ngcontent-%COMP%]{height:36px;overflow:auto}.output[_ngcontent-%COMP%]{height:100px;overflow-y:auto}.editor[_ngcontent-%COMP%]{height:100vh}@media only screen and (min-width: 601px){.info[_ngcontent-%COMP%]{max-height:60vh}.output[_ngcontent-%COMP%]{height:calc(40vh - 72px)}}"]}),s})();const RG=[{path:"sandbox/:opt",component:ZM},{path:"**",redirectTo:"/sandbox/",pathMatch:"full"}];let kG=(()=>{class s{}return s.\u0275fac=function(i){return new(i||s)},s.\u0275mod=m.oAB({type:s}),s.\u0275inj=m.cJS({imports:[[NM.forRoot(RG)],NM]}),s})();const OG=["FAB"],PG=["*"];let HG=(()=>{class s{constructor(){this.options={},this.position={},this.fabStyle=""}ngOnChanges(i){i.options&&this.options&&this.initFAB(),i.position&&this.position&&(this.fabStyle=this.generateStyle())}ngOnDestroy(){this.destroyFAB()}ngAfterViewInit(){this.initFAB()}generateStyle(){let i="";return i+=this.position.bottom?"bottom:"+this.position.bottom+"; ":"",i+=this.position.top?"top:"+this.position.top+"; ":"",i+=this.position.left?"left:"+this.position.left+"; ":"",i+=this.position.right?"right:"+this.position.right+"; ":"",i}initFAB(){this.fabHTML&&(this.destroyFAB(),this.fabInstance=M.FloatingActionButton.init(this.fabHTML.nativeElement,this.options))}destroyFAB(){this.fabInstance&&this.fabInstance.destroy()}}return s.\u0275fac=function(i){return new(i||s)},s.\u0275cmp=m.Xpm({type:s,selectors:[["app-floating-action-button"]],viewQuery:function(i,o){if(1&i&&m.Gf(OG,5),2&i){let u;m.iGM(u=m.CRH())&&(o.fabHTML=u.first)}},inputs:{options:"options",position:"position"},features:[m.TTD],ngContentSelectors:PG,decls:3,vars:2,consts:[[1,"fixed-action-btn"],["FAB",""]],template:function(i,o){1&i&&(m.F$t(),m.TgZ(0,"div",0,1),m.Hsn(2),m.qZA()),2&i&&m.Akn(o.fabStyle)},styles:[""]}),s})();function FG(s,r){if(1&s){const i=m.EpF();m.TgZ(0,"li"),m.TgZ(1,"a",7),m.NdJ("click",function(){return m.CHM(i).$implicit.clickFn()}),m._UZ(2,"fa-icon",6),m.qZA(),m.qZA()}if(2&s){const i=r.$implicit;m.xp6(1),m.Q6J("title",i.title),m.xp6(1),m.Q6J("icon",i.icon)}}const UG=function(){return{direction:"bottom"}},BG=function(){return{top:"10px",right:"10px"}};function jG(s,r){if(1&s){const i=m.EpF();m.TgZ(0,"app-floating-action-button",1),m.TgZ(1,"a",2),m._UZ(2,"fa-icon",3),m.qZA(),m.TgZ(3,"ul"),m.YNc(4,FG,3,2,"li",4),m.TgZ(5,"li"),m.TgZ(6,"a",5),m.NdJ("click",function(){return m.CHM(i),m.oxw().logout()}),m._UZ(7,"fa-icon",6),m.qZA(),m.qZA(),m.qZA(),m.qZA()}if(2&s){const i=m.oxw();m.Q6J("options",m.DdM(6,UG))("position",m.DdM(7,BG)),m.xp6(2),m.Q6J("icon",i.userIcon),m.xp6(2),m.Q6J("ngForOf",i.extraMenus)("ngForTrackBy",i.trackMenu),m.xp6(3),m.Q6J("icon",i.logoutIcon)}}let $G=(()=>{class s{constructor(i,o){this.loginService=i,this.menuMgr=o,this.showFAB=!1,this.userIcon=Ab,this.logoutIcon=jM,this.userName="",this.extraMenus=[],this.subscriptions=new pr.w,this.subscriptions.add(i.changeAuthStatus.subscribe(u=>{this.showFAB=u,this.userName=i.getUserData().name})),this.subscriptions.add(o.changeMenu.subscribe(u=>{this.extraMenus=u}))}trackMenu(i,o){return o.id}ngOnDestroy(){this.subscriptions.unsubscribe()}logout(){this.loginService.logout()}}return s.\u0275fac=function(i){return new(i||s)(m.Y36(x9),m.Y36(WM))},s.\u0275cmp=m.Xpm({type:s,selectors:[["app-user-info"]],decls:1,vars:1,consts:[[3,"options","position",4,"ngIf"],[3,"options","position"],["title","userName",1,"btn-floating","btn-large","purple","darken-4","purple-text","text-lighten-5"],["size","lg",3,"icon"],[4,"ngFor","ngForOf","ngForTrackBy"],[1,"btn-floating","purple","darken-4","purple-text","text-lighten-5",3,"click"],[3,"icon"],[1,"btn-floating","purple","darken-4","purple-text","text-lighten-5",3,"title","click"]],template:function(i,o){1&i&&m.YNc(0,jG,8,8,"app-floating-action-button",0),2&i&&m.Q6J("ngIf",o.showFAB)},directives:[rr,HG,bc,Pr],styles:[""]}),s})();const GG=["modal"],WG=["*"];let Sb=(()=>{class s{constructor(){this.show=!1,this.showChange=new m.vpe,this.onClose=new m.vpe,this.isOpen4Real=!1,this.show=!1}ngOnDestroy(){this.modal&&this.modal.destroy()}ngOnChanges(i){i.show&&(this.show?this.openModal():this.closeModal())}openModal(){!this.isOpen4Real&&this.modal&&(this.modal.open(),this.isOpen4Real=!0,this.showChange.emit(!0))}closeModal(){this.isOpen4Real&&this.modal&&(this.modal.close(),this.isOpen4Real=!1,this.show=!1,this.onClose.emit(),this.showChange.emit(!1))}ngAfterViewInit(){this.modalHTML&&(this.modal=M.Modal.init(this.modalHTML.nativeElement,{onCloseEnd:()=>{this.onClose.emit(),this.isOpen4Real=!1,this.show=!1,this.showChange.emit(!1)}})),this.isOpen4Real=!1,this.show&&this.openModal()}}return s.\u0275fac=function(i){return new(i||s)},s.\u0275cmp=m.Xpm({type:s,selectors:[["app-modal-window"]],viewQuery:function(i,o){if(1&i&&m.Gf(GG,5),2&i){let u;m.iGM(u=m.CRH())&&(o.modalHTML=u.first)}},inputs:{show:"show"},outputs:{showChange:"showChange",onClose:"onClose"},features:[m.TTD],ngContentSelectors:WG,decls:3,vars:0,consts:[[1,"modal"],["modal",""]],template:function(i,o){1&i&&(m.F$t(),m.TgZ(0,"div",0,1),m.Hsn(2),m.qZA())},styles:[""]}),s})(),dy=(()=>{class s{constructor(){}ngOnInit(){}}return s.\u0275fac=function(i){return new(i||s)},s.\u0275cmp=m.Xpm({type:s,selectors:[["app-loading-animation"]],decls:8,vars:0,consts:[[1,"preloader-wrapper","big","active"],[1,"spinner-layer","spinner-blue-only"],[1,"circle-clipper","left"],[1,"circle"],[1,"gap-patch"],[1,"circle-clipper","right"]],template:function(i,o){1&i&&(m.TgZ(0,"div",0),m.TgZ(1,"div",1),m.TgZ(2,"div",2),m._UZ(3,"div",3),m.qZA(),m.TgZ(4,"div",4),m._UZ(5,"div",3),m.qZA(),m.TgZ(6,"div",5),m._UZ(7,"div",3),m.qZA(),m.qZA(),m.qZA())},styles:[""]}),s})();function ZG(s,r){if(1&s&&(m.ynx(0),m.TgZ(1,"div",7),m.TgZ(2,"div",8),m._UZ(3,"fa-icon",9),m._UZ(4,"input",10),m.TgZ(5,"label",11),m._uU(6,"E-mail"),m.qZA(),m._UZ(7,"span",12),m.qZA(),m.TgZ(8,"div",8),m._UZ(9,"fa-icon",9),m._UZ(10,"input",13),m.TgZ(11,"label",14),m._uU(12,"Password"),m.qZA(),m.qZA(),m.qZA(),m.BQk()),2&s){const i=m.oxw();m.xp6(1),m.Q6J("formGroup",i.userDataForm),m.xp6(2),m.Q6J("icon",i.faAt),m.xp6(6),m.Q6J("icon",i.faKey)}}function qG(s,r){1&s&&(m.ynx(0),m._UZ(1,"app-loading-animation"),m.BQk())}function KG(s,r){if(1&s&&(m.ynx(0),m.TgZ(1,"div",15),m.TgZ(2,"div",16),m._UZ(3,"fa-icon",17),m.qZA(),m.TgZ(4,"div",18),m.TgZ(5,"p"),m._uU(6),m.qZA(),m.qZA(),m.qZA(),m.BQk()),2&s){const i=m.oxw();m.xp6(3),m.Q6J("icon",i.errorIcon),m.xp6(3),m.Oqu(i.errorMessage)}}function YG(s,r){if(1&s){const i=m.EpF();m.TgZ(0,"button",19),m.NdJ("click",function(){return m.CHM(i),m.oxw().cancel()}),m._uU(1," Cancel "),m.qZA()}}function QG(s,r){if(1&s){const i=m.EpF();m.TgZ(0,"button",20),m.NdJ("click",function(){return m.CHM(i),m.oxw().logIn()}),m._uU(1," Sign In "),m.qZA()}if(2&s){const i=m.oxw();m.Q6J("disabled",i.userDataForm.invalid)}}function JG(s,r){if(1&s){const i=m.EpF();m.TgZ(0,"button",21),m.NdJ("click",function(){return m.CHM(i),m.oxw().retry()}),m._uU(1," Retry "),m.qZA()}}let XG=(()=>{class s{constructor(i){this.loginService=i,this.faKey=FM,this.faAt=Mb,this.errorIcon=Eb,this.onErrorMessage=!1,this.loading=!1,this.withCancelBtn=!1,this.errorMessage="",this.showModal=!1,this.subscriptions=new pr.w,this.userDataForm=new ua({email:new p2("",[q2.required,q2.email,q2.pattern("[a-z0-9!#$%&'*+/=?^_`{|}~-]+(?:\\.[a-z0-9!#$%&'*+/=?^_`{|}~-]+)*@(?:[a-z0-9](?:[a-z0-9-]*[a-z0-9])?\\.)+[a-z0-9](?:[a-z0-9-]*[a-z0-9])?")]),password:new p2("",[q2.required])}),this.subscriptions.add(i.showModal.subscribe(o=>{this.retry(),this.showModal=!0,this.withCancelBtn=o})),this.subscriptions.add(i.sendMessages.subscribe(o=>{"error"==o.type&&(this.onErrorMessage=!0,this.loading=!1,this.errorMessage=o.message)})),this.subscriptions.add(i.changeAuthStatus.subscribe(o=>{this.showModal=!o}))}ngOnDestroy(){this.subscriptions.unsubscribe()}logIn(){var i,o,u,f;(null===(i=this.userDataForm.get("email"))||void 0===i?void 0:i.value)&&(null===(o=this.userDataForm.get("password"))||void 0===o?void 0:o.value)&&this.loginService.authenticateUser(null===(u=this.userDataForm.get("email"))||void 0===u?void 0:u.value,null===(f=this.userDataForm.get("password"))||void 0===f?void 0:f.value,!0)}retry(){this.onErrorMessage=!1,this.loading=!1,this.errorMessage="",this.withCancelBtn=!1}cancel(){this.loginService.cancelModal.emit(),this.showModal=!1}onClose(){this.retry()}}return s.\u0275fac=function(i){return new(i||s)(m.Y36(x9))},s.\u0275cmp=m.Xpm({type:s,selectors:[["app-login-modal"]],decls:9,vars:7,consts:[[3,"show","showChange","onClose"],[1,"modal-content"],[4,"ngIf"],[1,"modal-footer"],["class","waves-effect waves-red btn-flat",3,"click",4,"ngIf"],["class","waves-effect waves-purple btn-flat",3,"disabled","click",4,"ngIf"],["class","waves-effect waves-purple btn-flat",3,"click",4,"ngIf"],[1,"row",3,"formGroup"],[1,"input-field","col","s12"],[1,"prefix",3,"icon"],["id","logemail","type","email","formControlName","email",1,"validate"],["for","logemail"],["data-error","Invalid e-mail",1,"helper-text"],["id","logname","type","password","formControlName","password",1,"validate"],["for","logname"],[1,"row","red-text","text-darken-4"],[1,"col","s12","center-align"],["size","10x",3,"icon"],[1,"col","s12"],[1,"waves-effect","waves-red","btn-flat",3,"click"],[1,"waves-effect","waves-purple","btn-flat",3,"disabled","click"],[1,"waves-effect","waves-purple","btn-flat",3,"click"]],template:function(i,o){1&i&&(m.TgZ(0,"app-modal-window",0),m.NdJ("showChange",function(f){return o.showModal=f})("onClose",function(){return o.onClose()}),m.TgZ(1,"div",1),m.YNc(2,ZG,13,3,"ng-container",2),m.YNc(3,qG,2,0,"ng-container",2),m.YNc(4,KG,7,2,"ng-container",2),m.qZA(),m.TgZ(5,"div",3),m.YNc(6,YG,2,0,"button",4),m.YNc(7,QG,2,1,"button",5),m.YNc(8,JG,2,0,"button",6),m.qZA(),m.qZA()),2&i&&(m.Q6J("show",o.showModal),m.xp6(2),m.Q6J("ngIf",!o.onErrorMessage&&!o.loading),m.xp6(1),m.Q6J("ngIf",o.loading),m.xp6(1),m.Q6J("ngIf",o.onErrorMessage),m.xp6(2),m.Q6J("ngIf",!o.onErrorMessage&&!o.loading&&o.withCancelBtn),m.xp6(1),m.Q6J("ngIf",!o.onErrorMessage&&!o.loading),m.xp6(1),m.Q6J("ngIf",o.onErrorMessage))},directives:[Sb,rr,X2,zi,bc,ra,Di,cc,dy],styles:[""]}),s})(),eW=(()=>{class s{constructor(){this.title="solvingApp"}}return s.\u0275fac=function(i){return new(i||s)},s.\u0275cmp=m.Xpm({type:s,selectors:[["app-root"]],decls:3,vars:0,template:function(i,o){1&i&&(m._UZ(0,"router-outlet"),m._UZ(1,"app-user-info"),m._UZ(2,"app-login-modal"))},directives:[xb,$G,XG],styles:[""]}),s})();var R2=R(2527);let qM=(()=>{class s{constructor(){}set(i,o){var u=R2.enc.Utf8.parse(i),f=R2.enc.Utf8.parse(i);return R2.AES.encrypt(R2.enc.Utf8.parse(o.toString()),u,{keySize:16,iv:f,mode:R2.mode.CBC,padding:R2.pad.Pkcs7}).toString()}get(i,o){var u=R2.enc.Utf8.parse(i),f=R2.enc.Utf8.parse(i);return R2.AES.decrypt(o,u,{keySize:16,iv:f,mode:R2.mode.CBC,padding:R2.pad.Pkcs7}).toString(R2.enc.Utf8)}}return s.\u0275fac=function(i){return new(i||s)},s.\u0275prov=m.Yz7({token:s,factory:s.\u0275fac,providedIn:"root"}),s})();function tW(s,r){if(1&s){const i=m.EpF();m.TgZ(0,"a",4),m.NdJ("click",function(){const f=m.CHM(i).$implicit;return m.oxw(2).selectUser(f)}),m.TgZ(1,"div",5),m.TgZ(2,"div",6),m.TgZ(3,"span",7),m._uU(4),m.qZA(),m.TgZ(5,"p"),m._uU(6),m.ALo(7,"date"),m._UZ(8,"br"),m._uU(9),m.qZA(),m.qZA(),m.TgZ(10,"div",8),m._UZ(11,"fa-icon",9),m.qZA(),m.qZA(),m.qZA()}if(2&s){const i=r.$implicit,o=m.oxw(2);m.xp6(4),m.Oqu(i.fullName),m.xp6(2),m.Oqu(m.xi3(7,4,i.lastUpdate,"d/MMMM/y hh:mm:ss")),m.xp6(3),m.Oqu(i.email),m.xp6(2),m.Q6J("icon",o.nextIcon)}}function nW(s,r){if(1&s&&(m.TgZ(0,"div",2),m.YNc(1,tW,12,7,"a",3),m.qZA()),2&s){const i=m.oxw();m.xp6(1),m.Q6J("ngForOf",i.users)}}function rW(s,r){1&s&&m._UZ(0,"app-loading-animation")}let iW=(()=>{class s{constructor(){this.currentUser=new m.vpe,this.nextIcon=VM,this.users=[]}selectUser(i){this.currentUser.emit(i.userID)}}return s.\u0275fac=function(i){return new(i||s)},s.\u0275cmp=m.Xpm({type:s,selectors:[["app-user-selector"]],inputs:{users:"users"},outputs:{currentUser:"currentUser"},decls:2,vars:2,consts:[["class","collection",4,"ngIf"],[4,"ngIf"],[1,"collection"],["class","collection-item",3,"click",4,"ngFor","ngForOf"],[1,"collection-item",3,"click"],[1,"row","valign-wrapper"],[1,"col","s10"],[1,"title"],[1,"col","s2"],[1,"secondary-content",3,"icon"]],template:function(i,o){1&i&&(m.YNc(0,nW,2,1,"div",0),m.YNc(1,rW,1,0,"app-loading-animation",1)),2&i&&(m.Q6J("ngIf",o.users),m.xp6(1),m.Q6J("ngIf",!o.users))},directives:[rr,Pr,bc,dy],pipes:[x0],styles:[""]}),s})(),KM=(()=>{class s{transform(i,o){let u=this.getTime(i),f="";return f=o?this.parseFormat(o,u):this.defaultFormat(u),f}getTime(i){let o={days:0,hours:0,minutes:0,seconds:0,miliseconds:0};return o.miliseconds=i,o.seconds=Math.floor(i/1e3),o.miliseconds=o.miliseconds-1e3*o.seconds,o.minutes=Math.floor(o.seconds/60),o.seconds=o.seconds-60*o.minutes,o.hours=Math.floor(o.minutes/60),o.minutes=o.minutes-60*o.hours,o.days=Math.floor(o.hours/24),o.hours=o.hours-24*o.days,o}defaultFormat(i){let o="";return o=this.formatMiddleDays(i.days,!1),o+=this.formatMiddleHours(i.hours,!1),o+=this.formatMiddleMinutes(i.minutes,!1),o+=this.formatMiddleSeconds(i.seconds,!1),o+=this.formatMiddleMiliseconds(i.miliseconds,!1),o}parseFormat(i,o){let u=this.getFormatStructure(i);return this.adjustTimeDown(o,u),this.adjustTimeUp(o,u),this.buidlString(o,u)}adjustTimeDown(i,o){this.structureHasType("d",o)||(i.hours=24*i.days+i.hours),this.structureHasType("h",o)||(i.minutes=60*i.hours+i.minutes),this.structureHasType("M",o)||(i.seconds=60*i.minutes+i.seconds),this.structureHasType("s",o)||(i.miliseconds=1e3*i.seconds+i.miliseconds)}adjustTimeUp(i,o){this.structureHasType("m",o)||(i.seconds=i.miliseconds>500?i.seconds+1:i.seconds),this.structureHasType("s",o)||(i.minutes=i.seconds>30?i.minutes+1:i.minutes),this.structureHasType("M",o)||(i.hours=i.minutes>30?i.hours+1:i.hours),this.structureHasType("h",o)||(i.days=i.hours>12?i.days+1:i.days)}buidlString(i,o){let u="";return o.forEach(f=>{u+=f.hasOwnProperty("id")?this.printData(f,i):f.separator}),u}getFormatStructure(i){let o=[],u="",f=0,v=["d","M","h","s","m"];for(let x of i)v.includes(x)?u==x?f++:(this.addStructure(u,f,!1,o),u=x,f=1):(f>0?(this.addStructure(u,f,"?"==x,o),u="?"==x?"":x):u+=x,f=0);return i&&i.length>0&&"?"!=i[i.length-1]&&this.addStructure(u,f,!1,o),o}addStructure(i,o,u,f){i&&f.push(o>0?{id:i,len:o,optional:u}:{separator:i})}structureHasType(i,o){return!(!o||!o.find(u=>u.hasOwnProperty("id")&&u.id==i))}printData(i,o){let u={d:()=>this.addDays(i.len,i.optional,o.days),h:()=>this.addHours(i.len,i.optional,o.hours),M:()=>this.addMinutes(i.len,i.optional,o.minutes),s:()=>this.addSeconds(i.len,i.optional,o.seconds),m:()=>this.addMiliseconds(i.len,i.optional,o.miliseconds)}[i.id];return u?u():""}addDays(i,o,u){return this.addTime(i,o,u,this.formatMiddleDays,this.formatLargeDays)}addHours(i,o,u){return this.addTime(i,o,u,this.formatMiddleHours,this.formatLargeHours)}addMinutes(i,o,u){return this.addTime(i,o,u,this.formatMiddleMinutes,this.formatLargeMinutes)}addSeconds(i,o,u){return this.addTime(i,o,u,this.formatMiddleSeconds,this.formatLargeSeconds)}addMiliseconds(i,o,u){return this.addTime(i,o,u,this.formatMiddleMiliseconds,this.formatLargeMiliseconds)}addTime(i,o,u,f,v){let x={1:()=>this.formatShort(u,!1),2:()=>this.formatShort(u,!0),3:()=>f(u,!0),4:()=>v(u,!0)}[i];return 0==u&&o||!x?"":x()}formatLargeDays(i,o){return this.formatText(i,o,"days","day")}formatMiddleDays(i,o){return this.formatText(i,o,"d","d")}formatLargeHours(i,o){return this.formatText(i,o,"hours","hour")}formatMiddleHours(i,o){return this.formatText(i,o,"hrs","hr")}formatLargeMinutes(i,o){return this.formatText(i,o,"minutes","minute")}formatMiddleMinutes(i,o){return this.formatText(i,o,"mins","min")}formatLargeSeconds(i,o){return this.formatText(i,o,"seconds","second")}formatMiddleSeconds(i,o){return this.formatText(i,o,"secs","sec")}formatLargeMiliseconds(i,o){return this.formatText(i,o,"miliseconds","milisecond")}formatMiddleMiliseconds(i,o){return this.formatText(i,o,"ms","ms")}formatShortMiliseconds(i,o){return i>10?i.toString():"0"+i.toString()}formatShort(i,o){return i>10?i.toString():"0"+i.toString()}formatText(i,o,u,f){return u=u.trim()+" ",f=f.trim()+" ",i>0?i.toString()+(i>1?f:u):o?"0 "+f:""}}return s.\u0275fac=function(i){return new(i||s)},s.\u0275pipe=m.Yjl({name:"time",type:s,pure:!0}),s})();function sW(s,r){if(1&s&&m._UZ(0,"fa-icon",10),2&s){const i=m.oxw(3);m.Q6J("icon",i.selectedIcon)}}function oW(s,r){if(1&s){const i=m.EpF();m.TgZ(0,"a",4),m.NdJ("click",function(){const f=m.CHM(i).$implicit;return m.oxw(2).selectCode(f)}),m.TgZ(1,"div",5),m.TgZ(2,"div",6),m.TgZ(3,"span",7),m._uU(4),m.qZA(),m.TgZ(5,"p"),m._uU(6),m.ALo(7,"date"),m._UZ(8,"br"),m._uU(9),m.ALo(10,"time"),m.qZA(),m.qZA(),m.TgZ(11,"div",8),m.YNc(12,sW,1,1,"fa-icon",9),m.qZA(),m.qZA(),m.qZA()}if(2&s){const i=r.$implicit,o=m.oxw(2);m.xp6(4),m.Oqu(i.projectName),m.xp6(2),m.hij(" ",m.xi3(7,4,i.creationDate,"d/MMMM/y hh:mm:ss")," "),m.xp6(3),m.hij(" ",m.xi3(10,7,i.timeElapse,"hh:MM:ss")," "),m.xp6(3),m.Q6J("ngIf",o.currentSelectedItem==i.realIndex)}}function aW(s,r){if(1&s&&(m.TgZ(0,"div",2),m.YNc(1,oW,13,10,"a",3),m.qZA()),2&s){const i=m.oxw();m.xp6(1),m.Q6J("ngForOf",i.codeList)}}function cW(s,r){1&s&&m._UZ(0,"app-loading-animation")}let lW=(()=>{class s{constructor(){this.codeSelected=new m.vpe,this.currentSelectedItem=-1,this.selectedIcon=RM,this.codeList=[]}selectCode(i){this.codeSelected.emit(i.realIndex),this.currentSelectedItem=i.realIndex}}return s.\u0275fac=function(i){return new(i||s)},s.\u0275cmp=m.Xpm({type:s,selectors:[["app-code-selector"]],inputs:{codeList:"codeList"},outputs:{codeSelected:"codeSelected"},decls:2,vars:2,consts:[["class","collection",4,"ngIf"],[4,"ngIf"],[1,"collection"],["class","collection-item",3,"click",4,"ngFor","ngForOf"],[1,"collection-item",3,"click"],[1,"row","valign-wrapper"],[1,"col","s10"],[1,"title"],[1,"col","s2"],["class","secondary-content",3,"icon",4,"ngIf"],[1,"secondary-content",3,"icon"]],template:function(i,o){1&i&&(m.YNc(0,aW,2,1,"div",0),m.YNc(1,cW,1,0,"app-loading-animation",1)),2&i&&(m.Q6J("ngIf",o.codeList),m.xp6(1),m.Q6J("ngIf",!o.codeList))},directives:[rr,Pr,bc,dy],pipes:[x0,KM],styles:[""]}),s})();function uW(s,r){if(1&s){const i=m.EpF();m.TgZ(0,"app-code-selector",9),m.NdJ("codeSelected",function(u){return m.CHM(i),m.oxw().onSelectCode(u)}),m.qZA()}if(2&s){const i=m.oxw();m.Q6J("codeList",i.codeList)}}function hW(s,r){if(1&s){const i=m.EpF();m.TgZ(0,"button",10),m.NdJ("click",function(){return m.CHM(i),m.oxw().sendCode()}),m._uU(1," Show "),m.qZA()}if(2&s){const i=m.oxw();m.Q6J("disabled",!i.currentCode)}}let fW=(()=>{class s{constructor(i,o,u,f){this.firestore=i,this.authService=o,this.msgService=u,this.cryptoService=f,this.showModal=!1,this.selectedCode=new m.vpe,this.onClose=new m.vpe,this.showModalChange=new m.vpe,this.onLoading=!0,this.collection=null,this.userDataList=null,this.codeList=null,this.subscriptions=new pr.w,this.codesSended=i.collection("usorisNotitia"),this.onLoading=!0,this.subscriptions.add(this.codesSended.valueChanges().subscribe(v=>{this.collection=v,this.userDataList=this.generateUserDataList(),this.codeList=null,this.onLoading=!1},v=>{u.showErrorMessage("Can't get DataTransfer, Are you sign in?<br/>Error: "+v.toStrong())}))}ngOnDestroy(){this.subscriptions.unsubscribe()}onSelectUser(i){var o;let u=null===(o=this.userDataList)||void 0===o?void 0:o.find(f=>f.userID==i);u&&(this.codeList=this.generateCodeDataList(u))}onSelectCode(i){this.currentCodeList&&i>=0&&i<this.currentCodeList.length&&(this.currentCode=this.currentCodeList[i])}sendCode(){setTimeout(()=>{this.selectedCode.emit(this.currentCode)},1e3)}generateUserDataList(){return this.collection?this.collection.map(i=>(i.email=this.cryptoService.get(this.authService.getAuthSessionToken(),i.email),i.fullName=this.cryptoService.get(this.authService.getAuthSessionToken(),i.fullName),{email:i.email,fullName:i.fullName,lastUpdate:this.calculateLastModified(i.codeSendIt),userID:this.authService.buildUniqueName(i.email)})):[]}calculateLastModified(i){let o=new Date(0);return i.length>0&&(o=this.authService.timeStamp2Date(i[0].timeStamp),i.forEach(u=>{let f=this.authService.timeStamp2Date(u.timeStamp);f>o&&(o=f)})),o}generateCodeDataList(i){let o=this.collection?this.collection.find(f=>f.email==i.email):void 0,u=[];return o&&(this.currentCodeList=o.codeSendIt,this.currentCode=void 0,u=o.codeSendIt.map((f,v)=>({creationDate:this.authService.timeStamp2Date(f.timeStamp),projectName:f.problemName,realIndex:v,timeElapse:1e3*f.secondsElapsed}))),u}}return s.\u0275fac=function(i){return new(i||s)(m.Y36(g),m.Y36(x9),m.Y36(fy),m.Y36(qM))},s.\u0275cmp=m.Xpm({type:s,selectors:[["app-code-selection-modal"]],inputs:{showModal:"showModal"},outputs:{selectedCode:"selectedCode",onClose:"onClose",showModalChange:"showModalChange"},decls:10,vars:4,consts:[[3,"show","showChange","onClose"],[1,"modal-content"],[1,"row"],[1,"col","s12"],[1,"col","s12","m6"],[3,"users","currentUser"],[3,"codeList","codeSelected",4,"ngIf"],[1,"modal-footer"],["class","modal-close waves-effect waves-purple btn-flat",3,"disabled","click",4,"ngIf"],[3,"codeList","codeSelected"],[1,"modal-close","waves-effect","waves-purple","btn-flat",3,"disabled","click"]],template:function(i,o){1&i&&(m.TgZ(0,"app-modal-window",0),m.NdJ("showChange",function(f){return o.showModal=f})("onClose",function(){return o.onClose.emit()})("showChange",function(){return o.showModalChange.emit(o.showModal)}),m.TgZ(1,"div",1),m.TgZ(2,"div",2),m._UZ(3,"div",3),m.TgZ(4,"div",4),m.TgZ(5,"app-user-selector",5),m.NdJ("currentUser",function(f){return o.onSelectUser(f)}),m.qZA(),m.qZA(),m.TgZ(6,"div",4),m.YNc(7,uW,1,1,"app-code-selector",6),m.qZA(),m.qZA(),m.qZA(),m.TgZ(8,"div",7),m.YNc(9,hW,2,1,"button",8),m.qZA(),m.qZA()),2&i&&(m.Q6J("show",o.showModal),m.xp6(5),m.Q6J("users",o.userDataList),m.xp6(2),m.Q6J("ngIf",o.codeList),m.xp6(2),m.Q6J("ngIf",o.currentCodeList))},directives:[Sb,iW,rr,lW],styles:[""]}),s})();const YM_loadScript=function(s,r,i,o,u){window.ng2recaptchaloaded=()=>{r(grecaptcha)};const f=document.createElement("script");f.innerHTML="",f.src=`${o||"https://www.google.com/recaptcha/api.js"}?render=${s}&onload=ng2recaptchaloaded${i}`,u&&(f.nonce=u),f.async=!0,f.defer=!0,document.head.appendChild(f)},QM=new m.OlP("recaptcha-language"),JM=new m.OlP("recaptcha-base-url"),XM=new m.OlP("recaptcha-nonce-tag"),Ib=(new m.OlP("recaptcha-settings"),new m.OlP("recaptcha-v3-site-key"));let nE=(()=>{class s{constructor(i,o,u,f,v,x){this.onLoadComplete=S=>{this.grecaptcha=S,this.actionBacklog&&this.actionBacklog.length>0&&(this.actionBacklog.forEach(([L,P])=>this.executeActionWithSubject(L,P)),this.actionBacklog=void 0)},this.zone=i,this.isBrowser=function(s){return"browser"===s}(u),this.siteKey=o,this.nonce=v,this.language=x,this.baseUrl=f,this.init()}get onExecute(){return this.onExecuteSubject||(this.onExecuteSubject=new Zi.xQ,this.onExecuteObservable=this.onExecuteSubject.asObservable()),this.onExecuteObservable}get onExecuteError(){return this.onExecuteErrorSubject||(this.onExecuteErrorSubject=new Zi.xQ,this.onExecuteErrorObservable=this.onExecuteErrorSubject.asObservable()),this.onExecuteErrorObservable}execute(i){const o=new Zi.xQ;return this.isBrowser&&(this.grecaptcha?this.executeActionWithSubject(i,o):(this.actionBacklog||(this.actionBacklog=[]),this.actionBacklog.push([i,o]))),o.asObservable()}executeActionWithSubject(i,o){const u=f=>{this.zone.run(()=>{o.error(f),this.onExecuteErrorSubject&&this.onExecuteErrorSubject.next({action:i,error:f})})};this.zone.runOutsideAngular(()=>{try{this.grecaptcha.execute(this.siteKey,{action:i}).then(f=>{this.zone.run(()=>{o.next(f),o.complete(),this.onExecuteSubject&&this.onExecuteSubject.next({action:i,token:f})})},u)}catch(f){u(f)}})}init(){this.isBrowser&&("grecaptcha"in window?this.grecaptcha=grecaptcha:YM_loadScript(this.siteKey,this.onLoadComplete,this.language?"&hl="+this.language:"",this.baseUrl,this.nonce))}}return s.\u0275fac=function(i){return new(i||s)(m.LFG(m.R0b),m.LFG(Ib),m.LFG(m.Lbi),m.LFG(JM,8),m.LFG(XM,8),m.LFG(QM,8))},s.\u0275prov=m.Yz7({token:s,factory:s.\u0275fac}),s})(),vW=(()=>{class s{}return s.\u0275fac=function(i){return new(i||s)},s.\u0275mod=m.oAB({type:s}),s.\u0275inj=m.cJS({providers:[nE]}),s})();function yW(s,r){if(1&s&&(m.ynx(0),m.TgZ(1,"h3"),m._uU(2,"Who are you?"),m.qZA(),m.TgZ(3,"p"),m._uU(4,"Please give me some information about you:"),m.qZA(),m.TgZ(5,"div",6),m.TgZ(6,"div",7),m._UZ(7,"fa-icon",8),m._UZ(8,"input",9),m.TgZ(9,"label",10),m._uU(10,"Full Name"),m.qZA(),m.qZA(),m.TgZ(11,"div",7),m._UZ(12,"fa-icon",8),m._UZ(13,"input",11),m.TgZ(14,"label",12),m._uU(15,"E-mail"),m.qZA(),m._UZ(16,"span",13),m.qZA(),m.qZA(),m.BQk()),2&s){const i=m.oxw();m.xp6(5),m.Q6J("formGroup",i.userDataForm),m.xp6(2),m.Q6J("icon",i.faUser),m.xp6(5),m.Q6J("icon",i.faAt)}}function _W(s,r){1&s&&(m.ynx(0),m._UZ(1,"app-loading-animation"),m.BQk())}function CW(s,r){if(1&s&&(m.ynx(0),m.TgZ(1,"div",14),m.TgZ(2,"div",15),m._UZ(3,"fa-icon",16),m.qZA(),m.TgZ(4,"div",17),m.TgZ(5,"p"),m._uU(6),m.qZA(),m.qZA(),m.qZA(),m.BQk()),2&s){const i=m.oxw();m.xp6(3),m.Q6J("icon",i.errorIcon),m.xp6(3),m.Oqu(i.errorMessage)}}function xW(s,r){if(1&s){const i=m.EpF();m.TgZ(0,"button",18),m.NdJ("click",function(){return m.CHM(i),m.oxw().retry()}),m._uU(1," Send "),m.qZA()}}function bW(s,r){if(1&s){const i=m.EpF();m.TgZ(0,"button",19),m.NdJ("click",function(){return m.CHM(i),m.oxw().sendData()}),m._uU(1," Send "),m.qZA()}if(2&s){const i=m.oxw();m.Q6J("disabled",i.userDataForm.invalid)}}let wW=(()=>{class s{constructor(i,o,u,f,v){this.firestore=i,this.authService=o,this.toastService=u,this.recaptchaV3Service=f,this.cryptService=v,this.showModal=!1,this.codeCreated="",this.problemName="",this.startedDate=new Date,this.dataSending=new m.vpe,this.showModalChange=new m.vpe,this.onSendData=!0,this.onSending=!1,this.faUser=Ab,this.faAt=Mb,this.errorIcon=Eb,this.userDataForm=new ua({name:new p2("",q2.required),email:new p2("",[q2.required,q2.email,q2.pattern("[a-z0-9!#$%&'*+/=?^_`{|}~-]+(?:\\.[a-z0-9!#$%&'*+/=?^_`{|}~-]+)*@(?:[a-z0-9](?:[a-z0-9-]*[a-z0-9])?\\.)+[a-z0-9](?:[a-z0-9-]*[a-z0-9])?")])}),this.errorMessage="",this.subscriptions=new pr.w,this.captchaSubscription=null,this.codesSended=i.collection("usorisNotitia")}ngOnDestroy(){this.subscriptions.unsubscribe(),this.captchaSubscription&&this.captchaSubscription.unsubscribe()}sendData(){this.onSending=!0,this.onSendData=!1,this.captchaSubscription&&this.captchaSubscription.unsubscribe(),this.captchaSubscription=this.recaptchaV3Service.execute("sendCode").subscribe(i=>{this.sendCode()},i=>{this.onError(i)})}retry(){this.onSendData=!0,this.errorMessage=""}onClose(){this.retry()}sendCode(){var i;let o=this.authService.buildUniqueName(null===(i=this.userDataForm.get("email"))||void 0===i?void 0:i.value),u=this.codesSended.doc(o).valueChanges();this.subscriptions.add(u.subscribe(f=>{this.subscriptions.unsubscribe(),f?this.updateDataDB(this.codesSended.doc(o),f):this.addDataDB(this.codesSended.doc(o))},f=>{this.onError(f)}))}onError(i){this.onSending=!1,this.errorMessage=i.toString(),console.error(i.toString())}addDataDB(i){i.set(this.buildItemDB()).then(o=>{this.onSavedSucessfully()}).catch(o=>{console.error(o.toString()),this.onWrongSave("Error while creating a new entry: "+(o&&o.message?o.message:o?o.toString():"Unknown"))})}updateDataDB(i,o){var u;o.fullName=this.cryptService.set(this.authService.getAuthSessionToken(),null===(u=this.userDataForm.get("name"))||void 0===u?void 0:u.value),o.codeSendIt.push(this.buildCodeData()),i.update(o).then(f=>{this.onSavedSucessfully()}).catch(f=>{console.error(f.toString()),this.onWrongSave("Error while updating a entry: "+(f&&f.message?f.message:f?f.toString():"Unknown"))})}buildItemDB(){var i,o;return{fullName:this.cryptService.set(this.authService.getAuthSessionToken(),null===(i=this.userDataForm.get("name"))||void 0===i?void 0:i.value),email:this.cryptService.set(this.authService.getAuthSessionToken(),null===(o=this.userDataForm.get("email"))||void 0===o?void 0:o.value),codeSendIt:[this.buildCodeData()]}}buildCodeData(){return{code:this.codeCreated,secondsElapsed:((new Date).getTime()-this.startedDate.getTime())/1e3,timeStamp:this.authService.date2TimeStamp(new Date),problemName:this.problemName}}onSavedSucessfully(){this.onSending=!1,this.toastService.showSuccessMessage("Send it sucessfully. Thanks and good luck!"),this.dataSending.emit()}onWrongSave(i){this.onSending=!1,this.errorMessage=i}}return s.\u0275fac=function(i){return new(i||s)(m.Y36(g),m.Y36(x9),m.Y36(fy),m.Y36(nE),m.Y36(qM))},s.\u0275cmp=m.Xpm({type:s,selectors:[["app-send-code-modal"]],inputs:{showModal:"showModal",codeCreated:"codeCreated",problemName:"problemName",startedDate:"startedDate"},outputs:{dataSending:"dataSending",showModalChange:"showModalChange"},decls:8,vars:6,consts:[[3,"show","showChange","onClose"],[1,"modal-content"],[4,"ngIf"],[1,"modal-footer"],["class","waves-effect waves-red btn-flat",3,"click",4,"ngIf"],["class","waves-effect waves-purple btn-flat",3,"disabled","click",4,"ngIf"],[1,"row",3,"formGroup"],[1,"input-field","col","s12"],[1,"prefix",3,"icon"],["id","name","type","text","formControlName","name",1,"validate"],["for","name"],["id","email","type","email","formControlName","email",1,"validate"],["for","email"],["data-error","Invalid e-mail",1,"helper-text"],[1,"row","red-text","text-darken-4"],[1,"col","s12","center-align"],[3,"icon"],[1,"col","s12"],[1,"waves-effect","waves-red","btn-flat",3,"click"],[1,"waves-effect","waves-purple","btn-flat",3,"disabled","click"]],template:function(i,o){1&i&&(m.TgZ(0,"app-modal-window",0),m.NdJ("showChange",function(f){return o.showModal=f})("onClose",function(){return o.onClose()})("showChange",function(){return o.showModalChange.emit(o.showModal)}),m.TgZ(1,"div",1),m.YNc(2,yW,17,3,"ng-container",2),m.YNc(3,_W,2,0,"ng-container",2),m.YNc(4,CW,7,2,"ng-container",2),m.qZA(),m.TgZ(5,"div",3),m.YNc(6,xW,2,0,"button",4),m.YNc(7,bW,2,1,"button",5),m.qZA(),m.qZA()),2&i&&(m.Q6J("show",o.showModal),m.xp6(2),m.Q6J("ngIf",o.onSendData&&!o.errorMessage),m.xp6(1),m.Q6J("ngIf",o.onSending),m.xp6(1),m.Q6J("ngIf",!o.onSending&&o.errorMessage),m.xp6(2),m.Q6J("ngIf",!o.onSending&&o.errorMessage),m.xp6(1),m.Q6J("ngIf",o.onSendData&&!o.errorMessage))},directives:[Sb,rr,X2,zi,bc,ra,Di,cc,dy],styles:[""]}),s})(),MW=(()=>{class s{}return s.\u0275fac=function(i){return new(i||s)},s.\u0275mod=m.oAB({type:s,bootstrap:[eW]}),s.\u0275inj=m.cJS({providers:[{provide:i9,useValue:"none"},{provide:Ib,useValue:"6LdftHUcAAAAAAfI3ip2l6ryMwC6h1Re6aJq29pb"}],imports:[[s2,kG,W0,qe,at,hf,Db.forRoot(),x2.hO.initializeApp({apiKey:"AIzaSyAWj0k2aSfxHRxhmeWxYkZcB6pCsAto-gs",authDomain:"githubdata-6209c.firebaseapp.com",projectId:"githubdata-6209c",storageBucket:"githubdata-6209c.appspot.com",messagingSenderId:"115638315471",appId:"1:115638315471:web:a67749cd0aa24d65fb4aba"}),_,Tw,vW]]}),s})();m.B6R(ZM,[rr,bc,Oo,v2,Di,c8,wW,fW],[KM]),(0,m.G48)(),Y5().bootstrapModule(MW).catch(s=>console.error(s))},4762:(Ve,Ce,R)=>{"use strict";R.d(Ce,{ZT:()=>U,pi:()=>B,_T:()=>X,mG:()=>H,Jh:()=>O,XA:()=>k,CR:()=>T,ev:()=>J});var m=function(pe,ee){return(m=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(se,ve){se.__proto__=ve}||function(se,ve){for(var ie in ve)Object.prototype.hasOwnProperty.call(ve,ie)&&(se[ie]=ve[ie])})(pe,ee)};function U(pe,ee){if("function"!=typeof ee&&null!==ee)throw new TypeError("Class extends value "+String(ee)+" is not a constructor or null");function se(){this.constructor=pe}m(pe,ee),pe.prototype=null===ee?Object.create(ee):(se.prototype=ee.prototype,new se)}var B=function(){return(B=Object.assign||function(ee){for(var se,ve=1,ie=arguments.length;ve<ie;ve++)for(var ue in se=arguments[ve])Object.prototype.hasOwnProperty.call(se,ue)&&(ee[ue]=se[ue]);return ee}).apply(this,arguments)};function X(pe,ee){var se={};for(var ve in pe)Object.prototype.hasOwnProperty.call(pe,ve)&&ee.indexOf(ve)<0&&(se[ve]=pe[ve]);if(null!=pe&&"function"==typeof Object.getOwnPropertySymbols){var ie=0;for(ve=Object.getOwnPropertySymbols(pe);ie<ve.length;ie++)ee.indexOf(ve[ie])<0&&Object.prototype.propertyIsEnumerable.call(pe,ve[ie])&&(se[ve[ie]]=pe[ve[ie]])}return se}function H(pe,ee,se,ve){return new(se||(se=Promise))(function(ue,De){function We(ze){try{Me(ve.next(ze))}catch(Pe){De(Pe)}}function rt(ze){try{Me(ve.throw(ze))}catch(Pe){De(Pe)}}function Me(ze){ze.done?ue(ze.value):function(ue){return ue instanceof se?ue:new se(function(De){De(ue)})}(ze.value).then(We,rt)}Me((ve=ve.apply(pe,ee||[])).next())})}function O(pe,ee){var ve,ie,ue,De,se={label:0,sent:function(){if(1&ue[0])throw ue[1];return ue[1]},trys:[],ops:[]};return De={next:We(0),throw:We(1),return:We(2)},"function"==typeof Symbol&&(De[Symbol.iterator]=function(){return this}),De;function We(Me){return function(ze){return function(Me){if(ve)throw new TypeError("Generator is already executing.");for(;se;)try{if(ve=1,ie&&(ue=2&Me[0]?ie.return:Me[0]?ie.throw||((ue=ie.return)&&ue.call(ie),0):ie.next)&&!(ue=ue.call(ie,Me[1])).done)return ue;switch(ie=0,ue&&(Me=[2&Me[0],ue.value]),Me[0]){case 0:case 1:ue=Me;break;case 4:return se.label++,{value:Me[1],done:!1};case 5:se.label++,ie=Me[1],Me=[0];continue;case 7:Me=se.ops.pop(),se.trys.pop();continue;default:if(!(ue=(ue=se.trys).length>0&&ue[ue.length-1])&&(6===Me[0]||2===Me[0])){se=0;continue}if(3===Me[0]&&(!ue||Me[1]>ue[0]&&Me[1]<ue[3])){se.label=Me[1];break}if(6===Me[0]&&se.label<ue[1]){se.label=ue[1],ue=Me;break}if(ue&&se.label<ue[2]){se.label=ue[2],se.ops.push(Me);break}ue[2]&&se.ops.pop(),se.trys.pop();continue}Me=ee.call(pe,se)}catch(ze){Me=[6,ze],ie=0}finally{ve=ue=0}if(5&Me[0])throw Me[1];return{value:Me[0]?Me[1]:void 0,done:!0}}([Me,ze])}}}function k(pe){var ee="function"==typeof Symbol&&Symbol.iterator,se=ee&&pe[ee],ve=0;if(se)return se.call(pe);if(pe&&"number"==typeof pe.length)return{next:function(){return pe&&ve>=pe.length&&(pe=void 0),{value:pe&&pe[ve++],done:!pe}}};throw new TypeError(ee?"Object is not iterable.":"Symbol.iterator is not defined.")}function T(pe,ee){var se="function"==typeof Symbol&&pe[Symbol.iterator];if(!se)return pe;var ie,De,ve=se.call(pe),ue=[];try{for(;(void 0===ee||ee-- >0)&&!(ie=ve.next()).done;)ue.push(ie.value)}catch(We){De={error:We}}finally{try{ie&&!ie.done&&(se=ve.return)&&se.call(ve)}finally{if(De)throw De.error}}return ue}function J(pe,ee,se){if(se||2===arguments.length)for(var ue,ve=0,ie=ee.length;ve<ie;ve++)(ue||!(ve in ee))&&(ue||(ue=Array.prototype.slice.call(ee,0,ve)),ue[ve]=ee[ve]);return pe.concat(ue||Array.prototype.slice.call(ee))}},2480:()=>{},8239:(Ve,Ce,R)=>{"use strict";function m(B,X,oe,Y,ne,H,O){try{var V=B[H](O),N=V.value}catch(k){return void oe(k)}V.done?X(N):Promise.resolve(N).then(Y,ne)}function U(B){return function(){var X=this,oe=arguments;return new Promise(function(Y,ne){var H=B.apply(X,oe);function O(N){m(H,Y,ne,O,V,"next",N)}function V(N){m(H,Y,ne,O,V,"throw",N)}O(void 0)})}}R.d(Ce,{Z:()=>U})}},Ve=>{Ve(Ve.s=88)}]);